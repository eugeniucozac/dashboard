{"ast":null,"code":"import _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectWithoutProperties from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\ClaimsTab\\\\ClaimsTabTableRow.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory, useLocation } from 'react-router';\nimport PropTypes from 'prop-types'; // app\n\nimport { ClaimsTabTableRowView } from './ClaimsTabTableRow.view';\nimport { showModal, hideModal, setClaimsStepperControl, selectClaimsProcessingItem } from 'stores';\nimport { Breadcrumb } from 'components';\nimport * as constants from 'consts';\nimport * as utils from 'utils';\nimport config from 'config'; // mui\n\nimport { Typography } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nClaimsTabTableRow.prototype = {\n  claim: PropTypes.object.isRequired,\n  isSelected: PropTypes.bool,\n  isMultiSelect: PropTypes.bool,\n  columnProps: PropTypes.object.isRequired,\n  handlers: PropTypes.shape({\n    clickClaim: PropTypes.func.isRequired,\n    selectClaim: PropTypes.func.isRequired\n  }).isRequired\n};\nexport function ClaimsTabTableRow(_ref) {\n  _s();\n\n  var _this = this;\n\n  var claim = _ref.claim,\n      handlers = _ref.handlers,\n      rest = _objectWithoutProperties(_ref, [\"claim\", \"handlers\"]);\n\n  var dispatch = useDispatch();\n  var history = useHistory();\n  var location = useLocation();\n  var isFormDirtyRef = useRef(false);\n  var pathname = history.location.pathname;\n  var isDraft = (claim === null || claim === void 0 ? void 0 : claim.status) === constants.STATUS_CLAIMS_DRAFT;\n  var breadcrumbs = [{\n    name: 'lossRef',\n    label: utils.string.t('claims.loss.text', {\n      lossRef: claim === null || claim === void 0 ? void 0 : claim.lossRef\n    }),\n    link: pathname,\n    active: true\n  }, {\n    name: 'claimRef',\n    label: \"\".concat(utils.string.t('claims.rfiDashboard.breadCrumbs.claimRef', {\n      claimRef: claim === null || claim === void 0 ? void 0 : claim.claimReference\n    })),\n    link: pathname,\n    active: true,\n    largeFont: true\n  }];\n\n  var setFormDirty = function setFormDirty(isDirty) {\n    isFormDirtyRef.current = isDirty;\n  };\n\n  var confirmHideModal = function confirmHideModal(modalName) {\n    if (isFormDirtyRef.current) {\n      dispatch(showModal({\n        component: 'CONFIRM',\n        props: {\n          title: utils.string.t('navigation.form.subtitle'),\n          hint: utils.string.t('navigation.form.title'),\n          fullWidth: true,\n          maxWidth: 'xs',\n          componentProps: {\n            cancelLabel: utils.string.t('app.no'),\n            confirmLabel: utils.string.t('app.yes'),\n            submitHandler: function submitHandler() {\n              dispatch(hideModal(modalName));\n            }\n          }\n        }\n      }));\n    } else {\n      dispatch(hideModal(modalName));\n    }\n  };\n\n  var handleChangeComplexityPriorityAssignmentClaim = function handleChangeComplexityPriorityAssignmentClaim(claim) {\n    dispatch(showModal({\n      component: 'CHANGE_COMPLEXITY_PRIORITY_ASSIGNMENT',\n      props: {\n        title: 'claims.processing.summary.buttons.changeComplexityPriorityAssignment',\n        fullWidth: true,\n        maxWidth: 'sm',\n        hideCompOnBlur: false,\n        componentProps: {\n          claims: [claim],\n          setIsDirty: setFormDirty,\n          clickXHandler: function clickXHandler() {\n            confirmHideModal('CHANGE_COMPLEXITY_PRIORITY_ASSIGNMENT');\n          },\n          cancelHandler: function cancelHandler() {\n            confirmHideModal('CHANGE_COMPLEXITY_PRIORITY_ASSIGNMENT');\n          }\n        }\n      }\n    }));\n  };\n\n  var handleEditClaim = function handleEditClaim(claim) {\n    dispatch(setClaimsStepperControl(1));\n    history.push({\n      pathname: \"\".concat(config.routes.claimsFNOL.newLoss),\n      state: {\n        linkPolicy: {\n          isSearchTerm: true,\n          claimObj: claim\n        },\n        redirectUrl: location === null || location === void 0 ? void 0 : location.pathname\n      }\n    });\n  };\n\n  var handleCreateAdhoctask = function handleCreateAdhoctask(claim) {\n    dispatch(showModal({\n      component: 'CREATE_AD_HOC_TASK_WIZARD',\n      props: {\n        title: 'claims.processing.taskFunction.createAdhocTask',\n        fullWidth: true,\n        maxWidth: 'xl',\n        hideCompOnBlur: false,\n        componentProps: {\n          claim: claim\n        }\n      }\n    }));\n  };\n\n  var TitleWBreadCrumb = function TitleWBreadCrumb() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Breadcrumb, {\n        links: breadcrumbs\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h2\",\n        style: {\n          paddingLeft: '1.2rem'\n        },\n        children: utils.string.t('claims.processing.taskFunction.createRFI')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true);\n  };\n\n  var handleCreateRFIClaimLevel = function handleCreateRFIClaimLevel() {\n    dispatch(selectClaimsProcessingItem(claim, true));\n    dispatch(showModal({\n      component: 'CLAIMS_CREATE_RFI_STEPPER',\n      props: {\n        titleChildren: /*#__PURE__*/_jsxDEV(TitleWBreadCrumb, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 26\n        }, _this),\n        hideCompOnBlur: false,\n        fullWidth: true,\n        maxWidth: 'lg',\n        disableAutoFocus: true,\n        componentProps: {\n          claim: claim,\n          type: constants.RFI_ON_CLAIMS,\n          cancelHandler: function cancelHandler() {\n            dispatch(hideModal());\n          }\n        }\n      }\n    }));\n  };\n\n  var rowActions = [].concat(_toConsumableArray(isDraft ? [{\n    id: 'editClaim',\n    label: utils.string.t('claims.claimsTab.popOverButtonItems.editClaim'),\n    callback: function callback() {\n      return handleEditClaim(claim);\n    }\n  }] : []), _toConsumableArray(!isDraft ? [{\n    id: 'changeItems',\n    label: utils.string.t('claims.claimsTab.popOverButtonItems.changeItems'),\n    callback: function callback() {\n      return handleChangeComplexityPriorityAssignmentClaim(claim);\n    }\n  }] : []), [{\n    id: 'createRFI',\n    label: utils.string.t('claims.claimsTab.popOverButtonItems.createRFI'),\n    callback: function callback() {\n      return handleCreateRFIClaimLevel(claim);\n    }\n  }], _toConsumableArray(!isDraft ? [{\n    id: 'createAdhocTask',\n    label: utils.string.t('claims.claimsTab.popOverButtonItems.createAdhocTask'),\n    callback: function callback() {\n      return handleCreateAdhoctask(claim);\n    }\n  }] : []));\n  return /*#__PURE__*/_jsxDEV(ClaimsTabTableRowView, _objectSpread({\n    claim: claim,\n    rowActions: rowActions,\n    handlers: handlers\n  }, rest), void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 205,\n    columnNumber: 10\n  }, this);\n}\n\n_s(ClaimsTabTableRow, \"47DqBeGAMZxqCY+9MpKGBxuMJr8=\", false, function () {\n  return [useDispatch, useHistory, useLocation];\n});\n\n_c = ClaimsTabTableRow;\n\nvar _c;\n\n$RefreshReg$(_c, \"ClaimsTabTableRow\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/ClaimsTab/ClaimsTabTableRow.js"],"names":["React","useRef","useDispatch","useHistory","useLocation","PropTypes","ClaimsTabTableRowView","showModal","hideModal","setClaimsStepperControl","selectClaimsProcessingItem","Breadcrumb","constants","utils","config","Typography","ClaimsTabTableRow","prototype","claim","object","isRequired","isSelected","bool","isMultiSelect","columnProps","handlers","shape","clickClaim","func","selectClaim","rest","dispatch","history","location","isFormDirtyRef","pathname","isDraft","status","STATUS_CLAIMS_DRAFT","breadcrumbs","name","label","string","t","lossRef","link","active","claimRef","claimReference","largeFont","setFormDirty","isDirty","current","confirmHideModal","modalName","component","props","title","hint","fullWidth","maxWidth","componentProps","cancelLabel","confirmLabel","submitHandler","handleChangeComplexityPriorityAssignmentClaim","hideCompOnBlur","claims","setIsDirty","clickXHandler","cancelHandler","handleEditClaim","push","routes","claimsFNOL","newLoss","state","linkPolicy","isSearchTerm","claimObj","redirectUrl","handleCreateAdhoctask","TitleWBreadCrumb","paddingLeft","handleCreateRFIClaimLevel","titleChildren","disableAutoFocus","type","RFI_ON_CLAIMS","rowActions","id","callback"],"mappings":"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","sourcesContent":["import React, { useRef } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory, useLocation } from 'react-router';\r\nimport PropTypes from 'prop-types';\r\n\r\n// app\r\nimport { ClaimsTabTableRowView } from './ClaimsTabTableRow.view';\r\nimport { showModal, hideModal, setClaimsStepperControl, selectClaimsProcessingItem } from 'stores';\r\nimport { Breadcrumb } from 'components';\r\nimport * as constants from 'consts';\r\nimport * as utils from 'utils';\r\nimport config from 'config';\r\n\r\n// mui\r\nimport { Typography } from '@material-ui/core';\r\n\r\nClaimsTabTableRow.prototype = {\r\n  claim: PropTypes.object.isRequired,\r\n  isSelected: PropTypes.bool,\r\n  isMultiSelect: PropTypes.bool,\r\n  columnProps: PropTypes.object.isRequired,\r\n  handlers: PropTypes.shape({\r\n    clickClaim: PropTypes.func.isRequired,\r\n    selectClaim: PropTypes.func.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nexport function ClaimsTabTableRow({ claim, handlers, ...rest }) {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const isFormDirtyRef = useRef(false);\r\n\r\n  const { pathname } = history.location;\r\n\r\n  const isDraft = claim?.status === constants.STATUS_CLAIMS_DRAFT;\r\n\r\n  const breadcrumbs = [\r\n    {\r\n      name: 'lossRef',\r\n      label: utils.string.t('claims.loss.text', { lossRef: claim?.lossRef }),\r\n      link: pathname,\r\n      active: true,\r\n    },\r\n    {\r\n      name: 'claimRef',\r\n      label: `${utils.string.t('claims.rfiDashboard.breadCrumbs.claimRef', { claimRef: claim?.claimReference })}`,\r\n      link: pathname,\r\n      active: true,\r\n      largeFont: true,\r\n    },\r\n  ];\r\n\r\n  const setFormDirty = (isDirty) => {\r\n    isFormDirtyRef.current = isDirty;\r\n  };\r\n\r\n  const confirmHideModal = (modalName) => {\r\n    if (isFormDirtyRef.current) {\r\n      dispatch(\r\n        showModal({\r\n          component: 'CONFIRM',\r\n          props: {\r\n            title: utils.string.t('navigation.form.subtitle'),\r\n            hint: utils.string.t('navigation.form.title'),\r\n            fullWidth: true,\r\n            maxWidth: 'xs',\r\n            componentProps: {\r\n              cancelLabel: utils.string.t('app.no'),\r\n              confirmLabel: utils.string.t('app.yes'),\r\n              submitHandler: () => {\r\n                dispatch(hideModal(modalName));\r\n              },\r\n            },\r\n          },\r\n        })\r\n      );\r\n    } else {\r\n      dispatch(hideModal(modalName));\r\n    }\r\n  };\r\n\r\n  const handleChangeComplexityPriorityAssignmentClaim = (claim) => {\r\n    dispatch(\r\n      showModal({\r\n        component: 'CHANGE_COMPLEXITY_PRIORITY_ASSIGNMENT',\r\n        props: {\r\n          title: 'claims.processing.summary.buttons.changeComplexityPriorityAssignment',\r\n          fullWidth: true,\r\n          maxWidth: 'sm',\r\n          hideCompOnBlur: false,\r\n          componentProps: {\r\n            claims: [claim],\r\n            setIsDirty: setFormDirty,\r\n            clickXHandler: () => {\r\n              confirmHideModal('CHANGE_COMPLEXITY_PRIORITY_ASSIGNMENT');\r\n            },\r\n            cancelHandler: () => {\r\n              confirmHideModal('CHANGE_COMPLEXITY_PRIORITY_ASSIGNMENT');\r\n            },\r\n          },\r\n        },\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleEditClaim = (claim) => {\r\n    dispatch(setClaimsStepperControl(1));\r\n    history.push({\r\n      pathname: `${config.routes.claimsFNOL.newLoss}`,\r\n      state: {\r\n        linkPolicy: {\r\n          isSearchTerm: true,\r\n          claimObj: claim,\r\n        },\r\n        redirectUrl: location?.pathname,\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleCreateAdhoctask = (claim) => {\r\n    dispatch(\r\n      showModal({\r\n        component: 'CREATE_AD_HOC_TASK_WIZARD',\r\n        props: {\r\n          title: 'claims.processing.taskFunction.createAdhocTask',\r\n          fullWidth: true,\r\n          maxWidth: 'xl',\r\n          hideCompOnBlur: false,\r\n          componentProps: { claim },\r\n        },\r\n      })\r\n    );\r\n  };\r\n\r\n  const TitleWBreadCrumb = () => {\r\n    return (\r\n      <>\r\n        <Breadcrumb links={breadcrumbs} />\r\n        <Typography variant=\"h2\" style={{ paddingLeft: '1.2rem' }}>\r\n          {utils.string.t('claims.processing.taskFunction.createRFI')}\r\n        </Typography>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const handleCreateRFIClaimLevel = () => {\r\n    dispatch(selectClaimsProcessingItem(claim, true));\r\n    dispatch(\r\n      showModal({\r\n        component: 'CLAIMS_CREATE_RFI_STEPPER',\r\n        props: {\r\n          titleChildren: <TitleWBreadCrumb />,\r\n          hideCompOnBlur: false,\r\n          fullWidth: true,\r\n          maxWidth: 'lg',\r\n          disableAutoFocus: true,\r\n          componentProps: {\r\n            claim,\r\n            type: constants.RFI_ON_CLAIMS,\r\n            cancelHandler: () => {\r\n              dispatch(hideModal());\r\n            },\r\n          },\r\n        },\r\n      })\r\n    );\r\n  };\r\n\r\n  const rowActions = [\r\n    ...(isDraft\r\n      ? [\r\n          {\r\n            id: 'editClaim',\r\n            label: utils.string.t('claims.claimsTab.popOverButtonItems.editClaim'),\r\n            callback: () => handleEditClaim(claim),\r\n          },\r\n        ]\r\n      : []),\r\n    ...(!isDraft\r\n      ? [\r\n          {\r\n            id: 'changeItems',\r\n            label: utils.string.t('claims.claimsTab.popOverButtonItems.changeItems'),\r\n            callback: () => handleChangeComplexityPriorityAssignmentClaim(claim),\r\n          },\r\n        ]\r\n      : []),\r\n    {\r\n      id: 'createRFI',\r\n      label: utils.string.t('claims.claimsTab.popOverButtonItems.createRFI'),\r\n      callback: () => handleCreateRFIClaimLevel(claim),\r\n    },\r\n    ...(!isDraft\r\n      ? [\r\n          {\r\n            id: 'createAdhocTask',\r\n            label: utils.string.t('claims.claimsTab.popOverButtonItems.createAdhocTask'),\r\n            callback: () => handleCreateAdhoctask(claim),\r\n          },\r\n        ]\r\n      : []),\r\n  ];\r\n\r\n  return <ClaimsTabTableRowView claim={claim} rowActions={rowActions} handlers={handlers} {...rest} />;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}