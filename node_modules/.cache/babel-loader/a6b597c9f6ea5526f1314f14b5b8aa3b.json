{"ast":null,"code":"import _defineProperty from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\components\\\\FormPopoverMenuRHF\\\\FormPopoverMenuRHF.js\";\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\nimport classnames from 'classnames'; // app\n\nimport styles from './FormPopoverMenuRHF.styles';\nimport { Button, Translate } from 'components'; // mui\n\nimport { withStyles, Menu, MenuItem, RootRef } from '@material-ui/core';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { Controller } from 'react-hook-form';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var FormPopoverMenuRHF = /*#__PURE__*/function (_PureComponent) {\n  _inherits(FormPopoverMenuRHF, _PureComponent);\n\n  var _super = _createSuper(FormPopoverMenuRHF);\n\n  function FormPopoverMenuRHF(props) {\n    var _this;\n\n    _classCallCheck(this, FormPopoverMenuRHF);\n\n    _this = _super.call(this, props);\n\n    _this.handleOpen = function (event) {\n      event.stopPropagation();\n\n      _this.setState({\n        active: true\n      });\n    };\n\n    _this.handleClose = function (event) {\n      event.stopPropagation();\n\n      _this.setState({\n        active: false\n      });\n    };\n\n    _this.handleClick = function (callback) {\n      return function (event) {\n        event.stopPropagation();\n\n        _this.handleClose(event);\n\n        callback(_this.props.data);\n      };\n    };\n\n    _this.buttonRef = /*#__PURE__*/React.createRef();\n    _this.state = {\n      active: false\n    };\n    return _this;\n  }\n\n  _createClass(FormPopoverMenuRHF, [{\n    key: \"render\",\n    value: function render() {\n      var _classesContainer,\n          _classnames,\n          _classnames3,\n          _this2 = this;\n\n      var active = this.state.active;\n      var _this$props = this.props,\n          control = _this$props.control,\n          name = _this$props.name,\n          text = _this$props.text,\n          size = _this$props.size,\n          icon = _this$props.icon,\n          iconPosition = _this$props.iconPosition,\n          disabled = _this$props.disabled,\n          offset = _this$props.offset,\n          placeholder = _this$props.placeholder,\n          items = _this$props.items,\n          anchorOrigin = _this$props.anchorOrigin,\n          transformOrigin = _this$props.transformOrigin,\n          nestedClasses = _this$props.nestedClasses,\n          classes = _this$props.classes,\n          isUseFormHook = _this$props.isUseFormHook;\n      var isPopoverDisabled = !items || items.length <= 0;\n      var classesContainer = (_classesContainer = {}, _defineProperty(_classesContainer, classes.root, true), _defineProperty(_classesContainer, classes.btnOffset, text && offset), _defineProperty(_classesContainer, nestedClasses.root, Boolean(nestedClasses.root)), _classesContainer);\n      var classesButton = {\n        btn: classnames((_classnames = {}, _defineProperty(_classnames, classes.btn, Boolean(text)), _defineProperty(_classnames, nestedClasses.btn, Boolean(nestedClasses.btn)), _classnames)),\n        icon: classnames(_defineProperty({}, nestedClasses.icon, Boolean(nestedClasses.icon))),\n        label: classnames((_classnames3 = {}, _defineProperty(_classnames3, classes.label, Boolean(text)), _defineProperty(_classnames3, nestedClasses.label, Boolean(nestedClasses.label)), _classnames3))\n      };\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: classnames(classesContainer),\n        children: [/*#__PURE__*/_jsxDEV(RootRef, {\n          rootRef: this.buttonRef,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            icon: icon,\n            iconPosition: iconPosition,\n            text: text || placeholder,\n            size: size,\n            variant: \"text\",\n            light: true,\n            title: text,\n            \"aria-owns\": active ? \"\".concat(name, \"-popover\") : null,\n            \"aria-haspopup\": \"true\",\n            disabled: disabled || isPopoverDisabled,\n            onClick: this.handleOpen,\n            nestedClasses: classesButton,\n            \"data-testid\": \"\".concat(name, \"-popover-ellipsis\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 9\n        }, this), !isPopoverDisabled && (!isUseFormHook ? /*#__PURE__*/_jsxDEV(Menu, {\n          id: \"\".concat(name, \"-popover\"),\n          anchorEl: this.buttonRef.current,\n          getContentAnchorEl: null,\n          anchorOrigin: anchorOrigin,\n          transformOrigin: transformOrigin,\n          open: Boolean(active && this.buttonRef.current),\n          onClose: this.handleClose,\n          children: items.map(function (item) {\n            if (item.hidden) return null;\n            return /*#__PURE__*/_jsxDEV(MenuItem, {\n              onClick: _this2.handleClick(item.callback),\n              disabled: item.disabled,\n              children: /*#__PURE__*/_jsxDEV(Translate, {\n                label: item.label,\n                variant: \"inherit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 21\n              }, _this2)\n            }, item.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 19\n            }, _this2);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Controller, {\n          control: control,\n          name: name,\n          render: function render() {\n            return /*#__PURE__*/_jsxDEV(Menu, {\n              id: \"\".concat(name, \"-popover\"),\n              anchorEl: _this2.buttonRef.current,\n              getContentAnchorEl: null,\n              anchorOrigin: anchorOrigin,\n              transformOrigin: transformOrigin,\n              open: Boolean(active && _this2.buttonRef.current),\n              onClose: _this2.handleClose,\n              children: items.map(function (item) {\n                if (item.hidden) return null;\n                return /*#__PURE__*/_jsxDEV(MenuItem, {\n                  onClick: _this2.handleClick(item.callback),\n                  disabled: item.disabled,\n                  children: /*#__PURE__*/_jsxDEV(Translate, {\n                    label: item.label,\n                    variant: \"inherit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 25\n                  }, _this2)\n                }, item.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 23\n                }, _this2);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, _this2);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return FormPopoverMenuRHF;\n}(PureComponent);\nFormPopoverMenuRHF.propTypes = {\n  name: PropTypes.string.isRequired,\n  text: PropTypes.string,\n  icon: PropTypes.object,\n  iconPosition: PropTypes.oneOf(['left', 'right']),\n  size: PropTypes.oneOf(['xsmall', 'small', 'medium', 'large']),\n  disabled: PropTypes.bool,\n  hidden: PropTypes.bool,\n  offset: PropTypes.bool,\n  placeholder: PropTypes.string,\n  data: PropTypes.object,\n  anchorOrigin: PropTypes.object,\n  transformOrigin: PropTypes.object,\n  items: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    label: PropTypes.string.isRequired,\n    disabled: PropTypes.bool,\n    callback: PropTypes.func.isRequired\n  })).isRequired,\n  nestedClasses: PropTypes.shape({\n    root: PropTypes.string,\n    btn: PropTypes.string,\n    icon: PropTypes.string,\n    label: PropTypes.string\n  }),\n  isUseFormHook: PropTypes.bool\n};\nFormPopoverMenuRHF.defaultProps = {\n  icon: MoreVertIcon,\n  size: 'xsmall',\n  iconPosition: 'left',\n  nestedClasses: {},\n  isUseFormHook: false\n};\nexport default compose(withStyles(styles))(FormPopoverMenuRHF);","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/components/FormPopoverMenuRHF/FormPopoverMenuRHF.js"],"names":["React","PureComponent","PropTypes","compose","classnames","styles","Button","Translate","withStyles","Menu","MenuItem","RootRef","MoreVertIcon","Controller","FormPopoverMenuRHF","props","handleOpen","event","stopPropagation","setState","active","handleClose","handleClick","callback","data","buttonRef","createRef","state","control","name","text","size","icon","iconPosition","disabled","offset","placeholder","items","anchorOrigin","transformOrigin","nestedClasses","classes","isUseFormHook","isPopoverDisabled","length","classesContainer","root","btnOffset","Boolean","classesButton","btn","label","current","map","item","hidden","id","propTypes","string","isRequired","object","oneOf","bool","arrayOf","shape","oneOfType","number","func","defaultProps"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { compose } from 'redux';\r\nimport classnames from 'classnames';\r\n\r\n// app\r\nimport styles from './FormPopoverMenuRHF.styles';\r\nimport { Button, Translate } from 'components';\r\n\r\n// mui\r\nimport { withStyles, Menu, MenuItem, RootRef } from '@material-ui/core';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport { Controller } from 'react-hook-form';\r\n\r\nexport class FormPopoverMenuRHF extends PureComponent {\r\n  static propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    text: PropTypes.string,\r\n    icon: PropTypes.object,\r\n    iconPosition: PropTypes.oneOf(['left', 'right']),\r\n    size: PropTypes.oneOf(['xsmall', 'small', 'medium', 'large']),\r\n    disabled: PropTypes.bool,\r\n    hidden: PropTypes.bool,\r\n    offset: PropTypes.bool,\r\n    placeholder: PropTypes.string,\r\n    data: PropTypes.object,\r\n    anchorOrigin: PropTypes.object,\r\n    transformOrigin: PropTypes.object,\r\n    items: PropTypes.arrayOf(\r\n      PropTypes.shape({\r\n        id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n        label: PropTypes.string.isRequired,\r\n        disabled: PropTypes.bool,\r\n        callback: PropTypes.func.isRequired,\r\n      })\r\n    ).isRequired,\r\n    nestedClasses: PropTypes.shape({\r\n      root: PropTypes.string,\r\n      btn: PropTypes.string,\r\n      icon: PropTypes.string,\r\n      label: PropTypes.string,\r\n    }),\r\n    isUseFormHook: PropTypes.bool,\r\n  };\r\n\r\n  static defaultProps = {\r\n    icon: MoreVertIcon,\r\n    size: 'xsmall',\r\n    iconPosition: 'left',\r\n    nestedClasses: {},\r\n    isUseFormHook: false,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.buttonRef = React.createRef();\r\n\r\n    this.state = {\r\n      active: false,\r\n    };\r\n  }\r\n\r\n  handleOpen = (event) => {\r\n    event.stopPropagation();\r\n\r\n    this.setState({\r\n      active: true,\r\n    });\r\n  };\r\n\r\n  handleClose = (event) => {\r\n    event.stopPropagation();\r\n\r\n    this.setState({\r\n      active: false,\r\n    });\r\n  };\r\n\r\n  handleClick = (callback) => (event) => {\r\n    event.stopPropagation();\r\n\r\n    this.handleClose(event);\r\n    callback(this.props.data);\r\n  };\r\n\r\n  render() {\r\n    const { active } = this.state;\r\n    const {\r\n      control,\r\n      name,\r\n      text,\r\n      size,\r\n      icon,\r\n      iconPosition,\r\n      disabled,\r\n      offset,\r\n      placeholder,\r\n      items,\r\n      anchorOrigin,\r\n      transformOrigin,\r\n      nestedClasses,\r\n      classes,\r\n      isUseFormHook,\r\n    } = this.props;\r\n\r\n    const isPopoverDisabled = !items || items.length <= 0;\r\n\r\n    const classesContainer = {\r\n      [classes.root]: true,\r\n      [classes.btnOffset]: text && offset,\r\n      [nestedClasses.root]: Boolean(nestedClasses.root),\r\n    };\r\n\r\n    const classesButton = {\r\n      btn: classnames({\r\n        [classes.btn]: Boolean(text),\r\n        [nestedClasses.btn]: Boolean(nestedClasses.btn),\r\n      }),\r\n      icon: classnames({\r\n        [nestedClasses.icon]: Boolean(nestedClasses.icon),\r\n      }),\r\n      label: classnames({\r\n        [classes.label]: Boolean(text),\r\n        [nestedClasses.label]: Boolean(nestedClasses.label),\r\n      }),\r\n    };\r\n\r\n    return (\r\n      <span className={classnames(classesContainer)}>\r\n        <RootRef rootRef={this.buttonRef}>\r\n          <Button\r\n            icon={icon}\r\n            iconPosition={iconPosition}\r\n            text={text || placeholder}\r\n            size={size}\r\n            variant=\"text\"\r\n            light\r\n            title={text}\r\n            aria-owns={active ? `${name}-popover` : null}\r\n            aria-haspopup=\"true\"\r\n            disabled={disabled || isPopoverDisabled}\r\n            onClick={this.handleOpen}\r\n            nestedClasses={classesButton}\r\n            data-testid={`${name}-popover-ellipsis`}\r\n          />\r\n        </RootRef>\r\n\r\n        {!isPopoverDisabled &&\r\n          (!isUseFormHook ? (\r\n            <Menu\r\n              id={`${name}-popover`}\r\n              anchorEl={this.buttonRef.current}\r\n              getContentAnchorEl={null}\r\n              anchorOrigin={anchorOrigin}\r\n              transformOrigin={transformOrigin}\r\n              open={Boolean(active && this.buttonRef.current)}\r\n              onClose={this.handleClose}\r\n            >\r\n              {items.map((item) => {\r\n                if (item.hidden) return null;\r\n                return (\r\n                  <MenuItem key={item.id} onClick={this.handleClick(item.callback)} disabled={item.disabled}>\r\n                    <Translate label={item.label} variant=\"inherit\" />\r\n                  </MenuItem>\r\n                );\r\n              })}\r\n            </Menu>\r\n          ) : (\r\n            <Controller\r\n              control={control}\r\n              name={name}\r\n              render={() => (\r\n                <Menu\r\n                  id={`${name}-popover`}\r\n                  anchorEl={this.buttonRef.current}\r\n                  getContentAnchorEl={null}\r\n                  anchorOrigin={anchorOrigin}\r\n                  transformOrigin={transformOrigin}\r\n                  open={Boolean(active && this.buttonRef.current)}\r\n                  onClose={this.handleClose}\r\n                >\r\n                  {items.map((item) => {\r\n                    if (item.hidden) return null;\r\n                    return (\r\n                      <MenuItem key={item.id} onClick={this.handleClick(item.callback)} disabled={item.disabled}>\r\n                        <Translate label={item.label} variant=\"inherit\" />\r\n                      </MenuItem>\r\n                    );\r\n                  })}\r\n                </Menu>\r\n              )}\r\n            />\r\n          ))}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(withStyles(styles))(FormPopoverMenuRHF);\r\n"]},"metadata":{},"sourceType":"module"}