{"ast":null,"code":"import _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\OpeningMemoInfo\\\\OpeningMemoInfo.view.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { useSelector } from 'react-redux'; // app\n\nimport styles from './OpeningMemoInfo.styles';\nimport { FormAutocomplete, FormDate, FormLegend, FormRadio, FormSelect, FormText, Info } from 'components';\nimport { selectRefDataDepartmentBrokers } from 'stores';\nimport { PLACEMENT_DECLARATION } from 'consts';\nimport * as utils from 'utils'; // mui\n\nimport { Box, Grid, Collapse, Fade, makeStyles } from '@material-ui/core';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nOpeningMemoInfoView.propTypes = {\n  fields: PropTypes.array.isRequired,\n  formProps: PropTypes.object.isRequired\n};\nexport function OpeningMemoInfoView(_ref) {\n  _s();\n\n  var fields = _ref.fields,\n      formProps = _ref.formProps;\n  var control = formProps.control,\n      setValue = formProps.setValue,\n      trigger = formProps.trigger,\n      watch = formProps.watch,\n      errors = formProps.errors;\n  var classes = makeStyles(styles, {\n    name: 'OpeningMemoInfo'\n  })();\n  var users = useSelector(selectRefDataDepartmentBrokers);\n  var uniqueMarketReference = utils.form.getFieldProps(fields, 'uniqueMarketReference');\n\n  var inceptionDate = _objectSpread({}, utils.form.getFieldProps(fields, 'inceptionDate'));\n\n  if (inceptionDate.name === 'inceptionDate') {\n    inceptionDate.handleUpdate = function (id, value) {\n      var values = control.getValues();\n\n      if (Object.keys(values).includes('expiryDate') && !values.expiryDate) {\n        setValue('expiryDate', moment(value).add(1, 'y').toISOString());\n        trigger('expiryDate');\n      }\n    };\n  }\n\n  var autocompleteProps = {\n    options: users || [],\n    handleUpdate: function handleUpdate(id, changes) {\n      return setValue(id, changes[0], {\n        shouldDirty: true\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 4,\n        md: 3,\n        children: [/*#__PURE__*/_jsxDEV(Info, {\n          title: uniqueMarketReference.label,\n          description: uniqueMarketReference.value && uniqueMarketReference.value.toString().replace(/,/g, ', '),\n          avatarIcon: DescriptionIcon,\n          nestedClasses: {\n            root: classes.infoRoot,\n            details: classes.infoContent\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormRadio, _objectSpread(_objectSpread({}, utils.form.getFieldProps(fields, 'placementType', control, errors)), {}, {\n          muiFormGroupProps: {\n            className: classes.formRadio\n          }\n        }), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Fade, {\n          in: watch('placementType') === PLACEMENT_DECLARATION,\n          children: /*#__PURE__*/_jsxDEV(Collapse, {\n            in: watch('placementType') === PLACEMENT_DECLARATION,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              mt: 1,\n              children: /*#__PURE__*/_jsxDEV(FormText, _objectSpread({}, utils.form.getFieldProps(fields, 'attachedTo', control)), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 8,\n        md: 9,\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          ml: 5,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 3,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(FormLegend, {\n                text: utils.string.t('placement.openingMemo.summary.legends.policy'),\n                nestedClasses: {\n                  root: classes.legend\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              lg: 4,\n              children: /*#__PURE__*/_jsxDEV(FormSelect, _objectSpread({}, utils.form.getFieldProps(fields, 'newRenewalBusinessId', control)), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              lg: 4,\n              children: /*#__PURE__*/_jsxDEV(FormSelect, _objectSpread({}, utils.form.getFieldProps(fields, 'departmentId', control)), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              lg: 4,\n              children: /*#__PURE__*/_jsxDEV(FormText, _objectSpread({}, utils.form.getFieldProps(fields, 'reInsured', control)), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              xl: 4,\n              children: /*#__PURE__*/_jsxDEV(FormDate, _objectSpread({\n                control: control\n              }, inceptionDate), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              lg: 4,\n              children: /*#__PURE__*/_jsxDEV(FormDate, _objectSpread({}, utils.form.getFieldProps(fields, 'expiryDate', control)), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(FormLegend, {\n                text: utils.string.t('placement.openingMemo.summary.legends.client'),\n                nestedClasses: {\n                  root: classes.legendMargin\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              lg: 4,\n              children: /*#__PURE__*/_jsxDEV(FormText, _objectSpread({}, utils.form.getFieldProps(fields, 'invoicingClient', control)), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              lg: 4,\n              children: /*#__PURE__*/_jsxDEV(FormText, _objectSpread({}, utils.form.getFieldProps(fields, 'clientContactName', control)), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              lg: 4,\n              children: /*#__PURE__*/_jsxDEV(FormText, _objectSpread({}, utils.form.getFieldProps(fields, 'clientEmail', control)), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              lg: 4,\n              children: /*#__PURE__*/_jsxDEV(FormText, _objectSpread({}, utils.form.getFieldProps(fields, 'eocInvoiceContactName', control)), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              lg: 4,\n              children: /*#__PURE__*/_jsxDEV(FormText, _objectSpread({}, utils.form.getFieldProps(fields, 'eocInvoiceEmail', control)), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(FormLegend, {\n                text: utils.string.t('placement.openingMemo.summary.legends.broking'),\n                nestedClasses: {\n                  root: classes.legendMargin\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              lg: 4,\n              children: /*#__PURE__*/_jsxDEV(FormAutocomplete, _objectSpread(_objectSpread({}, utils.form.getFieldProps(fields, 'producingBroker', control)), autocompleteProps), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              lg: 4,\n              children: /*#__PURE__*/_jsxDEV(FormAutocomplete, _objectSpread(_objectSpread({}, utils.form.getFieldProps(fields, 'accountExecutive', control)), autocompleteProps), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              lg: 4,\n              children: /*#__PURE__*/_jsxDEV(FormAutocomplete, _objectSpread(_objectSpread({}, utils.form.getFieldProps(fields, 'placingBroker', control)), autocompleteProps), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              lg: 4,\n              children: /*#__PURE__*/_jsxDEV(FormAutocomplete, _objectSpread(_objectSpread({}, utils.form.getFieldProps(fields, 'originator', control)), autocompleteProps), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n\n_s(OpeningMemoInfoView, \"sx/aBQadEi3Xj/gxEkh8kVHzHlA=\", false, function () {\n  return [useSelector];\n});\n\n_c = OpeningMemoInfoView;\n\nvar _c;\n\n$RefreshReg$(_c, \"OpeningMemoInfoView\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/OpeningMemoInfo/OpeningMemoInfo.view.js"],"names":["React","PropTypes","moment","useSelector","styles","FormAutocomplete","FormDate","FormLegend","FormRadio","FormSelect","FormText","Info","selectRefDataDepartmentBrokers","PLACEMENT_DECLARATION","utils","Box","Grid","Collapse","Fade","makeStyles","DescriptionIcon","OpeningMemoInfoView","propTypes","fields","array","isRequired","formProps","object","control","setValue","trigger","watch","errors","classes","name","users","uniqueMarketReference","form","getFieldProps","inceptionDate","handleUpdate","id","value","values","getValues","Object","keys","includes","expiryDate","add","toISOString","autocompleteProps","options","changes","shouldDirty","root","label","toString","replace","infoRoot","details","infoContent","className","formRadio","string","t","legend","legendMargin"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport { useSelector } from 'react-redux';\r\n\r\n// app\r\nimport styles from './OpeningMemoInfo.styles';\r\nimport { FormAutocomplete, FormDate, FormLegend, FormRadio, FormSelect, FormText, Info } from 'components';\r\nimport { selectRefDataDepartmentBrokers } from 'stores';\r\nimport { PLACEMENT_DECLARATION } from 'consts';\r\nimport * as utils from 'utils';\r\n\r\n// mui\r\nimport { Box, Grid, Collapse, Fade, makeStyles } from '@material-ui/core';\r\nimport DescriptionIcon from '@material-ui/icons/Description';\r\n\r\nOpeningMemoInfoView.propTypes = {\r\n  fields: PropTypes.array.isRequired,\r\n  formProps: PropTypes.object.isRequired,\r\n};\r\n\r\nexport function OpeningMemoInfoView({ fields, formProps }) {\r\n  const { control, setValue, trigger, watch, errors } = formProps;\r\n  const classes = makeStyles(styles, { name: 'OpeningMemoInfo' })();\r\n\r\n  const users = useSelector(selectRefDataDepartmentBrokers);\r\n\r\n  const uniqueMarketReference = utils.form.getFieldProps(fields, 'uniqueMarketReference');\r\n\r\n  const inceptionDate = {\r\n    ...utils.form.getFieldProps(fields, 'inceptionDate'),\r\n  };\r\n  if (inceptionDate.name === 'inceptionDate') {\r\n    inceptionDate.handleUpdate = (id, value) => {\r\n      const values = control.getValues();\r\n\r\n      if (Object.keys(values).includes('expiryDate') && !values.expiryDate) {\r\n        setValue('expiryDate', moment(value).add(1, 'y').toISOString());\r\n        trigger('expiryDate');\r\n      }\r\n    };\r\n  }\r\n  const autocompleteProps = {\r\n    options: users || [],\r\n    handleUpdate: (id, changes) => setValue(id, changes[0], { shouldDirty: true }),\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container>\r\n        <Grid item xs={12} sm={4} md={3}>\r\n          <Info\r\n            title={uniqueMarketReference.label}\r\n            description={uniqueMarketReference.value && uniqueMarketReference.value.toString().replace(/,/g, ', ')}\r\n            avatarIcon={DescriptionIcon}\r\n            nestedClasses={{\r\n              root: classes.infoRoot,\r\n              details: classes.infoContent,\r\n            }}\r\n          />\r\n          <FormRadio\r\n            {...utils.form.getFieldProps(fields, 'placementType', control, errors)}\r\n            muiFormGroupProps={{ className: classes.formRadio }}\r\n          />\r\n          <Fade in={watch('placementType') === PLACEMENT_DECLARATION}>\r\n            <Collapse in={watch('placementType') === PLACEMENT_DECLARATION}>\r\n              <Box mt={1}>\r\n                <FormText {...utils.form.getFieldProps(fields, 'attachedTo', control)} />\r\n              </Box>\r\n            </Collapse>\r\n          </Fade>\r\n        </Grid>\r\n        <Grid item xs={12} sm={8} md={9}>\r\n          <Box ml={5}>\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12}>\r\n                <FormLegend\r\n                  text={utils.string.t('placement.openingMemo.summary.legends.policy')}\r\n                  nestedClasses={{\r\n                    root: classes.legend,\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6} lg={4}>\r\n                <FormSelect {...utils.form.getFieldProps(fields, 'newRenewalBusinessId', control)} />\r\n              </Grid>\r\n              <Grid item xs={12} md={6} lg={4}>\r\n                <FormSelect {...utils.form.getFieldProps(fields, 'departmentId', control)} />\r\n              </Grid>\r\n              <Grid item xs={12} md={6} lg={4}>\r\n                <FormText {...utils.form.getFieldProps(fields, 'reInsured', control)} />\r\n              </Grid>\r\n              <Grid item xs={12} md={6} xl={4}>\r\n                <FormDate control={control} {...inceptionDate} />\r\n              </Grid>\r\n              <Grid item xs={12} md={6} lg={4}>\r\n                <FormDate {...utils.form.getFieldProps(fields, 'expiryDate', control)} />\r\n              </Grid>\r\n\r\n              <Grid item xs={12}>\r\n                <FormLegend\r\n                  text={utils.string.t('placement.openingMemo.summary.legends.client')}\r\n                  nestedClasses={{\r\n                    root: classes.legendMargin,\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6} lg={4}>\r\n                <FormText {...utils.form.getFieldProps(fields, 'invoicingClient', control)} />\r\n              </Grid>\r\n              <Grid item xs={12} md={6} lg={4}>\r\n                <FormText {...utils.form.getFieldProps(fields, 'clientContactName', control)} />\r\n              </Grid>\r\n              <Grid item xs={12} md={6} lg={4}>\r\n                <FormText {...utils.form.getFieldProps(fields, 'clientEmail', control)} />\r\n              </Grid>\r\n              <Grid item xs={12} md={6} lg={4}>\r\n                <FormText {...utils.form.getFieldProps(fields, 'eocInvoiceContactName', control)} />\r\n              </Grid>\r\n              <Grid item xs={12} md={6} lg={4}>\r\n                <FormText {...utils.form.getFieldProps(fields, 'eocInvoiceEmail', control)} />\r\n              </Grid>\r\n\r\n              <Grid item xs={12}>\r\n                <FormLegend\r\n                  text={utils.string.t('placement.openingMemo.summary.legends.broking')}\r\n                  nestedClasses={{\r\n                    root: classes.legendMargin,\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6} lg={4}>\r\n                <FormAutocomplete {...utils.form.getFieldProps(fields, 'producingBroker', control)} {...autocompleteProps} />\r\n              </Grid>\r\n              <Grid item xs={12} md={6} lg={4}>\r\n                <FormAutocomplete {...utils.form.getFieldProps(fields, 'accountExecutive', control)} {...autocompleteProps} />\r\n              </Grid>\r\n              <Grid item xs={12} md={6} lg={4}>\r\n                <FormAutocomplete {...utils.form.getFieldProps(fields, 'placingBroker', control)} {...autocompleteProps} />\r\n              </Grid>\r\n              <Grid item xs={12} md={6} lg={4}>\r\n                <FormAutocomplete {...utils.form.getFieldProps(fields, 'originator', control)} {...autocompleteProps} />\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}