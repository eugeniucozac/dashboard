{"ast":null,"code":"import _defineProperty from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\forms\\\\AddProductsFacility\\\\AddProductsFacility.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux'; // app\n\nimport { AddProductsFacilityView } from './AddProductsFacility.view';\nimport { postFacility, getCarriers, getRiskProducts, getPricerModule, getProgramUsers, selectPartyCarriersSorted, selectProductsSorted, selectPricerModuleSorted, selectPartyNotifiedUsersSorted } from 'stores';\nimport * as utils from 'utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nAddProductsFacility.propTypes = {\n  fields: PropTypes.array.isRequired,\n  options: PropTypes.shape({\n    products: PropTypes.array.isRequired,\n    carriers: PropTypes.array.isRequired,\n    clients: PropTypes.array.isRequired\n  }).isRequired,\n  handleClose: PropTypes.func.isRequired\n};\nAddProductsFacility.defaultProps = {\n  handleClose: function handleClose() {}\n};\nexport default function AddProductsFacility(_ref) {\n  _s();\n\n  var fields = _ref.fields,\n      optionsProps = _ref.options,\n      handleClose = _ref.handleClose;\n  var dispatch = useDispatch();\n  var products = useSelector(selectProductsSorted);\n  var carriers = useSelector(selectPartyCarriersSorted);\n  var pricerModule = useSelector(selectPricerModuleSorted);\n  var notifiedUsers = useSelector(selectPartyNotifiedUsersSorted);\n  var productsLoading = useSelector(function (state) {\n    return state.risk.products.loading;\n  });\n  var carriersLoading = useSelector(function (state) {\n    return state.party.carriers.loading;\n  });\n  var programUsersLoading = useSelector(function (state) {\n    return state.party.notifiedUsers.loading;\n  });\n  var isLoading = productsLoading || carriersLoading || programUsersLoading;\n  var optionsRef = useRef({\n    products: products,\n    carriers: carriers,\n    pricerModule: pricerModule,\n    notifiedUsers: notifiedUsers\n  });\n\n  var _useState = useState({\n    products: products,\n    carriers: carriers,\n    pricerModule: pricerModule,\n    notifiedUsers: notifiedUsers\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      options = _useState2[0],\n      setOptions = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      selectedProductCode = _useState4[0],\n      setSelectedProductCode = _useState4[1];\n\n  useEffect(function () {\n    if (!utils.generic.isValidArray(options.products, true)) {\n      dispatch(getRiskProducts());\n    }\n\n    dispatch(getCarriers({\n      size: 1000\n    }));\n\n    if (!utils.generic.isValidArray(options.notifiedUsers, true)) {\n      dispatch(getProgramUsers());\n    }\n  }, [] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  useEffect(function () {\n    if (!products) return;\n    updateOptions('products', products);\n  }, [products]);\n  useEffect(function () {\n    if (!carriers) return;\n    updateOptions('carriers', carriers);\n  }, [carriers]);\n  useEffect(function () {\n    if (!pricerModule) return;\n    updateOptions('pricerModule', pricerModule);\n  }, [pricerModule]);\n  useEffect(function () {\n    if (!notifiedUsers) return;\n    updateOptions('notifiedUsers', notifiedUsers);\n  }, [notifiedUsers]);\n  useEffect(function () {\n    if (selectedProductCode) {\n      dispatch(getPricerModule(selectedProductCode));\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [selectedProductCode]);\n\n  var updateOptions = function updateOptions(key, obj) {\n    optionsRef.current = _objectSpread(_objectSpread({}, optionsRef.current), {}, _defineProperty({}, key, obj));\n    setOptions(_objectSpread({}, optionsRef.current));\n  };\n\n  var hydrateOptions = function hydrateOptions(fields) {\n    if (!fields) return [];\n    return fields.map(function (field) {\n      return _objectSpread(_objectSpread(_objectSpread({}, field), field.name === 'productCode' && {\n        handleUpdate: function handleUpdate(name, value) {\n          setSelectedProductCode(value);\n        }\n      }), {}, {\n        muiComponentProps: _objectSpread(_objectSpread({}, field.muiComponentProps), field.name === 'pricerCode' && !selectedProductCode && {\n          disabled: true\n        })\n      }, field.optionsDynamicKey && {\n        options: utils.form.getSelectOptions(field.optionsDynamicKey, _defineProperty({}, field.optionsDynamicKey, options[field.optionsDynamicKey]))\n      });\n    });\n  };\n\n  var handleSubmit = function handleSubmit(values) {\n    return dispatch(postFacility(values));\n  };\n\n  var handleCancel = function handleCancel() {\n    if (utils.generic.isFunction(handleClose)) {\n      handleClose();\n    }\n  };\n\n  var actions = [{\n    name: 'submit',\n    label: utils.string.t('products.admin.facilities.create'),\n    handler: handleSubmit\n  }, {\n    name: 'cancel',\n    label: utils.string.t('app.cancel'),\n    handler: handleCancel\n  }];\n  var hasFields = utils.generic.isValidArray(fields, true);\n  var hydratedFields = [hydrateOptions(fields)]; // abort\n\n  if (!hasFields) return null;\n  return /*#__PURE__*/_jsxDEV(AddProductsFacilityView, {\n    fields: hydratedFields,\n    actions: actions,\n    loading: isLoading,\n    defaultValues: utils.form.getInitialValues(hydratedFields),\n    validationSchema: utils.form.getValidationSchema(hydratedFields)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddProductsFacility, \"MXVuIh1DfEYUiwlqeTVVHa2yzxk=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = AddProductsFacility;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddProductsFacility\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/forms/AddProductsFacility/AddProductsFacility.js"],"names":["React","useEffect","useState","useRef","useCallback","PropTypes","useDispatch","useSelector","AddProductsFacilityView","postFacility","getCarriers","getRiskProducts","getPricerModule","getProgramUsers","selectPartyCarriersSorted","selectProductsSorted","selectPricerModuleSorted","selectPartyNotifiedUsersSorted","utils","AddProductsFacility","propTypes","fields","array","isRequired","options","shape","products","carriers","clients","handleClose","func","defaultProps","optionsProps","dispatch","pricerModule","notifiedUsers","productsLoading","state","risk","loading","carriersLoading","party","programUsersLoading","isLoading","optionsRef","setOptions","selectedProductCode","setSelectedProductCode","generic","isValidArray","size","updateOptions","key","obj","current","hydrateOptions","map","field","name","handleUpdate","value","muiComponentProps","disabled","optionsDynamicKey","form","getSelectOptions","handleSubmit","values","handleCancel","isFunction","actions","label","string","t","handler","hasFields","hydratedFields","getInitialValues","getValidationSchema"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n// app\r\nimport { AddProductsFacilityView } from './AddProductsFacility.view';\r\nimport {\r\n  postFacility,\r\n  getCarriers,\r\n  getRiskProducts,\r\n  getPricerModule,\r\n  getProgramUsers,\r\n  selectPartyCarriersSorted,\r\n  selectProductsSorted,\r\n  selectPricerModuleSorted,\r\n  selectPartyNotifiedUsersSorted,\r\n} from 'stores';\r\nimport * as utils from 'utils';\r\n\r\nAddProductsFacility.propTypes = {\r\n  fields: PropTypes.array.isRequired,\r\n  options: PropTypes.shape({\r\n    products: PropTypes.array.isRequired,\r\n    carriers: PropTypes.array.isRequired,\r\n    clients: PropTypes.array.isRequired,\r\n  }).isRequired,\r\n  handleClose: PropTypes.func.isRequired,\r\n};\r\n\r\nAddProductsFacility.defaultProps = {\r\n  handleClose: () => {},\r\n};\r\n\r\nexport default function AddProductsFacility({ fields, options: optionsProps, handleClose }) {\r\n  const dispatch = useDispatch();\r\n  const products = useSelector(selectProductsSorted);\r\n  const carriers = useSelector(selectPartyCarriersSorted);\r\n  const pricerModule = useSelector(selectPricerModuleSorted);\r\n  const notifiedUsers = useSelector(selectPartyNotifiedUsersSorted);\r\n  const productsLoading = useSelector((state) => state.risk.products.loading);\r\n  const carriersLoading = useSelector((state) => state.party.carriers.loading);\r\n  const programUsersLoading = useSelector((state) => state.party.notifiedUsers.loading);\r\n  const isLoading = productsLoading || carriersLoading || programUsersLoading;\r\n\r\n  const optionsRef = useRef({ products, carriers, pricerModule, notifiedUsers });\r\n  const [options, setOptions] = useState({ products, carriers, pricerModule, notifiedUsers });\r\n  const [selectedProductCode, setSelectedProductCode] = useState(null);\r\n\r\n  useEffect(\r\n    () => {\r\n      if (!utils.generic.isValidArray(options.products, true)) {\r\n        dispatch(getRiskProducts());\r\n      }\r\n\r\n      dispatch(getCarriers({ size: 1000 }));\r\n      if (!utils.generic.isValidArray(options.notifiedUsers, true)) {\r\n        dispatch(getProgramUsers());\r\n      }\r\n    },\r\n    [] // eslint-disable-line react-hooks/exhaustive-deps\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!products) return;\r\n    updateOptions('products', products);\r\n  }, [products]);\r\n\r\n  useEffect(() => {\r\n    if (!carriers) return;\r\n    updateOptions('carriers', carriers);\r\n  }, [carriers]);\r\n\r\n  useEffect(() => {\r\n    if (!pricerModule) return;\r\n    updateOptions('pricerModule', pricerModule);\r\n  }, [pricerModule]);\r\n\r\n  useEffect(() => {\r\n    if (!notifiedUsers) return;\r\n    updateOptions('notifiedUsers', notifiedUsers);\r\n  }, [notifiedUsers]);\r\n\r\n  useEffect(() => {\r\n    if (selectedProductCode) {\r\n      dispatch(getPricerModule(selectedProductCode));\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selectedProductCode]);\r\n\r\n  const updateOptions = (key, obj) => {\r\n    optionsRef.current = { ...optionsRef.current, [key]: obj };\r\n    setOptions({ ...optionsRef.current });\r\n  };\r\n\r\n  const hydrateOptions = (fields) => {\r\n    if (!fields) return [];\r\n\r\n    return fields.map((field) => {\r\n      return {\r\n        ...field,\r\n        ...(field.name === 'productCode' && {\r\n          handleUpdate: (name, value) => {\r\n            setSelectedProductCode(value);\r\n          },\r\n        }),\r\n        muiComponentProps: {\r\n          ...field.muiComponentProps,\r\n          ...(field.name === 'pricerCode' &&\r\n            !selectedProductCode && {\r\n              disabled: true,\r\n            }),\r\n        },\r\n        ...(field.optionsDynamicKey && {\r\n          options: utils.form.getSelectOptions(field.optionsDynamicKey, {\r\n            [field.optionsDynamicKey]: options[field.optionsDynamicKey],\r\n          }),\r\n        }),\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (values) => {\r\n    return dispatch(postFacility(values));\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    if (utils.generic.isFunction(handleClose)) {\r\n      handleClose();\r\n    }\r\n  };\r\n\r\n  const actions = [\r\n    {\r\n      name: 'submit',\r\n      label: utils.string.t('products.admin.facilities.create'),\r\n      handler: handleSubmit,\r\n    },\r\n    {\r\n      name: 'cancel',\r\n      label: utils.string.t('app.cancel'),\r\n      handler: handleCancel,\r\n    },\r\n  ];\r\n\r\n  const hasFields = utils.generic.isValidArray(fields, true);\r\n\r\n  const hydratedFields = [hydrateOptions(fields)];\r\n\r\n  // abort\r\n  if (!hasFields) return null;\r\n\r\n  return (\r\n    <AddProductsFacilityView\r\n      fields={hydratedFields}\r\n      actions={actions}\r\n      loading={isLoading}\r\n      defaultValues={utils.form.getInitialValues(hydratedFields)}\r\n      validationSchema={utils.form.getValidationSchema(hydratedFields)}\r\n    />\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}