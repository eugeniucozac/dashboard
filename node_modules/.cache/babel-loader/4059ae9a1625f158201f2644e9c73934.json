{"ast":null,"code":"var _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\PremiumProcessingCaseRFI\\\\PremiumProcessingCaseRFI.view.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux'; // app\n\nimport { Tabs, AccessControl } from 'components';\nimport { PremiumProcessingCaseRfiRespond, PremiumProcessingCaseRfiResolve, PremiumProcessingCaseRFIForm } from 'modules';\nimport { PREMIUM_PROCESSING_TAB_NEW_RFI, RFI_STATUS, SENIOR_MANAGER, WORKBASKET, ALL_CASES, RESOLVE_SENDTOFEC_YES } from 'consts';\nimport { selectUserRole } from 'stores';\nimport * as utils from 'utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nPremiumProcessingCaseRFIView.propTypes = {\n  caseDetails: PropTypes.object.isRequired,\n  rfiDetails: PropTypes.object,\n  newRfiUsers: PropTypes.array.isRequired,\n  subTabs: PropTypes.array.isRequired,\n  selectedSubTab: PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    status: PropTypes.string.isRequired\n  }).isRequired,\n  isPageDirty: PropTypes.bool.isRequired,\n  isCreatedByLoginUser: PropTypes.bool.isRequired,\n  hasResponseRfiPermission: PropTypes.bool.isRequired,\n  isWorklist: PropTypes.bool.isRequired,\n  handlers: PropTypes.shape({\n    selectTab: PropTypes.func.isRequired,\n    stayOnTab: PropTypes.func.isRequired,\n    switchTab: PropTypes.func.isRequired,\n    setIsPageDirty: PropTypes.func.isRequired\n  })\n};\nexport default function PremiumProcessingCaseRFIView(_ref) {\n  _s();\n\n  var caseDetails = _ref.caseDetails,\n      rfiDetails = _ref.rfiDetails,\n      newRfiUsers = _ref.newRfiUsers,\n      subTabs = _ref.subTabs,\n      selectedSubTab = _ref.selectedSubTab,\n      isPageDirty = _ref.isPageDirty,\n      isCreatedByLoginUser = _ref.isCreatedByLoginUser,\n      handlers = _ref.handlers,\n      hasResponseRfiPermission = _ref.hasResponseRfiPermission,\n      isWorklist = _ref.isWorklist;\n  var currentUser = useSelector(selectUserRole);\n  var isSeniorManager = utils.generic.isValidArray(currentUser, true) && currentUser.some(function (item) {\n    return [SENIOR_MANAGER.toLowerCase()].includes(item.name.toLowerCase());\n  });\n  var isWorkBasketOrAllCases = (caseDetails === null || caseDetails === void 0 ? void 0 : caseDetails.taskView) === WORKBASKET || (caseDetails === null || caseDetails === void 0 ? void 0 : caseDetails.taskView) === ALL_CASES;\n  var isNotResolvedOrSendToFECValue = (rfiDetails === null || rfiDetails === void 0 ? void 0 : rfiDetails.isNotResolvedOrSendToFEC) === RESOLVE_SENDTOFEC_YES && (rfiDetails === null || rfiDetails === void 0 ? void 0 : rfiDetails.status) === RFI_STATUS.OPEN;\n\n  if (isWorkBasketOrAllCases || isNotResolvedOrSendToFECValue) {\n    isCreatedByLoginUser = true;\n  }\n\n  var permissions = isSeniorManager ? ['read'] : ['read', 'create', 'update', 'delete'];\n  var isNewRfi = selectedSubTab.id === PREMIUM_PROCESSING_TAB_NEW_RFI;\n  var isOpen = selectedSubTab.status === RFI_STATUS.OPEN;\n  var showReadOnlyForm = isOpen && isCreatedByLoginUser;\n  var isResponded = selectedSubTab.status === RFI_STATUS.RESPONSE_RECEIVED;\n  var isResolved = selectedSubTab.status === RFI_STATUS.RESOLVED;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!hasResponseRfiPermission && /*#__PURE__*/_jsxDEV(AccessControl, {\n      feature: \"premiumProcessing.RFITab\",\n      permissions: \"read\",\n      children: /*#__PURE__*/_jsxDEV(Tabs, {\n        tabs: subTabs,\n        overrideTab: selectedSubTab === null || selectedSubTab === void 0 ? void 0 : selectedSubTab.id,\n        onChange: function onChange(tabName) {\n          return handlers.selectTab(tabName);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this), (isNewRfi || showReadOnlyForm) && /*#__PURE__*/_jsxDEV(AccessControl, {\n      feature: \"premiumProcessing.CreateRFI\",\n      permissions: permissions,\n      children: /*#__PURE__*/_jsxDEV(PremiumProcessingCaseRFIForm, {\n        caseDetails: caseDetails,\n        rfiDetails: rfiDetails,\n        newRfiUsers: newRfiUsers,\n        isEditable: isNewRfi,\n        isPageDirty: isPageDirty,\n        isWorklist: isWorklist,\n        handlers: handlers\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this), !isNewRfi && isOpen && /*#__PURE__*/_jsxDEV(AccessControl, {\n      feature: \"premiumProcessing.ResponseRFI\",\n      permissions: permissions,\n      children: /*#__PURE__*/_jsxDEV(PremiumProcessingCaseRfiRespond, {\n        caseDetails: caseDetails,\n        rfiDetails: rfiDetails,\n        isPageDirty: isPageDirty,\n        isWorklist: isWorklist,\n        handlers: handlers\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this), !isNewRfi && (isResponded || isResolved) && /*#__PURE__*/_jsxDEV(AccessControl, {\n      feature: \"premiumProcessing.ResolveRFI\",\n      permissions: permissions,\n      children: /*#__PURE__*/_jsxDEV(PremiumProcessingCaseRfiResolve, {\n        rfiDetails: rfiDetails,\n        isEditable: isResponded,\n        isPageDirty: isPageDirty,\n        isResolved: isResolved,\n        isWorklist: isWorklist,\n        handlers: handlers\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(PremiumProcessingCaseRFIView, \"lZdPyK/MobwtETtTACdKAch84Kw=\", false, function () {\n  return [useSelector];\n});\n\n_c = PremiumProcessingCaseRFIView;\n\nvar _c;\n\n$RefreshReg$(_c, \"PremiumProcessingCaseRFIView\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/PremiumProcessingCaseRFI/PremiumProcessingCaseRFI.view.js"],"names":["React","PropTypes","useSelector","Tabs","AccessControl","PremiumProcessingCaseRfiRespond","PremiumProcessingCaseRfiResolve","PremiumProcessingCaseRFIForm","PREMIUM_PROCESSING_TAB_NEW_RFI","RFI_STATUS","SENIOR_MANAGER","WORKBASKET","ALL_CASES","RESOLVE_SENDTOFEC_YES","selectUserRole","utils","PremiumProcessingCaseRFIView","propTypes","caseDetails","object","isRequired","rfiDetails","newRfiUsers","array","subTabs","selectedSubTab","shape","id","oneOfType","string","number","status","isPageDirty","bool","isCreatedByLoginUser","hasResponseRfiPermission","isWorklist","handlers","selectTab","func","stayOnTab","switchTab","setIsPageDirty","currentUser","isSeniorManager","generic","isValidArray","some","item","toLowerCase","includes","name","isWorkBasketOrAllCases","taskView","isNotResolvedOrSendToFECValue","isNotResolvedOrSendToFEC","OPEN","permissions","isNewRfi","isOpen","showReadOnlyForm","isResponded","RESPONSE_RECEIVED","isResolved","RESOLVED","tabName"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,WAAT,QAA4B,aAA5B,C,CAEA;;AACA,SAASC,IAAT,EAAeC,aAAf,QAAoC,YAApC;AACA,SAASC,+BAAT,EAA0CC,+BAA1C,EAA2EC,4BAA3E,QAA+G,SAA/G;AACA,SAASC,8BAAT,EAAyCC,UAAzC,EAAqDC,cAArD,EAAqEC,UAArE,EAAiFC,SAAjF,EAA4FC,qBAA5F,QAAyH,QAAzH;AACA,SAASC,cAAT,QAA+B,QAA/B;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;;;AAEAC,4BAA4B,CAACC,SAA7B,GAAyC;AACvCC,EAAAA,WAAW,EAAEjB,SAAS,CAACkB,MAAV,CAAiBC,UADS;AAEvCC,EAAAA,UAAU,EAAEpB,SAAS,CAACkB,MAFiB;AAGvCG,EAAAA,WAAW,EAAErB,SAAS,CAACsB,KAAV,CAAgBH,UAHU;AAIvCI,EAAAA,OAAO,EAAEvB,SAAS,CAACsB,KAAV,CAAgBH,UAJc;AAKvCK,EAAAA,cAAc,EAAExB,SAAS,CAACyB,KAAV,CAAgB;AAC9BC,IAAAA,EAAE,EAAE1B,SAAS,CAAC2B,SAAV,CAAoB,CAAC3B,SAAS,CAAC4B,MAAX,EAAmB5B,SAAS,CAAC6B,MAA7B,CAApB,EAA0DV,UADhC;AAE9BW,IAAAA,MAAM,EAAE9B,SAAS,CAAC4B,MAAV,CAAiBT;AAFK,GAAhB,EAGbA,UARoC;AASvCY,EAAAA,WAAW,EAAE/B,SAAS,CAACgC,IAAV,CAAeb,UATW;AAUvCc,EAAAA,oBAAoB,EAAEjC,SAAS,CAACgC,IAAV,CAAeb,UAVE;AAWvCe,EAAAA,wBAAwB,EAAElC,SAAS,CAACgC,IAAV,CAAeb,UAXF;AAYvCgB,EAAAA,UAAU,EAAEnC,SAAS,CAACgC,IAAV,CAAeb,UAZY;AAavCiB,EAAAA,QAAQ,EAAEpC,SAAS,CAACyB,KAAV,CAAgB;AACxBY,IAAAA,SAAS,EAAErC,SAAS,CAACsC,IAAV,CAAenB,UADF;AAExBoB,IAAAA,SAAS,EAAEvC,SAAS,CAACsC,IAAV,CAAenB,UAFF;AAGxBqB,IAAAA,SAAS,EAAExC,SAAS,CAACsC,IAAV,CAAenB,UAHF;AAIxBsB,IAAAA,cAAc,EAAEzC,SAAS,CAACsC,IAAV,CAAenB;AAJP,GAAhB;AAb6B,CAAzC;AAqBA,eAAe,SAASJ,4BAAT,OAWZ;AAAA;;AAAA,MAVDE,WAUC,QAVDA,WAUC;AAAA,MATDG,UASC,QATDA,UASC;AAAA,MARDC,WAQC,QARDA,WAQC;AAAA,MAPDE,OAOC,QAPDA,OAOC;AAAA,MANDC,cAMC,QANDA,cAMC;AAAA,MALDO,WAKC,QALDA,WAKC;AAAA,MAJDE,oBAIC,QAJDA,oBAIC;AAAA,MAHDG,QAGC,QAHDA,QAGC;AAAA,MAFDF,wBAEC,QAFDA,wBAEC;AAAA,MADDC,UACC,QADDA,UACC;AACD,MAAMO,WAAW,GAAGzC,WAAW,CAACY,cAAD,CAA/B;AACA,MAAM8B,eAAe,GACnB7B,KAAK,CAAC8B,OAAN,CAAcC,YAAd,CAA2BH,WAA3B,EAAwC,IAAxC,KACAA,WAAW,CAACI,IAAZ,CAAiB,UAACC,IAAD;AAAA,WAAU,CAACtC,cAAc,CAACuC,WAAf,EAAD,EAA+BC,QAA/B,CAAwCF,IAAI,CAACG,IAAL,CAAUF,WAAV,EAAxC,CAAV;AAAA,GAAjB,CAFF;AAGA,MAAMG,sBAAsB,GAAG,CAAAlC,WAAW,SAAX,IAAAA,WAAW,WAAX,YAAAA,WAAW,CAAEmC,QAAb,MAA0B1C,UAA1B,IAAwC,CAAAO,WAAW,SAAX,IAAAA,WAAW,WAAX,YAAAA,WAAW,CAAEmC,QAAb,MAA0BzC,SAAjG;AACA,MAAM0C,6BAA6B,GAAG,CAAAjC,UAAU,SAAV,IAAAA,UAAU,WAAV,YAAAA,UAAU,CAAEkC,wBAAZ,MAAyC1C,qBAAzC,IAAkE,CAAAQ,UAAU,SAAV,IAAAA,UAAU,WAAV,YAAAA,UAAU,CAAEU,MAAZ,MAAuBtB,UAAU,CAAC+C,IAA1I;;AACA,MAAIJ,sBAAsB,IAAIE,6BAA9B,EAA8D;AAC5DpB,IAAAA,oBAAoB,GAAG,IAAvB;AACD;;AACD,MAAMuB,WAAW,GAAGb,eAAe,GAAG,CAAC,MAAD,CAAH,GAAc,CAAC,MAAD,EAAS,QAAT,EAAmB,QAAnB,EAA6B,QAA7B,CAAjD;AACA,MAAIc,QAAQ,GAAGjC,cAAc,CAACE,EAAf,KAAsBnB,8BAArC;AACA,MAAMmD,MAAM,GAAGlC,cAAc,CAACM,MAAf,KAA0BtB,UAAU,CAAC+C,IAApD;AACA,MAAMI,gBAAgB,GAAGD,MAAM,IAAIzB,oBAAnC;AACA,MAAM2B,WAAW,GAAGpC,cAAc,CAACM,MAAf,KAA0BtB,UAAU,CAACqD,iBAAzD;AACA,MAAMC,UAAU,GAAGtC,cAAc,CAACM,MAAf,KAA0BtB,UAAU,CAACuD,QAAxD;AACA,sBACE;AAAA,eACG,CAAC7B,wBAAD,iBACC,QAAC,aAAD;AAAe,MAAA,OAAO,EAAC,0BAAvB;AAAkD,MAAA,WAAW,EAAC,MAA9D;AAAA,6BACE,QAAC,IAAD;AAAM,QAAA,IAAI,EAAEX,OAAZ;AAAqB,QAAA,WAAW,EAAEC,cAAF,aAAEA,cAAF,uBAAEA,cAAc,CAAEE,EAAlD;AAAsD,QAAA,QAAQ,EAAE,kBAACsC,OAAD;AAAA,iBAAa5B,QAAQ,CAACC,SAAT,CAAmB2B,OAAnB,CAAb;AAAA;AAAhE;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAFJ,EAOG,CAACP,QAAQ,IAAIE,gBAAb,kBACC,QAAC,aAAD;AAAe,MAAA,OAAO,EAAC,6BAAvB;AAAqD,MAAA,WAAW,EAAEH,WAAlE;AAAA,6BACE,QAAC,4BAAD;AACE,QAAA,WAAW,EAAEvC,WADf;AAEE,QAAA,UAAU,EAAEG,UAFd;AAGE,QAAA,WAAW,EAAEC,WAHf;AAIE,QAAA,UAAU,EAAEoC,QAJd;AAKE,QAAA,WAAW,EAAE1B,WALf;AAME,QAAA,UAAU,EAAEI,UANd;AAOE,QAAA,QAAQ,EAAEC;AAPZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YARJ,EAqBG,CAACqB,QAAD,IAAaC,MAAb,iBACC,QAAC,aAAD;AAAe,MAAA,OAAO,EAAC,+BAAvB;AAAuD,MAAA,WAAW,EAAEF,WAApE;AAAA,6BACE,QAAC,+BAAD;AACE,QAAA,WAAW,EAAEvC,WADf;AAEE,QAAA,UAAU,EAAEG,UAFd;AAGE,QAAA,WAAW,EAAEW,WAHf;AAIE,QAAA,UAAU,EAAEI,UAJd;AAKE,QAAA,QAAQ,EAAEC;AALZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAtBJ,EAgCG,CAACqB,QAAD,KAAcG,WAAW,IAAIE,UAA7B,kBACC,QAAC,aAAD;AAAe,MAAA,OAAO,EAAC,8BAAvB;AAAsD,MAAA,WAAW,EAAEN,WAAnE;AAAA,6BACE,QAAC,+BAAD;AACE,QAAA,UAAU,EAAEpC,UADd;AAEE,QAAA,UAAU,EAAEwC,WAFd;AAGE,QAAA,WAAW,EAAE7B,WAHf;AAIE,QAAA,UAAU,EAAE+B,UAJd;AAKE,QAAA,UAAU,EAAE3B,UALd;AAME,QAAA,QAAQ,EAAEC;AANZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAjCJ;AAAA,kBADF;AA+CD;;GA1EuBrB,4B;UAYFd,W;;;KAZEc,4B","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useSelector } from 'react-redux';\r\n\r\n// app\r\nimport { Tabs, AccessControl } from 'components';\r\nimport { PremiumProcessingCaseRfiRespond, PremiumProcessingCaseRfiResolve, PremiumProcessingCaseRFIForm } from 'modules';\r\nimport { PREMIUM_PROCESSING_TAB_NEW_RFI, RFI_STATUS, SENIOR_MANAGER, WORKBASKET, ALL_CASES, RESOLVE_SENDTOFEC_YES } from 'consts';\r\nimport { selectUserRole } from 'stores';\r\nimport * as utils from 'utils';\r\n\r\nPremiumProcessingCaseRFIView.propTypes = {\r\n  caseDetails: PropTypes.object.isRequired,\r\n  rfiDetails: PropTypes.object,\r\n  newRfiUsers: PropTypes.array.isRequired,\r\n  subTabs: PropTypes.array.isRequired,\r\n  selectedSubTab: PropTypes.shape({\r\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n    status: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  isPageDirty: PropTypes.bool.isRequired,\r\n  isCreatedByLoginUser: PropTypes.bool.isRequired,\r\n  hasResponseRfiPermission: PropTypes.bool.isRequired,\r\n  isWorklist: PropTypes.bool.isRequired,\r\n  handlers: PropTypes.shape({\r\n    selectTab: PropTypes.func.isRequired,\r\n    stayOnTab: PropTypes.func.isRequired,\r\n    switchTab: PropTypes.func.isRequired,\r\n    setIsPageDirty: PropTypes.func.isRequired,\r\n  }),\r\n};\r\n\r\nexport default function PremiumProcessingCaseRFIView({\r\n  caseDetails,\r\n  rfiDetails,\r\n  newRfiUsers,\r\n  subTabs,\r\n  selectedSubTab,\r\n  isPageDirty,\r\n  isCreatedByLoginUser,\r\n  handlers,\r\n  hasResponseRfiPermission,\r\n  isWorklist,\r\n}) {\r\n  const currentUser = useSelector(selectUserRole);\r\n  const isSeniorManager =\r\n    utils.generic.isValidArray(currentUser, true) &&\r\n    currentUser.some((item) => [SENIOR_MANAGER.toLowerCase()].includes(item.name.toLowerCase()));\r\n  const isWorkBasketOrAllCases = caseDetails?.taskView === WORKBASKET || caseDetails?.taskView === ALL_CASES;\r\n  const isNotResolvedOrSendToFECValue = rfiDetails?.isNotResolvedOrSendToFEC === RESOLVE_SENDTOFEC_YES && rfiDetails?.status === RFI_STATUS.OPEN;\r\n  if (isWorkBasketOrAllCases || isNotResolvedOrSendToFECValue ) {\r\n    isCreatedByLoginUser = true;\r\n  }\r\n  const permissions = isSeniorManager ? ['read'] : ['read', 'create', 'update', 'delete'];\r\n  let isNewRfi = selectedSubTab.id === PREMIUM_PROCESSING_TAB_NEW_RFI;\r\n  const isOpen = selectedSubTab.status === RFI_STATUS.OPEN;\r\n  const showReadOnlyForm = isOpen && isCreatedByLoginUser;\r\n  const isResponded = selectedSubTab.status === RFI_STATUS.RESPONSE_RECEIVED;\r\n  const isResolved = selectedSubTab.status === RFI_STATUS.RESOLVED;\r\n  return (\r\n    <>\r\n      {!hasResponseRfiPermission && (\r\n        <AccessControl feature=\"premiumProcessing.RFITab\" permissions=\"read\">\r\n          <Tabs tabs={subTabs} overrideTab={selectedSubTab?.id} onChange={(tabName) => handlers.selectTab(tabName)} />\r\n        </AccessControl>\r\n      )}\r\n\r\n      {(isNewRfi || showReadOnlyForm) && (\r\n        <AccessControl feature=\"premiumProcessing.CreateRFI\" permissions={permissions}>\r\n          <PremiumProcessingCaseRFIForm\r\n            caseDetails={caseDetails}\r\n            rfiDetails={rfiDetails}\r\n            newRfiUsers={newRfiUsers}\r\n            isEditable={isNewRfi}\r\n            isPageDirty={isPageDirty}\r\n            isWorklist={isWorklist}\r\n            handlers={handlers}\r\n          />\r\n        </AccessControl>\r\n      )}\r\n\r\n      {!isNewRfi && isOpen && (\r\n        <AccessControl feature=\"premiumProcessing.ResponseRFI\" permissions={permissions}>\r\n          <PremiumProcessingCaseRfiRespond\r\n            caseDetails={caseDetails}\r\n            rfiDetails={rfiDetails}\r\n            isPageDirty={isPageDirty}\r\n            isWorklist={isWorklist}\r\n            handlers={handlers}\r\n          />\r\n        </AccessControl>\r\n      )}\r\n      {!isNewRfi && (isResponded || isResolved) && (\r\n        <AccessControl feature=\"premiumProcessing.ResolveRFI\" permissions={permissions}>\r\n          <PremiumProcessingCaseRfiResolve\r\n            rfiDetails={rfiDetails}\r\n            isEditable={isResponded}\r\n            isPageDirty={isPageDirty}\r\n            isResolved={isResolved}\r\n            isWorklist={isWorklist}\r\n            handlers={handlers}\r\n          />\r\n        </AccessControl>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}