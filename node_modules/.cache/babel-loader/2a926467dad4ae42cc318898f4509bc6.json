{"ast":null,"code":"import _defineProperty from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\components\\\\Documents\\\\Documents.view.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames'; // app\n\nimport styles from './Documents.styles';\nimport { PopoverMenu, Restricted, TableCell, TableHead, Avatar, Tooltip } from 'components';\nimport * as utils from 'utils';\nimport * as constants from 'consts';\nimport config from 'config';\nimport { useMedia } from 'hooks'; // mui\n\nimport { makeStyles, Table, TableBody, TableRow, Typography, Grid, Box } from '@material-ui/core';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nDocumentsView.propTypes = {\n  folders: PropTypes.array.isRequired,\n  cols: PropTypes.array.isRequired,\n  documentGroups: PropTypes.object.isRequired,\n  handleDownloadDocument: PropTypes.func.isRequired,\n  handleDeleteClick: PropTypes.func.isRequired,\n  showDelete: PropTypes.bool,\n  isReportingDoc: PropTypes.bool.isRequired,\n  showPagination: PropTypes.bool\n};\nexport function DocumentsView(_ref) {\n  _s();\n\n  var _this = this;\n\n  var folders = _ref.folders,\n      cols = _ref.cols,\n      documentGroups = _ref.documentGroups,\n      handleDownloadDocument = _ref.handleDownloadDocument,\n      handleDeleteClick = _ref.handleDeleteClick,\n      inlineComponent = _ref.inlineComponent,\n      showDelete = _ref.showDelete,\n      isReportingDoc = _ref.isReportingDoc,\n      showPagination = _ref.showPagination;\n  var classes = makeStyles(styles, {\n    name: 'Documents'\n  })();\n  var media = useMedia();\n\n  var _config$ui = config === null || config === void 0 ? void 0 : config.ui,\n      pagination = _config$ui.pagination;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      page = _useState2[0],\n      setPage = _useState2[1];\n\n  var _useState3 = useState(5),\n      _useState4 = _slicedToArray(_useState3, 2),\n      rowsPerPage = _useState4[0],\n      setRowsPerPage = _useState4[1];\n\n  var handleChangePage = function handleChangePage(event, newPage) {\n    setPage(newPage);\n  };\n\n  var handleChangeRowsPerPage = function handleChangeRowsPerPage(event) {\n    setRowsPerPage(event.target.value);\n    setPage(0);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Table, {\n      children: [!inlineComponent && /*#__PURE__*/_jsxDEV(TableHead, {\n        columns: cols,\n        sorting: {\n          by: 'filename',\n          type: 'text',\n          direction: 'asc'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 30\n      }, this), folders && folders.length > 0 && /*#__PURE__*/_jsxDEV(TableBody, {\n        children: Object.keys(documentGroups).slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(function (k) {\n          var docs = documentGroups[k].documents;\n          var label = documentGroups[k].label;\n          return docs.map(function (d, i) {\n            var _classnames2, _d$uploaderFullName;\n\n            return /*#__PURE__*/_jsxDEV(TableRow, {\n              className: classnames(_defineProperty({}, classes.inlineComponentRow, inlineComponent)),\n              children: [i === 0 && !inlineComponent ? /*#__PURE__*/_jsxDEV(TableCell, {\n                rowSpan: docs.length,\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h5\",\n                  className: classes.folder,\n                  children: label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 27\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 25\n              }, _this) : null, /*#__PURE__*/_jsxDEV(TableCell, {\n                className: classnames((_classnames2 = {}, _defineProperty(_classnames2, classes.filenameCell, true), _defineProperty(_classnames2, classes.inlineComponentCell, inlineComponent), _classnames2)),\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h5\",\n                  className: classnames(classes.filename, _defineProperty({}, classes.inlineComponentText, inlineComponent)),\n                  onClick: function onClick() {\n                    handleDownloadDocument(d);\n                  },\n                  children: d.fileName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 25\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 23\n              }, _this), isReportingDoc ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(Box, {\n                    className: classes.avatar,\n                    children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                      title: d === null || d === void 0 ? void 0 : d.uploaderFullName,\n                      placement: \"top\",\n                      children: /*#__PURE__*/_jsxDEV(Avatar, {\n                        text: d === null || d === void 0 ? void 0 : (_d$uploaderFullName = d.uploaderFullName) === null || _d$uploaderFullName === void 0 ? void 0 : _d$uploaderFullName.match(/(\\b\\S)?/g).join('').match(/(^\\S|\\S$)?/g).join('').toUpperCase(),\n                        size: media.wideUp ? 30 : 25\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 91,\n                        columnNumber: 33\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 90,\n                      columnNumber: 31\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 29\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 27\n                }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h5\",\n                    children: utils.string.t('format.date', {\n                      value: {\n                        date: d.createdAt,\n                        format: config.ui.format.date.text\n                      }\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 29\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 27\n                }, _this)]\n              }, void 0, true) : null, /*#__PURE__*/_jsxDEV(TableCell, {\n                menu: true,\n                className: classnames(_defineProperty({}, classes.inlineComponentCell, inlineComponent)),\n                children: /*#__PURE__*/_jsxDEV(Restricted, {\n                  include: [constants.ROLE_BROKER],\n                  children: /*#__PURE__*/_jsxDEV(PopoverMenu, {\n                    id: \"document\",\n                    data: {\n                      item: d\n                    },\n                    items: [{\n                      id: 'downloadDocument',\n                      label: utils.string.t('app.download'),\n                      callback: function callback() {\n                        handleDownloadDocument(d);\n                      }\n                    }, {\n                      id: 'deleteDocument',\n                      label: utils.string.t('app.delete'),\n                      callback: function callback() {\n                        handleDeleteClick(d);\n                      },\n                      hidden: !showDelete\n                    }]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 27\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 25\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 23\n              }, _this)]\n            }, \"\".concat(k, \"-\").concat(d.id), true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 21\n            }, _this);\n          });\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), showPagination ? /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      sm: 8,\n      style: {\n        marginLeft: 'auto'\n      },\n      children: /*#__PURE__*/_jsxDEV(TablePagination, {\n        rowsPerPageOptions: pagination.options,\n        component: \"div\",\n        count: Object.keys(documentGroups).length,\n        rowsPerPage: rowsPerPage,\n        page: page,\n        onPageChange: handleChangePage,\n        onRowsPerPageChange: handleChangeRowsPerPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true);\n}\n\n_s(DocumentsView, \"tCewSY00pJUvnhHeAmxfkMhqzB8=\", false, function () {\n  return [useMedia];\n});\n\n_c = DocumentsView;\nDocumentsView.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [],\n  \"displayName\": \"DocumentsView\",\n  \"props\": {\n    \"folders\": {\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"cols\": {\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"documentGroups\": {\n      \"type\": {\n        \"name\": \"object\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"handleDownloadDocument\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"handleDeleteClick\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"showDelete\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"isReportingDoc\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"showPagination\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    }\n  }\n};\n\nif (typeof STORYBOOK_REACT_CLASSES !== \"undefined\") {\n  STORYBOOK_REACT_CLASSES[\"src\\\\components\\\\Documents\\\\Documents.view.js\"] = {\n    name: \"DocumentsView\",\n    docgenInfo: DocumentsView.__docgenInfo,\n    path: \"src\\\\components\\\\Documents\\\\Documents.view.js\"\n  };\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"DocumentsView\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/components/Documents/Documents.view.js"],"names":["React","useState","PropTypes","classnames","styles","PopoverMenu","Restricted","TableCell","TableHead","Avatar","Tooltip","utils","constants","config","useMedia","makeStyles","Table","TableBody","TableRow","Typography","Grid","Box","TablePagination","DocumentsView","propTypes","folders","array","isRequired","cols","documentGroups","object","handleDownloadDocument","func","handleDeleteClick","showDelete","bool","isReportingDoc","showPagination","inlineComponent","classes","name","media","ui","pagination","page","setPage","rowsPerPage","setRowsPerPage","handleChangePage","event","newPage","handleChangeRowsPerPage","target","value","by","type","direction","length","Object","keys","slice","map","k","docs","documents","label","d","i","inlineComponentRow","folder","filenameCell","inlineComponentCell","filename","inlineComponentText","fileName","avatar","uploaderFullName","match","join","toUpperCase","wideUp","string","t","date","createdAt","format","text","ROLE_BROKER","item","id","callback","hidden","marginLeft","options"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\n\r\n// app\r\nimport styles from './Documents.styles';\r\nimport { PopoverMenu, Restricted, TableCell, TableHead, Avatar, Tooltip } from 'components';\r\nimport * as utils from 'utils';\r\nimport * as constants from 'consts';\r\nimport config from 'config';\r\nimport { useMedia } from 'hooks';\r\n\r\n// mui\r\nimport { makeStyles, Table, TableBody, TableRow, Typography, Grid, Box } from '@material-ui/core';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\n\r\nDocumentsView.propTypes = {\r\n  folders: PropTypes.array.isRequired,\r\n  cols: PropTypes.array.isRequired,\r\n  documentGroups: PropTypes.object.isRequired,\r\n  handleDownloadDocument: PropTypes.func.isRequired,\r\n  handleDeleteClick: PropTypes.func.isRequired,\r\n  showDelete: PropTypes.bool,\r\n  isReportingDoc: PropTypes.bool.isRequired,\r\n  showPagination: PropTypes.bool,\r\n};\r\n\r\nexport function DocumentsView({\r\n  folders,\r\n  cols,\r\n  documentGroups,\r\n  handleDownloadDocument,\r\n  handleDeleteClick,\r\n  inlineComponent,\r\n  showDelete,\r\n  isReportingDoc,\r\n  showPagination,\r\n}) {\r\n  const classes = makeStyles(styles, { name: 'Documents' })();\r\n  const media = useMedia();\r\n  const { pagination } = config?.ui;\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(5);\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(event.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Table>\r\n        {!inlineComponent && <TableHead columns={cols} sorting={{ by: 'filename', type: 'text', direction: 'asc' }} />}\r\n        {folders && folders.length > 0 && (\r\n          <TableBody>\r\n            {Object.keys(documentGroups)\r\n              .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n              .map((k) => {\r\n                const docs = documentGroups[k].documents;\r\n                const label = documentGroups[k].label;\r\n\r\n                return docs.map((d, i) => {\r\n                  return (\r\n                    <TableRow key={`${k}-${d.id}`} className={classnames({ [classes.inlineComponentRow]: inlineComponent })}>\r\n                      {i === 0 && !inlineComponent ? (\r\n                        <TableCell rowSpan={docs.length}>\r\n                          <Typography variant=\"h5\" className={classes.folder}>\r\n                            {label}\r\n                          </Typography>\r\n                        </TableCell>\r\n                      ) : null}\r\n                      <TableCell className={classnames({ [classes.filenameCell]: true, [classes.inlineComponentCell]: inlineComponent })}>\r\n                        <Typography\r\n                          variant=\"h5\"\r\n                          className={classnames(classes.filename, { [classes.inlineComponentText]: inlineComponent })}\r\n                          onClick={() => {\r\n                            handleDownloadDocument(d);\r\n                          }}\r\n                        >\r\n                          {d.fileName}\r\n                        </Typography>\r\n                      </TableCell>\r\n                      {isReportingDoc ? (\r\n                        <>\r\n                          <TableCell>\r\n                            <Box className={classes.avatar}>\r\n                              <Tooltip title={d?.uploaderFullName} placement=\"top\">\r\n                                <Avatar\r\n                                  text={d?.uploaderFullName\r\n                                    ?.match(/(\\b\\S)?/g)\r\n                                    .join('')\r\n                                    .match(/(^\\S|\\S$)?/g)\r\n                                    .join('')\r\n                                    .toUpperCase()}\r\n                                  size={media.wideUp ? 30 : 25}\r\n                                />\r\n                              </Tooltip>\r\n                            </Box>\r\n                          </TableCell>\r\n\r\n                          <TableCell>\r\n                            <Typography variant=\"h5\">\r\n                              {utils.string.t('format.date', {\r\n                                value: { date: d.createdAt, format: config.ui.format.date.text },\r\n                              })}\r\n                            </Typography>\r\n                          </TableCell>\r\n                        </>\r\n                      ) : null}\r\n                      <TableCell menu className={classnames({ [classes.inlineComponentCell]: inlineComponent })}>\r\n                        <Restricted include={[constants.ROLE_BROKER]}>\r\n                          <PopoverMenu\r\n                            id=\"document\"\r\n                            data={{\r\n                              item: d,\r\n                            }}\r\n                            items={[\r\n                              {\r\n                                id: 'downloadDocument',\r\n                                label: utils.string.t('app.download'),\r\n                                callback: () => {\r\n                                  handleDownloadDocument(d);\r\n                                },\r\n                              },\r\n                              {\r\n                                id: 'deleteDocument',\r\n                                label: utils.string.t('app.delete'),\r\n                                callback: () => {\r\n                                  handleDeleteClick(d);\r\n                                },\r\n                                hidden: !showDelete,\r\n                              },\r\n                            ]}\r\n                          />\r\n                        </Restricted>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  );\r\n                });\r\n              })}\r\n          </TableBody>\r\n        )}\r\n      </Table>\r\n      {showPagination ? (\r\n        <Grid item xs={12} sm={8} style={{ marginLeft: 'auto' }}>\r\n          <TablePagination\r\n            rowsPerPageOptions={pagination.options}\r\n            component=\"div\"\r\n            count={Object.keys(documentGroups).length}\r\n            rowsPerPage={rowsPerPage}\r\n            page={page}\r\n            onPageChange={handleChangePage}\r\n            onRowsPerPageChange={handleChangeRowsPerPage}\r\n          />\r\n        </Grid>\r\n      ) : null}\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}