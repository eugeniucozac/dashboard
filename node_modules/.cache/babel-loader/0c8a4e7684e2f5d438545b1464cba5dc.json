{"ast":null,"code":"import \"core-js/modules/es.string.split\";\nimport _toConsumableArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\components\\\\Menu\\\\Menu.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useContext, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport get from 'lodash/get';\nimport kebabCase from 'lodash/kebabCase'; // app\n\nimport MenuView from './Menu.view';\nimport { AuthContext } from 'components';\nimport { showModal, collapseNav, expandNav, getParentList, setDepartmentSelected, selectUserDepartment, selectUserDepartmentId, selectIsAdmin, selectIsBroker, selectIsCobroker, selectIsUnderwriter, selectUserDepartments, selectUserIsExtended, selectUserIsCurrent } from 'stores';\nimport { useMedia } from 'hooks';\nimport * as utils from 'utils';\nimport config from 'config'; // mui\n\nimport ListAltIcon from '@material-ui/icons/ListAlt';\nimport ApartmentIcon from '@material-ui/icons/Apartment';\nimport AssessmentIcon from '@material-ui/icons/Assessment';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn';\nimport BallotIcon from '@material-ui/icons/Ballot';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport FlightTakeoffIcon from '@material-ui/icons/FlightTakeoff';\nimport HomeIcon from '@material-ui/icons/Home';\nimport PlaylistAddCheckIcon from '@material-ui/icons/PlaylistAddCheck';\nimport PeopleAltIcon from '@material-ui/icons/PeopleAlt';\nimport PublicIcon from '@material-ui/icons/Public';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport TimelineIcon from '@material-ui/icons/Timeline';\nimport DonutLargeIcon from '@material-ui/icons/DonutLarge';\nimport StarIcon from '@material-ui/icons/Star';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Menu() {\n  _s();\n\n  var dispatch = useDispatch();\n  var history = useHistory();\n  var media = useMedia();\n  var context = useContext(AuthContext);\n  var configVars = useSelector(function (state) {\n    return get(state, 'config.vars');\n  });\n  var uiNavExpanded = useSelector(function (state) {\n    return get(state, 'ui.nav.expanded');\n  });\n  var user = useSelector(function (state) {\n    return state.user;\n  });\n  var userIsAdmin = useSelector(selectIsAdmin);\n  var userIsBroker = useSelector(selectIsBroker);\n  var userIsCoBroker = useSelector(selectIsCobroker);\n  var userIsUnderwriter = useSelector(selectIsUnderwriter);\n  var userIsExtended = useSelector(selectUserIsExtended);\n  var userIsCurrentEdge = useSelector(selectUserIsCurrent);\n  var userIsLoaded = utils.user.isLoaded(user);\n  var parentList = useSelector(function (state) {\n    return get(state, 'parent.list');\n  });\n  var parentListFetched = useSelector(function (state) {\n    return get(state, 'parent.listFetched');\n  });\n  var referenceDataDepartments = useSelector(function (state) {\n    return get(state, 'referenceData.departments');\n  });\n  var userDepartment = useSelector(selectUserDepartment) || {};\n  var userDepartmentId = useSelector(selectUserDepartmentId);\n  var userDepartments = useSelector(selectUserDepartments);\n  var userDepartmentSlug = userDepartment && kebabCase(get(userDepartment, 'name', ''));\n  var locationParams = history.location.pathname.split('/');\n  var locationFirstParam = locationParams.length > 0 && locationParams[1] ? locationParams[1] : null;\n\n  var _useState = useState(locationFirstParam),\n      _useState2 = _slicedToArray(_useState, 2),\n      firstLevel = _useState2[0],\n      setFirstLevel = _useState2[1];\n\n  useEffect(function () {\n    if (userIsLoaded && !userIsExtended && !parentListFetched) {\n      dispatch(getParentList());\n    }\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(function () {\n    return history.listen(function (location) {\n      var paramArr = location.pathname.split('/');\n      var firstParam = paramArr.length > 0 && paramArr[1] ? paramArr[1] : null;\n      setFirstLevel(firstParam);\n    });\n  }, [history]);\n\n  var handleClick = function handleClick(event) {\n    if (media.mobile) {\n      dispatch(collapseNav());\n    }\n  };\n\n  var toggleNav = function toggleNav() {\n    if (uiNavExpanded) {\n      dispatch(collapseNav());\n    } else {\n      dispatch(expandNav());\n    }\n  };\n\n  var handleFileUpload = function handleFileUpload(files, rejectedFiles) {\n    dispatch(showModal({\n      component: 'POLICY_DOCUMENTS',\n      props: {\n        title: utils.string.t('app.fileUpload'),\n        fullWidth: true,\n        maxWidth: 'xl',\n        componentProps: {\n          files: utils.generic.isValidArray(files) ? files.map(function (f) {\n            return {\n              file: f,\n              name: f.name,\n              type: null\n            };\n          }) : [],\n          rejectedFiles: rejectedFiles\n        }\n      }\n    }));\n  };\n\n  var getDepartmentName = function getDepartmentName(dept) {\n    if (!dept || !dept.name) return '';\n    return dept.name.indexOf('-XB_') >= 0 ? \"\".concat(dept.name.split('-XB_').join(' ('), \")\") : dept.name;\n  }; // abort\n\n\n  if (!user || !user.id) return null;\n  var departmentList = utils.user.department.getAll(user) || [];\n\n  var addMenuItems = function addMenuItems(condition, items) {\n    return condition ? _toConsumableArray(items) : [];\n  };\n\n  var menuItems = [].concat(_toConsumableArray(addMenuItems(userIsCurrentEdge || userIsExtended && utils.app.access.route('home', user), [{\n    name: 'home',\n    text: utils.string.t('app.home'),\n    icon: HomeIcon,\n    link: config.routes.home.root\n  }])), _toConsumableArray(addMenuItems(userIsExtended && utils.app.access.route('reporting', user), [{\n    name: 'reportingExtended',\n    text: utils.string.t('reportingExtended.menuItem.title'),\n    icon: DonutLargeIcon,\n    link: config.routes.reportingExtended.root\n  }])), _toConsumableArray(addMenuItems(userIsExtended && utils.app.access.route('processingInstructions', user), [{\n    name: 'processing-instructions',\n    text: utils.string.t('processingInstructions.title'),\n    icon: PlaylistAddCheckIcon,\n    link: config.routes.processingInstructions.root\n  }])), _toConsumableArray(addMenuItems(userIsExtended && utils.app.access.route('premiumProcessing', user), [{\n    name: 'premium-processing',\n    text: utils.string.t('premiumProcessing.title'),\n    icon: StarIcon,\n    link: config.routes.premiumProcessing.root\n  }])), _toConsumableArray(addMenuItems(userIsExtended && utils.app.access.route('claimsFNOL', user), [{\n    name: 'claims-fnol',\n    text: utils.string.t('claims.title'),\n    icon: DescriptionIcon,\n    link: config.routes.claimsFNOL.root\n  }])), _toConsumableArray(addMenuItems(userIsExtended && utils.app.access.route('claimsProcessing', user), [{\n    name: 'claims-processing',\n    text: utils.string.t('claims.processing.title'),\n    icon: AssignmentTurnedInIcon,\n    link: config.routes.claimsProcessing.root\n  }])), _toConsumableArray(addMenuItems(userIsCurrentEdge, [{\n    name: 'department',\n    text: userIsBroker && utils.string.t('department.titlePlacements') || userIsCoBroker && utils.string.t('department.titleAccounts'),\n    icon: ListAltIcon,\n    link: \"\".concat(config.routes.department.root, \"/\").concat(userDepartmentId).concat(userDepartmentSlug ? \"/\".concat(userDepartmentSlug) : ''),\n    disabled: userIsUnderwriter\n  }, {\n    name: 'client',\n    text: utils.string.t('client.title'),\n    icon: ApartmentIcon,\n    link: config.routes.client.root,\n    disabled: parentList.length <= 0 || userIsUnderwriter\n  }, {\n    name: 'market',\n    text: utils.string.t('market.title'),\n    icon: TimelineIcon,\n    link: config.routes.market.root,\n    isDev: true,\n    disabled: userIsUnderwriter\n  }, {\n    name: 'products',\n    text: utils.string.t('products.title'),\n    icon: BallotIcon,\n    link: config.routes.quoteBind.root,\n    disabled: !(userIsBroker || userIsUnderwriter)\n  }, {\n    name: 'trips',\n    text: utils.string.t('trips.title'),\n    icon: FlightTakeoffIcon,\n    link: config.routes.trip.root,\n    disabled: !userIsBroker,\n    isDev: true\n  }, {\n    name: 'opportunity',\n    text: utils.string.t('opportunity.title'),\n    icon: PublicIcon,\n    link: config.routes.opportunity.root,\n    disabled: !userIsBroker,\n    isDev: true\n  }, {\n    name: 'modelling',\n    text: utils.string.t('modelling.title'),\n    icon: AssessmentIcon,\n    link: config.routes.modelling.root,\n    disabled: !userIsBroker\n  }, {\n    name: 'reportings',\n    text: utils.string.t('reporting.title'),\n    icon: DonutLargeIcon,\n    link: config.routes.reporting.root,\n    disabled: userIsUnderwriter\n  }, {\n    name: 'checklist',\n    text: utils.string.t('openingMemo.title'),\n    icon: PlaylistAddCheckIcon,\n    link: config.routes.checklist.root,\n    disabled: !userIsBroker\n  }, {\n    name: 'industryNews',\n    text: utils.string.t('industryNews.title'),\n    icon: AssignmentIcon,\n    link: config.routes.industryNews.root,\n    disabled: userIsUnderwriter,\n    isDev: true\n  }])), _toConsumableArray(addMenuItems(userIsCurrentEdge, [{\n    name: 'admin',\n    text: utils.string.t('admin.currentEdgeTitle'),\n    icon: SettingsIcon,\n    link: config.routes.admin.currentAdmin,\n    // Core EDGE Admin\n    adminOnly: true\n  }])), _toConsumableArray(addMenuItems(userIsExtended && utils.app.access.route('admin', user), [{\n    name: 'administration',\n    text: utils.string.t('administration.extendedAdminTitle'),\n    // Extended Admin\n    icon: PeopleAltIcon,\n    link: config.routes.admin.edgeAdmin\n  }])));\n  var menuItemsFiltered = menuItems.filter(function (item) {\n    var isActive = !item.disabled;\n    var adminOnly = !item.adminOnly || userIsAdmin;\n    var isDev = !item.isDev || utils.app.isDevelopment(configVars);\n    var isValid = item.link || item.divider || item.title;\n    return isActive && adminOnly && isDev && isValid;\n  }).map(function (item) {\n    var isHome = item.name === 'home';\n    item.selected = isHome ? firstLevel === null : item.link && item.link.includes(firstLevel);\n    return item;\n  });\n  var deptItemsFiltered = departmentList.map(function (deptId) {\n    var department = utils.referenceData.departments.getById(referenceDataDepartments, deptId) || {};\n    if (!deptId || !department.name) return null;\n    return {\n      id: deptId,\n      label: department.name,\n      callback: function callback() {\n        dispatch(setDepartmentSelected(deptId));\n        menuItemsFiltered.filter(function (menu) {\n          return menu.selected;\n        }).map(function (item) {\n          return item.name;\n        }).toString() === 'department' && history.push(\"\".concat(config.routes.department.root, \"/\").concat(deptId, \"/\").concat(kebabCase(department.name)));\n      }\n    };\n  }).filter(function (dept) {\n    return dept;\n  });\n  return /*#__PURE__*/_jsxDEV(MenuView, {\n    items: menuItemsFiltered,\n    deptSelected: getDepartmentName(userDepartment),\n    user: user,\n    context: context,\n    deptList: deptItemsFiltered,\n    isExpanded: uiNavExpanded,\n    isMobile: media.mobile,\n    toggleNav: toggleNav,\n    isFileUploadVisible: false // if file upload is not required we can delete the code in menu.view.js\n    ,\n    hasMultipleDept: userDepartments.length > 1 && referenceDataDepartments.length > 0,\n    userIsExtended: userIsExtended,\n    userIsCurrentEdge: userIsCurrentEdge,\n    handlers: {\n      click: handleClick,\n      fileUpload: handleFileUpload\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 315,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Menu, \"KDDgccN5LSiV238eAjC0/PzUUEI=\", false, function () {\n  return [useDispatch, useHistory, useMedia, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = Menu;\nMenu.displayName = \"Menu\";\nMenu.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [],\n  \"displayName\": \"Menu\"\n};\n\nif (typeof STORYBOOK_REACT_CLASSES !== \"undefined\") {\n  STORYBOOK_REACT_CLASSES[\"src\\\\components\\\\Menu\\\\Menu.js\"] = {\n    name: \"Menu\",\n    docgenInfo: Menu.__docgenInfo,\n    path: \"src\\\\components\\\\Menu\\\\Menu.js\"\n  };\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Menu\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/components/Menu/Menu.js"],"names":["React","useEffect","useContext","useState","useDispatch","useSelector","useHistory","get","kebabCase","MenuView","AuthContext","showModal","collapseNav","expandNav","getParentList","setDepartmentSelected","selectUserDepartment","selectUserDepartmentId","selectIsAdmin","selectIsBroker","selectIsCobroker","selectIsUnderwriter","selectUserDepartments","selectUserIsExtended","selectUserIsCurrent","useMedia","utils","config","ListAltIcon","ApartmentIcon","AssessmentIcon","AssignmentIcon","AssignmentTurnedInIcon","BallotIcon","DescriptionIcon","FlightTakeoffIcon","HomeIcon","PlaylistAddCheckIcon","PeopleAltIcon","PublicIcon","SettingsIcon","TimelineIcon","DonutLargeIcon","StarIcon","Menu","dispatch","history","media","context","configVars","state","uiNavExpanded","user","userIsAdmin","userIsBroker","userIsCoBroker","userIsUnderwriter","userIsExtended","userIsCurrentEdge","userIsLoaded","isLoaded","parentList","parentListFetched","referenceDataDepartments","userDepartment","userDepartmentId","userDepartments","userDepartmentSlug","locationParams","location","pathname","split","locationFirstParam","length","firstLevel","setFirstLevel","listen","paramArr","firstParam","handleClick","event","mobile","toggleNav","handleFileUpload","files","rejectedFiles","component","props","title","string","t","fullWidth","maxWidth","componentProps","generic","isValidArray","map","f","file","name","type","getDepartmentName","dept","indexOf","join","id","departmentList","department","getAll","addMenuItems","condition","items","menuItems","app","access","route","text","icon","link","routes","home","root","reportingExtended","processingInstructions","premiumProcessing","claimsFNOL","claimsProcessing","disabled","client","market","isDev","quoteBind","trip","opportunity","modelling","reporting","checklist","industryNews","admin","currentAdmin","adminOnly","edgeAdmin","menuItemsFiltered","filter","item","isActive","isDevelopment","isValid","divider","isHome","selected","includes","deptItemsFiltered","deptId","referenceData","departments","getById","label","callback","menu","toString","push","click","fileUpload"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\nimport get from 'lodash/get';\r\nimport kebabCase from 'lodash/kebabCase';\r\n\r\n// app\r\nimport MenuView from './Menu.view';\r\nimport { AuthContext } from 'components';\r\nimport {\r\n  showModal,\r\n  collapseNav,\r\n  expandNav,\r\n  getParentList,\r\n  setDepartmentSelected,\r\n  selectUserDepartment,\r\n  selectUserDepartmentId,\r\n  selectIsAdmin,\r\n  selectIsBroker,\r\n  selectIsCobroker,\r\n  selectIsUnderwriter,\r\n  selectUserDepartments,\r\n  selectUserIsExtended,\r\n  selectUserIsCurrent,\r\n} from 'stores';\r\nimport { useMedia } from 'hooks';\r\nimport * as utils from 'utils';\r\nimport config from 'config';\r\n\r\n// mui\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport ApartmentIcon from '@material-ui/icons/Apartment';\r\nimport AssessmentIcon from '@material-ui/icons/Assessment';\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn';\r\nimport BallotIcon from '@material-ui/icons/Ballot';\r\nimport DescriptionIcon from '@material-ui/icons/Description';\r\nimport FlightTakeoffIcon from '@material-ui/icons/FlightTakeoff';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport PlaylistAddCheckIcon from '@material-ui/icons/PlaylistAddCheck';\r\nimport PeopleAltIcon from '@material-ui/icons/PeopleAlt';\r\nimport PublicIcon from '@material-ui/icons/Public';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport TimelineIcon from '@material-ui/icons/Timeline';\r\nimport DonutLargeIcon from '@material-ui/icons/DonutLarge';\r\nimport StarIcon from '@material-ui/icons/Star';\r\n\r\nexport default function Menu() {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const media = useMedia();\r\n  const context = useContext(AuthContext);\r\n\r\n  const configVars = useSelector((state) => get(state, 'config.vars'));\r\n  const uiNavExpanded = useSelector((state) => get(state, 'ui.nav.expanded'));\r\n  const user = useSelector((state) => state.user);\r\n  const userIsAdmin = useSelector(selectIsAdmin);\r\n  const userIsBroker = useSelector(selectIsBroker);\r\n  const userIsCoBroker = useSelector(selectIsCobroker);\r\n  const userIsUnderwriter = useSelector(selectIsUnderwriter);\r\n  const userIsExtended = useSelector(selectUserIsExtended);\r\n  const userIsCurrentEdge = useSelector(selectUserIsCurrent);\r\n  const userIsLoaded = utils.user.isLoaded(user);\r\n  const parentList = useSelector((state) => get(state, 'parent.list'));\r\n  const parentListFetched = useSelector((state) => get(state, 'parent.listFetched'));\r\n  const referenceDataDepartments = useSelector((state) => get(state, 'referenceData.departments'));\r\n  const userDepartment = useSelector(selectUserDepartment) || {};\r\n  const userDepartmentId = useSelector(selectUserDepartmentId);\r\n  const userDepartments = useSelector(selectUserDepartments);\r\n  const userDepartmentSlug = userDepartment && kebabCase(get(userDepartment, 'name', ''));\r\n\r\n  const locationParams = history.location.pathname.split('/');\r\n  const locationFirstParam = locationParams.length > 0 && locationParams[1] ? locationParams[1] : null;\r\n  const [firstLevel, setFirstLevel] = useState(locationFirstParam);\r\n\r\n  useEffect(() => {\r\n    if (userIsLoaded && !userIsExtended && !parentListFetched) {\r\n      dispatch(getParentList());\r\n    }\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  useEffect(() => {\r\n    return history.listen((location) => {\r\n      const paramArr = location.pathname.split('/');\r\n      const firstParam = paramArr.length > 0 && paramArr[1] ? paramArr[1] : null;\r\n\r\n      setFirstLevel(firstParam);\r\n    });\r\n  }, [history]);\r\n\r\n  const handleClick = (event) => {\r\n    if (media.mobile) {\r\n      dispatch(collapseNav());\r\n    }\r\n  };\r\n  const toggleNav = () => {\r\n    if (uiNavExpanded) {\r\n      dispatch(collapseNav());\r\n    } else {\r\n      dispatch(expandNav());\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = (files, rejectedFiles) => {\r\n    dispatch(\r\n      showModal({\r\n        component: 'POLICY_DOCUMENTS',\r\n        props: {\r\n          title: utils.string.t('app.fileUpload'),\r\n          fullWidth: true,\r\n          maxWidth: 'xl',\r\n          componentProps: {\r\n            files: utils.generic.isValidArray(files) ? files.map((f) => ({ file: f, name: f.name, type: null })) : [],\r\n            rejectedFiles,\r\n          },\r\n        },\r\n      })\r\n    );\r\n  };\r\n\r\n  const getDepartmentName = (dept) => {\r\n    if (!dept || !dept.name) return '';\r\n\r\n    return dept.name.indexOf('-XB_') >= 0 ? `${dept.name.split('-XB_').join(' (')})` : dept.name;\r\n  };\r\n\r\n  // abort\r\n  if (!user || !user.id) return null;\r\n\r\n  const departmentList = utils.user.department.getAll(user) || [];\r\n\r\n  const addMenuItems = (condition, items) => {\r\n    return condition ? [...items] : [];\r\n  };\r\n\r\n  const menuItems = [\r\n    ...addMenuItems(userIsCurrentEdge || (userIsExtended && utils.app.access.route('home', user)), [\r\n      {\r\n        name: 'home',\r\n        text: utils.string.t('app.home'),\r\n        icon: HomeIcon,\r\n        link: config.routes.home.root,\r\n      },\r\n    ]),\r\n    ...addMenuItems(userIsExtended && utils.app.access.route('reporting', user), [\r\n      {\r\n        name: 'reportingExtended',\r\n        text: utils.string.t('reportingExtended.menuItem.title'),\r\n        icon: DonutLargeIcon,\r\n        link: config.routes.reportingExtended.root,\r\n      },\r\n    ]),\r\n    ...addMenuItems(userIsExtended && utils.app.access.route('processingInstructions', user), [\r\n      {\r\n        name: 'processing-instructions',\r\n        text: utils.string.t('processingInstructions.title'),\r\n        icon: PlaylistAddCheckIcon,\r\n        link: config.routes.processingInstructions.root,\r\n      },\r\n    ]),\r\n    ...addMenuItems(userIsExtended && utils.app.access.route('premiumProcessing', user), [\r\n      {\r\n        name: 'premium-processing',\r\n        text: utils.string.t('premiumProcessing.title'),\r\n        icon: StarIcon,\r\n        link: config.routes.premiumProcessing.root,\r\n      },\r\n    ]),\r\n    ...addMenuItems(userIsExtended && utils.app.access.route('claimsFNOL', user), [\r\n      {\r\n        name: 'claims-fnol',\r\n        text: utils.string.t('claims.title'),\r\n        icon: DescriptionIcon,\r\n        link: config.routes.claimsFNOL.root,\r\n      },\r\n    ]),\r\n    ...addMenuItems(userIsExtended && utils.app.access.route('claimsProcessing', user), [\r\n      {\r\n        name: 'claims-processing',\r\n        text: utils.string.t('claims.processing.title'),\r\n        icon: AssignmentTurnedInIcon,\r\n        link: config.routes.claimsProcessing.root,\r\n      },\r\n    ]),\r\n    ...addMenuItems(userIsCurrentEdge, [\r\n      {\r\n        name: 'department',\r\n        text:\r\n          (userIsBroker && utils.string.t('department.titlePlacements')) || (userIsCoBroker && utils.string.t('department.titleAccounts')),\r\n        icon: ListAltIcon,\r\n        link: `${config.routes.department.root}/${userDepartmentId}${userDepartmentSlug ? `/${userDepartmentSlug}` : ''}`,\r\n        disabled: userIsUnderwriter,\r\n      },\r\n      {\r\n        name: 'client',\r\n        text: utils.string.t('client.title'),\r\n        icon: ApartmentIcon,\r\n        link: config.routes.client.root,\r\n        disabled: parentList.length <= 0 || userIsUnderwriter,\r\n      },\r\n      {\r\n        name: 'market',\r\n        text: utils.string.t('market.title'),\r\n        icon: TimelineIcon,\r\n        link: config.routes.market.root,\r\n        isDev: true,\r\n        disabled: userIsUnderwriter,\r\n      },\r\n      {\r\n        name: 'products',\r\n        text: utils.string.t('products.title'),\r\n        icon: BallotIcon,\r\n        link: config.routes.quoteBind.root,\r\n        disabled: !(userIsBroker || userIsUnderwriter),\r\n      },\r\n      {\r\n        name: 'trips',\r\n        text: utils.string.t('trips.title'),\r\n        icon: FlightTakeoffIcon,\r\n        link: config.routes.trip.root,\r\n        disabled: !userIsBroker,\r\n        isDev: true,\r\n      },\r\n      {\r\n        name: 'opportunity',\r\n        text: utils.string.t('opportunity.title'),\r\n        icon: PublicIcon,\r\n        link: config.routes.opportunity.root,\r\n        disabled: !userIsBroker,\r\n        isDev: true,\r\n      },\r\n      {\r\n        name: 'modelling',\r\n        text: utils.string.t('modelling.title'),\r\n        icon: AssessmentIcon,\r\n        link: config.routes.modelling.root,\r\n        disabled: !userIsBroker,\r\n      },\r\n      {\r\n        name: 'reportings',\r\n        text: utils.string.t('reporting.title'),\r\n        icon: DonutLargeIcon,\r\n        link: config.routes.reporting.root,\r\n        disabled: userIsUnderwriter,\r\n      },\r\n      {\r\n        name: 'checklist',\r\n        text: utils.string.t('openingMemo.title'),\r\n        icon: PlaylistAddCheckIcon,\r\n        link: config.routes.checklist.root,\r\n        disabled: !userIsBroker,\r\n      },\r\n      {\r\n        name: 'industryNews',\r\n        text: utils.string.t('industryNews.title'),\r\n        icon: AssignmentIcon,\r\n        link: config.routes.industryNews.root,\r\n        disabled: userIsUnderwriter,\r\n        isDev: true,\r\n      },\r\n    ]),\r\n    ...addMenuItems(userIsCurrentEdge, [\r\n      {\r\n        name: 'admin',\r\n        text: utils.string.t('admin.currentEdgeTitle'),\r\n        icon: SettingsIcon,\r\n        link: config.routes.admin.currentAdmin, // Core EDGE Admin\r\n        adminOnly: true,\r\n      },\r\n    ]),\r\n    ...addMenuItems(userIsExtended && utils.app.access.route('admin', user), [\r\n      {\r\n        name: 'administration',\r\n        text: utils.string.t('administration.extendedAdminTitle'), // Extended Admin\r\n        icon: PeopleAltIcon,\r\n        link: config.routes.admin.edgeAdmin,\r\n      },\r\n    ]),\r\n  ];\r\n\r\n  const menuItemsFiltered = menuItems\r\n    .filter((item) => {\r\n      const isActive = !item.disabled;\r\n      const adminOnly = !item.adminOnly || userIsAdmin;\r\n      const isDev = !item.isDev || utils.app.isDevelopment(configVars);\r\n      const isValid = item.link || item.divider || item.title;\r\n\r\n      return isActive && adminOnly && isDev && isValid;\r\n    })\r\n    .map((item) => {\r\n      const isHome = item.name === 'home';\r\n      item.selected = isHome ? firstLevel === null : item.link && item.link.includes(firstLevel);\r\n      return item;\r\n    });\r\n  const deptItemsFiltered = departmentList\r\n    .map((deptId) => {\r\n      const department = utils.referenceData.departments.getById(referenceDataDepartments, deptId) || {};\r\n      if (!deptId || !department.name) return null;\r\n\r\n      return {\r\n        id: deptId,\r\n        label: department.name,\r\n        callback: () => {\r\n          dispatch(setDepartmentSelected(deptId));\r\n          menuItemsFiltered\r\n            .filter((menu) => menu.selected)\r\n            .map((item) => item.name)\r\n            .toString() === 'department' && history.push(`${config.routes.department.root}/${deptId}/${kebabCase(department.name)}`);\r\n        },\r\n      };\r\n    })\r\n    .filter((dept) => dept);\r\n\r\n  return (\r\n    <MenuView\r\n      items={menuItemsFiltered}\r\n      deptSelected={getDepartmentName(userDepartment)}\r\n      user={user}\r\n      context={context}\r\n      deptList={deptItemsFiltered}\r\n      isExpanded={uiNavExpanded}\r\n      isMobile={media.mobile}\r\n      toggleNav={toggleNav}\r\n      isFileUploadVisible={false} // if file upload is not required we can delete the code in menu.view.js\r\n      hasMultipleDept={userDepartments.length > 1 && referenceDataDepartments.length > 0}\r\n      userIsExtended={userIsExtended}\r\n      userIsCurrentEdge={userIsCurrentEdge}\r\n      handlers={{\r\n        click: handleClick,\r\n        fileUpload: handleFileUpload,\r\n      }}\r\n    />\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}