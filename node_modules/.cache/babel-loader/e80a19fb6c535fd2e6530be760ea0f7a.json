{"ast":null,"code":"import _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { addLoader, authLogout, getLocationGroupsForPlacement, removeLoader, resetPlacementLocations } from 'stores';\nimport * as utils from 'utils';\nexport var getPlacementDetails = function getPlacementDetails(id, showLoader) {\n  var getLocations = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  return function (dispatch, getState) {\n    // prettier-ignore\n    var _getState = getState(),\n        auth = _getState.user.auth,\n        endpoint = _getState.config.vars.endpoint;\n\n    var defaultError = {\n      file: 'stores/placement.actions.getDetails'\n    };\n    dispatch(getPlacementDetailsRequest(id));\n    dispatch(resetPlacementLocations());\n\n    if (showLoader) {\n      dispatch(addLoader('getPlacementDetails'));\n    }\n\n    if (!id) {\n      dispatch(getPlacementDetailsFailure(_objectSpread(_objectSpread({}, defaultError), {}, {\n        message: 'ID missing'\n      })));\n      dispatch(removeLoader('getPlacementDetails'));\n      return _objectSpread(_objectSpread({}, defaultError), {}, {\n        message: 'ID missing'\n      });\n    }\n\n    return utils.api.get({\n      token: auth.accessToken,\n      endpoint: endpoint.edge,\n      path: \"api/placement/\".concat(id)\n    }).then(function (response) {\n      return utils.api.handleResponse(response);\n    }).then(function (json) {\n      return utils.api.handleData(json);\n    }).then(function (data) {\n      if (showLoader) {\n        dispatch(removeLoader('getPlacementDetails'));\n      }\n\n      dispatch(getPlacementDetailsSuccess(data));\n      getLocations && dispatch(getLocationGroupsForPlacement(id, showLoader));\n      return data;\n    }).catch(function (err) {\n      if (showLoader) {\n        dispatch(removeLoader('getPlacementDetails'));\n      }\n\n      utils.api.handleError(err, defaultError);\n      utils.api.handleUnauthorized(err, dispatch, authLogout);\n      dispatch(getPlacementDetailsFailure(err));\n      return _objectSpread(_objectSpread(_objectSpread({}, defaultError), err), {}, {\n        message: 'API get error (placement.getDetails)'\n      });\n    });\n  };\n};\nexport var getPlacementDetailsRequest = function getPlacementDetailsRequest(id) {\n  return {\n    type: 'PLACEMENT_DETAILS_GET_REQUEST',\n    payload: id\n  };\n};\nexport var getPlacementDetailsSuccess = function getPlacementDetailsSuccess(placementObject) {\n  return {\n    type: 'PLACEMENT_DETAILS_GET_SUCCESS',\n    payload: placementObject\n  };\n};\nexport var getPlacementDetailsFailure = function getPlacementDetailsFailure(error) {\n  return {\n    type: 'PLACEMENT_DETAILS_GET_FAILURE',\n    payload: error\n  };\n};","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/stores/placement/placement.actions.getDetails.js"],"names":["addLoader","authLogout","getLocationGroupsForPlacement","removeLoader","resetPlacementLocations","utils","getPlacementDetails","id","showLoader","getLocations","dispatch","getState","auth","user","endpoint","config","vars","defaultError","file","getPlacementDetailsRequest","getPlacementDetailsFailure","message","api","get","token","accessToken","edge","path","then","response","handleResponse","json","handleData","data","getPlacementDetailsSuccess","catch","err","handleError","handleUnauthorized","type","payload","placementObject","error"],"mappings":"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","sourcesContent":["import { addLoader, authLogout, getLocationGroupsForPlacement, removeLoader, resetPlacementLocations } from 'stores';\r\nimport * as utils from 'utils';\r\n\r\nexport const getPlacementDetails =\r\n  (id, showLoader, getLocations = false) =>\r\n  (dispatch, getState) => {\r\n    // prettier-ignore\r\n    const { user: { auth }, config: { vars: { endpoint }}} = getState();\r\n\r\n    const defaultError = {\r\n      file: 'stores/placement.actions.getDetails',\r\n    };\r\n\r\n    dispatch(getPlacementDetailsRequest(id));\r\n    dispatch(resetPlacementLocations());\r\n\r\n    if (showLoader) {\r\n      dispatch(addLoader('getPlacementDetails'));\r\n    }\r\n\r\n    if (!id) {\r\n      dispatch(getPlacementDetailsFailure({ ...defaultError, message: 'ID missing' }));\r\n      dispatch(removeLoader('getPlacementDetails'));\r\n      return { ...defaultError, message: 'ID missing' };\r\n    }\r\n\r\n    return utils.api\r\n      .get({\r\n        token: auth.accessToken,\r\n        endpoint: endpoint.edge,\r\n        path: `api/placement/${id}`,\r\n      })\r\n      .then((response) => utils.api.handleResponse(response))\r\n      .then((json) => utils.api.handleData(json))\r\n      .then((data) => {\r\n        if (showLoader) {\r\n          dispatch(removeLoader('getPlacementDetails'));\r\n        }\r\n\r\n        dispatch(getPlacementDetailsSuccess(data));\r\n        getLocations && dispatch(getLocationGroupsForPlacement(id, showLoader));\r\n        return data;\r\n      })\r\n      .catch((err) => {\r\n        if (showLoader) {\r\n          dispatch(removeLoader('getPlacementDetails'));\r\n        }\r\n\r\n        utils.api.handleError(err, defaultError);\r\n        utils.api.handleUnauthorized(err, dispatch, authLogout);\r\n        dispatch(getPlacementDetailsFailure(err));\r\n        return { ...defaultError, ...err, message: 'API get error (placement.getDetails)' };\r\n      });\r\n  };\r\n\r\nexport const getPlacementDetailsRequest = (id) => {\r\n  return {\r\n    type: 'PLACEMENT_DETAILS_GET_REQUEST',\r\n    payload: id,\r\n  };\r\n};\r\n\r\nexport const getPlacementDetailsSuccess = (placementObject) => {\r\n  return {\r\n    type: 'PLACEMENT_DETAILS_GET_SUCCESS',\r\n    payload: placementObject,\r\n  };\r\n};\r\n\r\nexport const getPlacementDetailsFailure = (error) => {\r\n  return {\r\n    type: 'PLACEMENT_DETAILS_GET_FAILURE',\r\n    payload: error,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}