{"ast":null,"code":"import _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\DmsAttachDocumentsTable\\\\DmsAttachDocumentsTable.view.js\",\n    _s = $RefreshSig$();\n\nimport PropTypes from 'prop-types'; // app\n\nimport * as utils from 'utils';\nimport { Avatar, PopoverMenu, Overflow, TableHead, Warning, Button } from 'components';\nimport config from 'config';\nimport { useMedia } from 'hooks';\nimport styles from './DmsAttachDocumentsTable.styles'; // mui\n\nimport { Box, makeStyles, Table, TableBody, TableRow, TableCell, Typography, Checkbox, Switch } from '@material-ui/core';\nimport InsertDriveFileIcon from '@material-ui/icons/InsertDriveFile';\nimport LinkOffIcon from '@material-ui/icons/LinkOff';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nDmsAttachDocumentsTableView.propTypes = {\n  columnsArray: PropTypes.array,\n  documentList: PropTypes.array,\n  popoverActions: PropTypes.array,\n  handlers: PropTypes.shape({\n    getDocClassification: PropTypes.func,\n    handleCheckboxClick: PropTypes.func.isRequired,\n    showCheckboxesClick: PropTypes.func.isRequired,\n    handleMutipleDelete: PropTypes.func.isRequired,\n    handleMutipleUnlinking: PropTypes.func.isRequired\n  })\n};\nexport function DmsAttachDocumentsTableView(_ref) {\n  _s();\n\n  var _this = this;\n\n  var columnsArray = _ref.columnsArray,\n      documentList = _ref.documentList,\n      popoverActions = _ref.popoverActions,\n      handlers = _ref.handlers,\n      isMultiSelect = _ref.isMultiSelect,\n      selectedDocs = _ref.selectedDocs;\n  var media = useMedia();\n  var classes = makeStyles(styles, {\n    name: 'DmsAttachDocumentsTable'\n  })({\n    isMobile: media.mobile\n  });\n  var hasNoDocument = (documentList === null || documentList === void 0 ? void 0 : documentList.length) === 0;\n  var selectedDocLength = selectedDocs === null || selectedDocs === void 0 ? void 0 : selectedDocs.length;\n  var hasNoDocumentSelected = selectedDocLength === 0;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    mt: 2,\n    className: classes.tableContainer,\n    children: [/*#__PURE__*/_jsxDEV(Overflow, {\n      children: [/*#__PURE__*/_jsxDEV(Table, {\n        size: \"small\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          columns: columnsArray\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: documentList === null || documentList === void 0 ? void 0 : documentList.map(function (doc, index) {\n            var _doc$srcApplication;\n\n            var refinedActions = _toConsumableArray(popoverActions).map(function (action) {\n              return ((doc === null || doc === void 0 ? void 0 : doc.isLink) && action.id === 'delete' ? _objectSpread(_objectSpread({}, action), {}, {\n                disabled: true\n              }) : action) || (!(doc === null || doc === void 0 ? void 0 : doc.isLink) && action.id === 'unlink' ? _objectSpread(_objectSpread({}, action), {}, {\n                disabled: true\n              }) : action);\n            });\n\n            var checked = utils.generic.isValidArray(selectedDocs, true) && (selectedDocs === null || selectedDocs === void 0 ? void 0 : selectedDocs.map(function (selDoc) {\n              return selDoc.documentName;\n            }).includes(doc.documentName));\n            return /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                compact: true,\n                minimal: true,\n                children: isMultiSelect && /*#__PURE__*/_jsxDEV(Checkbox, {\n                  color: \"primary\",\n                  checked: checked,\n                  onClick: function onClick(e) {\n                    return handlers.handleCheckboxClick(e, doc);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 55,\n                  columnNumber: 39\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: [doc === null || doc === void 0 ? void 0 : doc.documentName, Boolean(Number(doc === null || doc === void 0 ? void 0 : doc.isUploadedOnGxb)) && /*#__PURE__*/_jsxDEV(Box, {\n                  display: 'flex',\n                  alignItems: 'center',\n                  children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                    size: 20,\n                    border: false,\n                    icon: InsertDriveFileIcon\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 61,\n                    columnNumber: 25\n                  }, _this), /*#__PURE__*/_jsxDEV(Typography, {\n                    children: utils.string.t('dms.view.gxb')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 62,\n                    columnNumber: 25\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 23\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: doc === null || doc === void 0 ? void 0 : (_doc$srcApplication = doc.srcApplication) === null || _doc$srcApplication === void 0 ? void 0 : _doc$srcApplication.toUpperCase()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: doc === null || doc === void 0 ? void 0 : doc.documentTypeDescription\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: handlers.getDocClassification(doc === null || doc === void 0 ? void 0 : doc.docClassification)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: utils.string.t('format.date', {\n                  value: {\n                    date: doc === null || doc === void 0 ? void 0 : doc.updatedDate,\n                    format: config.ui.format.date.text\n                  }\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: doc === null || doc === void 0 ? void 0 : doc.createdByName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: utils.string.t('format.date', {\n                  value: {\n                    date: doc === null || doc === void 0 ? void 0 : doc.createdDate,\n                    format: config.ui.format.date.text\n                  }\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(PopoverMenu, {\n                  id: \"view-menu-list\",\n                  items: refinedActions,\n                  data: {\n                    index: index\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 19\n              }, _this)]\n            }, doc === null || doc === void 0 ? void 0 : doc.documentName, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), utils.generic.isInvalidOrEmptyArray(documentList) && /*#__PURE__*/_jsxDEV(Box, {\n        p: 5,\n        children: /*#__PURE__*/_jsxDEV(Warning, {\n          text: utils.string.t('dms.view.gridDataEmptyWarning'),\n          type: \"info\",\n          align: \"center\",\n          size: \"large\",\n          icon: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), !hasNoDocument && /*#__PURE__*/_jsxDEV(Box, {\n      className: classes.multiSelectContainer,\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        className: classes.multiSelectTitle,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          children: utils.string.t('dms.view.multiSelect')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        mr: 1,\n        children: /*#__PURE__*/_jsxDEV(Switch, {\n          color: \"primary\",\n          size: \"small\",\n          checked: isMultiSelect,\n          disabled: hasNoDocument,\n          onChange: function onChange(event) {\n            return handlers.showCheckboxesClick(event);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        flexDirection: \"column\",\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            mr: 1,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              icon: LinkOffIcon,\n              iconWide: true,\n              text: utils.string.t('dms.view.buttons.unlink'),\n              color: \"primary\",\n              variant: \"outlined\",\n              size: \"xsmall\",\n              disabled: !isMultiSelect || hasNoDocument || hasNoDocumentSelected,\n              onClick: function onClick() {\n                return handlers.handleMutipleUnlinking();\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            mr: 1,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              icon: CancelIcon,\n              text: utils.string.t('dms.view.buttons.delete'),\n              color: \"primary\",\n              variant: \"outlined\",\n              size: \"xsmall\",\n              disabled: !isMultiSelect || hasNoDocument || hasNoDocumentSelected,\n              onClick: function onClick() {\n                return handlers.handleMutipleDelete();\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this), isMultiSelect && /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          alignItems: \"center\",\n          mt: 0.5,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: utils.string.t('dms.view.selectedDoc', {\n              count: selectedDocLength\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DmsAttachDocumentsTableView, \"Inu6KbwmgyiVqUeOTSx0E+dAczw=\", false, function () {\n  return [useMedia];\n});\n\n_c = DmsAttachDocumentsTableView;\n\nvar _c;\n\n$RefreshReg$(_c, \"DmsAttachDocumentsTableView\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/DmsAttachDocumentsTable/DmsAttachDocumentsTable.view.js"],"names":["PropTypes","utils","Avatar","PopoverMenu","Overflow","TableHead","Warning","Button","config","useMedia","styles","Box","makeStyles","Table","TableBody","TableRow","TableCell","Typography","Checkbox","Switch","InsertDriveFileIcon","LinkOffIcon","CancelIcon","DmsAttachDocumentsTableView","propTypes","columnsArray","array","documentList","popoverActions","handlers","shape","getDocClassification","func","handleCheckboxClick","isRequired","showCheckboxesClick","handleMutipleDelete","handleMutipleUnlinking","isMultiSelect","selectedDocs","media","classes","name","isMobile","mobile","hasNoDocument","length","selectedDocLength","hasNoDocumentSelected","tableContainer","map","doc","index","refinedActions","action","isLink","id","disabled","checked","generic","isValidArray","selDoc","documentName","includes","e","Boolean","Number","isUploadedOnGxb","string","t","srcApplication","toUpperCase","documentTypeDescription","docClassification","value","date","updatedDate","format","ui","text","createdByName","createdDate","isInvalidOrEmptyArray","multiSelectContainer","multiSelectTitle","event","count"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\n\r\n// app\r\nimport * as utils from 'utils';\r\nimport { Avatar, PopoverMenu, Overflow, TableHead, Warning, Button } from 'components';\r\nimport config from 'config';\r\nimport { useMedia } from 'hooks';\r\nimport styles from './DmsAttachDocumentsTable.styles';\r\n\r\n// mui\r\nimport { Box, makeStyles, Table, TableBody, TableRow, TableCell, Typography, Checkbox, Switch } from '@material-ui/core';\r\nimport InsertDriveFileIcon from '@material-ui/icons/InsertDriveFile';\r\nimport LinkOffIcon from '@material-ui/icons/LinkOff';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\nDmsAttachDocumentsTableView.propTypes = {\r\n  columnsArray: PropTypes.array,\r\n  documentList: PropTypes.array,\r\n  popoverActions: PropTypes.array,\r\n  handlers: PropTypes.shape({\r\n    getDocClassification: PropTypes.func,\r\n    handleCheckboxClick: PropTypes.func.isRequired,\r\n    showCheckboxesClick: PropTypes.func.isRequired,\r\n    handleMutipleDelete: PropTypes.func.isRequired,\r\n    handleMutipleUnlinking: PropTypes.func.isRequired,\r\n  }),\r\n};\r\n\r\nexport function DmsAttachDocumentsTableView({ columnsArray, documentList, popoverActions, handlers, isMultiSelect, selectedDocs }) {\r\n  const media = useMedia();\r\n  const classes = makeStyles(styles, { name: 'DmsAttachDocumentsTable' })({ isMobile: media.mobile });\r\n  const hasNoDocument = documentList?.length === 0;\r\n  const selectedDocLength = selectedDocs?.length;\r\n  const hasNoDocumentSelected = selectedDocLength === 0;\r\n\r\n  return (\r\n    <Box mt={2} className={classes.tableContainer}>\r\n      <Overflow>\r\n        <Table size=\"small\">\r\n          <TableHead columns={columnsArray} />\r\n          <TableBody>\r\n            {documentList?.map((doc, index) => {\r\n              const refinedActions = [...popoverActions].map((action) => {\r\n                return (\r\n                  (doc?.isLink && action.id === 'delete' ? { ...action, disabled: true } : action) ||\r\n                  (!doc?.isLink && action.id === 'unlink' ? { ...action, disabled: true } : action)\r\n                );\r\n              });\r\n              const checked =\r\n                utils.generic.isValidArray(selectedDocs, true) &&\r\n                selectedDocs?.map((selDoc) => selDoc.documentName).includes(doc.documentName);\r\n              return (\r\n                <TableRow key={doc?.documentName}>\r\n                  <TableCell compact minimal>\r\n                    {isMultiSelect && <Checkbox color=\"primary\" checked={checked} onClick={(e) => handlers.handleCheckboxClick(e, doc)} />}\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {doc?.documentName}\r\n                    {Boolean(Number(doc?.isUploadedOnGxb)) && (\r\n                      <Box display={'flex'} alignItems={'center'}>\r\n                        <Avatar size={20} border={false} icon={InsertDriveFileIcon} />\r\n                        <Typography>{utils.string.t('dms.view.gxb')}</Typography>\r\n                      </Box>\r\n                    )}\r\n                  </TableCell>\r\n                  <TableCell>{doc?.srcApplication?.toUpperCase()}</TableCell>\r\n\r\n                  <TableCell>{doc?.documentTypeDescription}</TableCell>\r\n                  <TableCell>{handlers.getDocClassification(doc?.docClassification)}</TableCell>\r\n                  <TableCell>\r\n                    {utils.string.t('format.date', { value: { date: doc?.updatedDate, format: config.ui.format.date.text } })}\r\n                  </TableCell>\r\n                  <TableCell>{doc?.createdByName}</TableCell>\r\n\r\n                  <TableCell>\r\n                    {utils.string.t('format.date', { value: { date: doc?.createdDate, format: config.ui.format.date.text } })}\r\n                  </TableCell>\r\n\r\n                  <TableCell>\r\n                    <PopoverMenu id=\"view-menu-list\" items={refinedActions} data={{ index }} />\r\n                  </TableCell>\r\n                </TableRow>\r\n              );\r\n            })}\r\n          </TableBody>\r\n        </Table>\r\n        {utils.generic.isInvalidOrEmptyArray(documentList) && (\r\n          <Box p={5}>\r\n            <Warning text={utils.string.t('dms.view.gridDataEmptyWarning')} type=\"info\" align=\"center\" size=\"large\" icon />\r\n          </Box>\r\n        )}\r\n      </Overflow>\r\n      {!hasNoDocument && (\r\n        <Box className={classes.multiSelectContainer}>\r\n          <Box className={classes.multiSelectTitle}>\r\n            <Typography variant=\"body2\">{utils.string.t('dms.view.multiSelect')}</Typography>\r\n          </Box>\r\n          <Box mr={1}>\r\n            <Switch\r\n              color=\"primary\"\r\n              size=\"small\"\r\n              checked={isMultiSelect}\r\n              disabled={hasNoDocument}\r\n              onChange={(event) => handlers.showCheckboxesClick(event)}\r\n            />\r\n          </Box>\r\n          <Box display=\"flex\" flexDirection=\"column\">\r\n            <Box display=\"flex\">\r\n              <Box mr={1}>\r\n                <Button\r\n                  icon={LinkOffIcon}\r\n                  iconWide\r\n                  text={utils.string.t('dms.view.buttons.unlink')}\r\n                  color=\"primary\"\r\n                  variant=\"outlined\"\r\n                  size=\"xsmall\"\r\n                  disabled={!isMultiSelect || hasNoDocument || hasNoDocumentSelected}\r\n                  onClick={() => handlers.handleMutipleUnlinking()}\r\n                />\r\n              </Box>\r\n              <Box mr={1}>\r\n                <Button\r\n                  icon={CancelIcon}\r\n                  text={utils.string.t('dms.view.buttons.delete')}\r\n                  color=\"primary\"\r\n                  variant=\"outlined\"\r\n                  size=\"xsmall\"\r\n                  disabled={!isMultiSelect || hasNoDocument || hasNoDocumentSelected}\r\n                  onClick={() => handlers.handleMutipleDelete()}\r\n                />\r\n              </Box>\r\n            </Box>\r\n            {isMultiSelect && (\r\n              <Box display=\"flex\" alignItems=\"center\" mt={0.5}>\r\n                <Typography variant=\"body2\">\r\n                  {utils.string.t('dms.view.selectedDoc', {\r\n                    count: selectedDocLength,\r\n                  })}\r\n                </Typography>\r\n              </Box>\r\n            )}\r\n          </Box>\r\n        </Box>\r\n      )}\r\n    </Box>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}