{"ast":null,"code":"import _toConsumableArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\components\\\\DmsSearch\\\\DmsSearch.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { get } from 'lodash'; // app\n\nimport { DmsSearchView } from './DmsSearch.view';\nimport { searchDmsDocuments, selectRefDataNewDocumentTypesByContextSource, selectRefDataNewDocumentTypeLookUpByContextSource, resetDmsDocumentsSearch, viewDocumentsDownload, viewDocumentsMultiDownload, linkMultipleDmsDocuments, showModal, selectClaimsListFilterLoading, selectLossInformation, selectClaimsInformation, getDepartments, selectPiDepartmentList, selectDmsSearchDataLoader, selectDmsAdvSearchValues, setDmsAdvSearchData, resetDmsAdvSearchValues, selectDmsClientSideUploadFiles, linkClientSideDmsDocuments } from 'stores';\nimport { useFormActions, useFlexiColumns } from 'hooks';\nimport * as constants from 'consts';\nimport * as utils from 'utils';\nimport config from 'config';\nimport { MultiSelect } from 'components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nDmsSearch.propTypes = {\n  context: PropTypes.oneOf([constants.DMS_CONTEXT_CASE, constants.DMS_CONTEXT_CLAIM, constants.DMS_CONTEXT_LOSS, constants.DMS_CONTEXT_POLICY, constants.DMS_CONTEXT_TASK, constants.DMS_CONTEXT_PROCESSING_INSTRUCTION, constants.DMS_CONTEXT_INSTRUCTION, constants.DMS_CONTEXT_RFI]).isRequired,\n  sourceId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  referenceId: PropTypes.string.isRequired,\n  isAutoSearchScreen: PropTypes.bool,\n  isFnolDmsSearch: PropTypes.bool,\n  updateClaimFileListAfterLinking: PropTypes.func,\n  documentTypeKey: PropTypes.oneOf(Object.values(constants.DMS_DOCUMENT_TYPE_SECTION_KEYS)),\n  handleFormStatus: PropTypes.func.isRequired,\n  isClientSideLinkDocument: PropTypes.bool\n};\nDmsSearch.defaultProps = {\n  documentTypeKey: constants.DMS_DOCUMENT_TYPE_SECTION_KEYS.policy,\n  isFnolDmsSearch: false,\n  updateClaimFileListAfterLinking: function updateClaimFileListAfterLinking() {},\n  handleFormStatus: function handleFormStatus() {}\n};\nexport default function DmsSearch(_ref) {\n  _s();\n\n  var _useSelector, _useSelector2, _documentsList$filter, _documentsList$filter2, _documentsList$filter3, _documentsList$filter4, _documentsList$filter5, _documentsList$filter6, _documentsList$files, _documentsList$files$, _documentsList$files2, _documentsList$files3, _documentsList$files4, _documentsList$files5, _documentsList$files6, _documentsList$files7;\n\n  var context = _ref.context,\n      sourceId = _ref.sourceId,\n      referenceId = _ref.referenceId,\n      isAutoSearchScreen = _ref.isAutoSearchScreen,\n      documentTypeKey = _ref.documentTypeKey,\n      isFnolDmsSearch = _ref.isFnolDmsSearch,\n      updateClaimFileListAfterLinking = _ref.updateClaimFileListAfterLinking,\n      handleFormStatus = _ref.handleFormStatus,\n      isClientSideLinkDocument = _ref.isClientSideLinkDocument;\n  var dispatch = useDispatch();\n  var isDmsFromPi = utils.dmsFormatter.isDmsFromPi(documentTypeKey);\n\n  var _utils$dmsFormatter$g = utils.dmsFormatter.getDocumentTypeFilterKeys(context, sourceId, documentTypeKey),\n      dmsSectionKey = _utils$dmsFormatter$g.dmsSectionKey,\n      dmsSourceId = _utils$dmsFormatter$g.dmsSourceId,\n      documentTypeSource = _utils$dmsFormatter$g.dmsDocTypeSource;\n\n  var searchTypeCall = constants.REQ_TYPES.search;\n  var filterTypeCall = constants.REQ_TYPES.filter; // redux\n\n  var documentTypesBeforeFilter = useSelector(dmsSectionKey === constants.DMS_DOCUMENT_TYPE_SECTION_KEYS.policy ? selectRefDataNewDocumentTypeLookUpByContextSource(dmsSectionKey, dmsSourceId) : selectRefDataNewDocumentTypesByContextSource(dmsSectionKey, dmsSourceId, documentTypeSource));\n  var documentsList = useSelector(function (state) {\n    return get(state, 'dms.search');\n  }) || {};\n  var isFetchingFilters = useSelector(selectClaimsListFilterLoading);\n  var departmentList = useSelector(selectPiDepartmentList);\n  var lossRefID = (_useSelector = useSelector(selectLossInformation)) === null || _useSelector === void 0 ? void 0 : _useSelector.lossRef;\n  var claimRefID = (_useSelector2 = useSelector(selectClaimsInformation)) === null || _useSelector2 === void 0 ? void 0 : _useSelector2.claimReference;\n  var dmsSearchDataLoader = useSelector(selectDmsSearchDataLoader);\n  var dmsAdvSearchValues = useSelector(selectDmsAdvSearchValues);\n  var clientUploadedFiles = useSelector(selectDmsClientSideUploadFiles); // state\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      resetKey = _useState2[0],\n      setResetKey = _useState2[1];\n\n  var _useState3 = useState({\n    isOpen: false,\n    timeStamp: new Date()\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      searchExpanded = _useState4[0],\n      setSearchExpanded = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isMultiSelect = _useState6[0],\n      setIsMultiSelect = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      selectedDocs = _useState8[0],\n      setSelectedDocs = _useState8[1];\n\n  var _useState9 = useState({}),\n      _useState10 = _slicedToArray(_useState9, 2),\n      searchFields = _useState10[0],\n      setSearchFields = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      selectedDivisionOptions = _useState12[0],\n      setSelectDivisionOption = _useState12[1];\n\n  var _useState13 = useState(constants.DMS_SEARCH_TABLE_FNOL_DEFAULT_ROWS),\n      _useState14 = _slicedToArray(_useState13, 2),\n      searchRowsTotalPreference = _useState14[0],\n      setSearchRowsTotalPreference = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      filtersPreference = _useState16[0],\n      setFiltersPreference = _useState16[1];\n\n  var _useState17 = useState(dmsSearchDataLoader),\n      _useState18 = _slicedToArray(_useState17, 2),\n      isDmsSearchDataLoading = _useState18[0],\n      setIsDmsSearchDataLoading = _useState18[1];\n\n  var contextReferenceObject = {\n    id: referenceId\n  };\n  var divOptions = departmentList.map(function (list) {\n    return {\n      id: list.id,\n      value: list.deptID,\n      label: list.name\n    };\n  });\n\n  var _ref2 = isDmsFromPi && utils.dmsFormatter.getDocumentTypeInfo(documentTypeKey, sourceId),\n      documentTypeDescription = _ref2.documentTypeDescription,\n      sectionKey = _ref2.sectionKey,\n      dmsSourceID = _ref2.dmsSourceID;\n\n  var documentTypesAfterFilter = (context === constants.DMS_CONTEXT_POLICY || context === constants.DMS_CONTEXT_PROCESSING_INSTRUCTION) && isDmsFromPi ? documentTypesBeforeFilter === null || documentTypesBeforeFilter === void 0 ? void 0 : documentTypesBeforeFilter.filter(function (type) {\n    return type.documentTypeDescription === documentTypeDescription && type.sectionKey === sectionKey && type.sourceID === dmsSourceID;\n  }) : documentTypesBeforeFilter;\n  var documentTypes = documentTypesAfterFilter;\n  useEffect(function () {\n    if (!utils.generic.isValidArray(departmentList, true)) dispatch(getDepartments());\n    dispatch(setDmsAdvSearchData({\n      policyId: isAutoSearchScreen ? referenceId : ''\n    }));\n    return function () {\n      dispatch(resetDmsAdvSearchValues());\n    };\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(function () {\n    if (isAutoSearchScreen) {\n      var defaultSearchCriteria = context === constants.DMS_CONTEXT_POLICY ? {\n        policyId: referenceId,\n        pageSize: searchRowsTotalPreference,\n        requestType: searchTypeCall\n      } : {};\n      var defaultFilterCriteria = context === constants.DMS_CONTEXT_POLICY ? {\n        policyId: referenceId,\n        pageSize: searchRowsTotalPreference,\n        requestType: filterTypeCall\n      } : {};\n\n      if (utils.generic.isValidArray(Object.values(defaultSearchCriteria), true)) {\n        setSearchFields(defaultSearchCriteria);\n        dispatch(searchDmsDocuments(context, contextReferenceObject, defaultFilterCriteria));\n        dispatch(searchDmsDocuments(context, contextReferenceObject, defaultSearchCriteria));\n      }\n    }\n\n    dispatch(selectRefDataNewDocumentTypesByContextSource(context, dmsSourceId));\n    return function () {\n      dispatch(resetDmsDocumentsSearch());\n    };\n  }, [referenceId]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(function () {\n    if (dmsSearchDataLoader !== isDmsSearchDataLoading) setIsDmsSearchDataLoading(dmsSearchDataLoader);\n  }, [dmsSearchDataLoader]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  var cols = [{\n    id: 'multiSelect',\n    visible: true\n  }, {\n    id: 'fileName',\n    label: utils.string.t('dms.search.cols.fileName'),\n    sort: {\n      type: 'numeric',\n      direction: 'desc'\n    },\n    nowrap: true,\n    visible: true\n  }, {\n    id: 'hDriveFolders',\n    label: utils.string.t('dms.search.cols.hDriveFolders'),\n    sort: {\n      type: 'lexical',\n      direction: 'asc'\n    },\n    nowrap: true,\n    visible: !isFnolDmsSearch\n  }, {\n    id: 'reference',\n    label: utils.string.t('dms.search.cols.reference'),\n    sort: {\n      type: 'lexical',\n      direction: 'asc'\n    },\n    nowrap: true,\n    visible: !isFnolDmsSearch\n  }, {\n    id: 'documentTypeDescription',\n    label: utils.string.t('dms.search.cols.documentType'),\n    sort: {\n      type: 'lexical',\n      direction: 'asc'\n    },\n    nowrap: true,\n    visible: true\n  }, {\n    id: 'version',\n    label: utils.string.t('dms.search.cols.version'),\n    sort: {\n      type: 'numeric',\n      direction: 'asc'\n    },\n    nowrap: true,\n    visible: !isFnolDmsSearch\n  }, {\n    id: 'uploadedBy',\n    label: utils.string.t('dms.search.cols.uploadedBy'),\n    sort: {\n      type: 'date',\n      direction: 'asc'\n    },\n    nowrap: true,\n    visible: true\n  }].concat([isFnolDmsSearch ? {\n    id: 'uploadedDate',\n    label: utils.string.t('dms.search.cols.uploadedDate'),\n    sort: {\n      type: 'date',\n      direction: 'asc'\n    },\n    nowrap: true,\n    visible: true\n  } : {}], [{\n    id: 'actionButtons',\n    menu: true,\n    nowrap: true\n  }]);\n\n  var _useFlexiColumns = useFlexiColumns(cols),\n      colsArray = _useFlexiColumns.columns;\n\n  var fields = [{\n    name: 'policyId',\n    type: 'text',\n    label: utils.string.t('dms.search.fields.policyReference.label'),\n    defaultValue: dmsAdvSearchValues === null || dmsAdvSearchValues === void 0 ? void 0 : dmsAdvSearchValues.policyId\n  }, {\n    name: 'claimId',\n    type: 'text',\n    label: utils.string.t('dms.search.fields.claimReference.label'),\n    defaultValue: dmsAdvSearchValues === null || dmsAdvSearchValues === void 0 ? void 0 : dmsAdvSearchValues.claimId\n  }, {\n    name: 'lossId',\n    type: 'text',\n    label: utils.string.t('dms.search.fields.lossReference.label'),\n    defaultValue: dmsAdvSearchValues === null || dmsAdvSearchValues === void 0 ? void 0 : dmsAdvSearchValues.lossId\n  }, {\n    name: 'insuredName',\n    type: 'text',\n    label: utils.string.t('dms.search.fields.insuredName.label'),\n    defaultValue: dmsAdvSearchValues === null || dmsAdvSearchValues === void 0 ? void 0 : dmsAdvSearchValues.insuredName\n  }, {\n    name: 'documentType',\n    type: 'autocompletemui',\n    label: utils.string.t('dms.search.fields.documentType.label'),\n    placeholder: utils.string.t('dms.search.fields.documentType.placeholder'),\n    defaultValue: dmsAdvSearchValues === null || dmsAdvSearchValues === void 0 ? void 0 : dmsAdvSearchValues.documentType,\n    options: documentTypes,\n    optionKey: 'documentTypeID',\n    optionLabel: 'documentTypeDescription'\n  }, {\n    name: 'documentName',\n    type: 'text',\n    label: utils.string.t('dms.search.fields.documentName.label'),\n    defaultValue: dmsAdvSearchValues === null || dmsAdvSearchValues === void 0 ? void 0 : dmsAdvSearchValues.documentName\n  }, {\n    name: 'year',\n    type: 'datepicker',\n    label: utils.string.t('dms.search.fields.inceptionYear.label'),\n    placeholder: utils.string.t('dms.search.fields.inceptionYear.placeholder'),\n    defaultValue: dmsAdvSearchValues === null || dmsAdvSearchValues === void 0 ? void 0 : dmsAdvSearchValues.year,\n    muiComponentProps: {\n      fullWidth: true,\n      helperText: utils.string.t('dms.search.fields.inceptionYear.helperText')\n    },\n    muiPickerProps: {\n      views: ['year'],\n      format: 'YYYY',\n      clearable: true\n    }\n  }, {\n    name: 'division',\n    type: 'multiSelect',\n    label: utils.string.t('dms.search.fields.division.label'),\n    options: divOptions,\n    tagType: 'quantity',\n    placeholder: 'Choose Division',\n    setSelectOption: setSelectDivisionOption,\n    selectedOptions: selectedDivisionOptions,\n    defaultValue: dmsAdvSearchValues === null || dmsAdvSearchValues === void 0 ? void 0 : dmsAdvSearchValues.division\n  }, {\n    name: \"\".concat(constants.DMS_DOCUMENT_TYPE_PAYMENT, \"_paymentDate\"),\n    type: 'datepicker',\n    group: constants.DMS_DOCUMENT_TYPE_PAYMENT,\n    label: utils.string.t('dms.search.fields.paymentDate.label'),\n    placeholder: utils.string.t('dms.search.fields.paymentDate.placeholder'),\n    defaultValue: dmsAdvSearchValues[\"\".concat(constants.DMS_DOCUMENT_TYPE_PAYMENT, \"_paymentDate\")],\n    muiComponentProps: {\n      fullWidth: true,\n      helperText: utils.string.t('dms.search.fields.paymentDate.helperText')\n    },\n    muiPickerProps: {\n      format: config.ui.format.date.slashNumeric,\n      clearable: true\n    }\n  }, {\n    name: \"\".concat(constants.DMS_DOCUMENT_TYPE_PAYMENT, \"_paymentReference\"),\n    type: 'text',\n    group: constants.DMS_DOCUMENT_TYPE_PAYMENT,\n    label: utils.string.t('dms.search.fields.paymentReference.label'),\n    defaultValue: dmsAdvSearchValues[\"\".concat(constants.DMS_DOCUMENT_TYPE_PAYMENT, \"_paymentReference\")]\n  }, {\n    name: \"\".concat(constants.DMS_DOCUMENT_TYPE_PAYMENT, \"_lossPayee\"),\n    type: 'text',\n    group: constants.DMS_DOCUMENT_TYPE_PAYMENT,\n    label: utils.string.t('dms.search.fields.lossPayee.label'),\n    defaultValue: dmsAdvSearchValues[\"\".concat(constants.DMS_DOCUMENT_TYPE_PAYMENT, \"_lossPayee\")]\n  }, {\n    name: \"\".concat(constants.DMS_DOCUMENT_TYPE_PAYMENT, \"_amount\"),\n    type: 'number',\n    group: constants.DMS_DOCUMENT_TYPE_PAYMENT,\n    label: utils.string.t('dms.search.fields.amount.label'),\n    defaultValue: dmsAdvSearchValues[\"\".concat(constants.DMS_DOCUMENT_TYPE_PAYMENT, \"_amount\")]\n  }];\n  var actions = [{\n    name: 'cancel',\n    label: utils.string.t('app.cancel'),\n    handler: function handler() {\n      setResetKey(new Date().getTime());\n      setSearchExpanded({\n        isOpen: false,\n        timeStamp: new Date()\n      });\n    }\n  }, {\n    name: 'submit',\n    label: utils.string.t('dms.search.btn'),\n    handler: function handler(data) {\n      setSearchFields(data);\n      setSearchExpanded({\n        isOpen: false,\n        timeStamp: new Date()\n      });\n      var divIDs = selectedDivisionOptions.map(function (div) {\n        return div.value;\n      });\n      dispatch(setDmsAdvSearchData(data));\n      dispatch(searchDmsDocuments(context, contextReferenceObject, _objectSpread(_objectSpread({}, data), {}, {\n        divisionIds: divIDs,\n        pageSize: searchRowsTotalPreference,\n        requestType: filterTypeCall,\n        filterRequest: filtersPreference\n      })));\n      dispatch(searchDmsDocuments(context, contextReferenceObject, _objectSpread(_objectSpread({}, data), {}, {\n        divisionIds: divIDs,\n        pageSize: searchRowsTotalPreference,\n        requestType: searchTypeCall,\n        filterRequest: filtersPreference\n      })));\n    }\n  }];\n  var defaultValues = utils.form.getInitialValues(fields);\n  var validationSchema = utils.form.getValidationSchema(fields);\n  var formProps = useForm(_objectSpread({\n    defaultValues: defaultValues\n  }, validationSchema && {\n    resolver: yupResolver(validationSchema)\n  }));\n\n  var _useFormActions = useFormActions(actions, formProps.reset),\n      cancel = _useFormActions.cancel,\n      submit = _useFormActions.submit;\n\n  var handleDownloadFile = function handleDownloadFile(e, file) {\n    e.stopPropagation();\n    dispatch(viewDocumentsDownload(file));\n  };\n\n  var handleLinkFile = function handleLinkFile(e, file) {\n    e.stopPropagation();\n\n    if (file.isLinked) {\n      return;\n    }\n\n    confirmDocumentlink([file]);\n  };\n\n  var handleFnolLinkFile = function handleFnolLinkFile(file, sectionType) {\n    if (file.isLinked) {\n      return;\n    }\n\n    confirmDocumentlink([file], sectionType);\n  };\n\n  var handleMultipleDownload = function handleMultipleDownload() {\n    var selectedDocIds = selectedDocs === null || selectedDocs === void 0 ? void 0 : selectedDocs.map(function (docId) {\n      return docId.documentId;\n    });\n\n    if ((selectedDocs === null || selectedDocs === void 0 ? void 0 : selectedDocs.length) !== 1) {\n      dispatch(viewDocumentsMultiDownload(selectedDocIds));\n      return;\n    }\n\n    dispatch(viewDocumentsDownload(selectedDocs === null || selectedDocs === void 0 ? void 0 : selectedDocs[0]));\n  };\n\n  var handleMutiplelinking = function handleMutiplelinking() {\n    var sectionType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    confirmDocumentlink(selectedDocs, sectionType);\n  };\n\n  var resetToDefaultValues = function resetToDefaultValues() {\n    setSelectedDocs([]);\n    setIsMultiSelect(false);\n  };\n\n  var confirmDocumentlink = function confirmDocumentlink(docs) {\n    var fnolSecType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var requestParams = docs === null || docs === void 0 ? void 0 : docs.map(function (d) {\n      return {\n        documentId: d.documentId,\n        referenceId: isFnolDmsSearch ? fnolSecType === constants.DMS_CONTEXT_LOSS ? lossRefID : claimRefID : referenceId,\n        sectionType: isFnolDmsSearch ? fnolSecType : context\n      };\n    });\n\n    if (fnolSecType === constants.DMS_CONTEXT_LOSS) {\n      var claimParams = docs === null || docs === void 0 ? void 0 : docs.map(function (d) {\n        return {\n          documentId: d.documentId,\n          referenceId: claimRefID,\n          sectionType: constants.DMS_CONTEXT_CLAIM\n        };\n      });\n      requestParams.push.apply(requestParams, _toConsumableArray(claimParams));\n    }\n\n    var requestParamsLength = requestParams === null || requestParams === void 0 ? void 0 : requestParams.length;\n    dispatch(showModal({\n      component: 'CONFIRM',\n      props: {\n        fullWidth: true,\n        title: utils.string.t('dms.search.linkDocument.title'),\n        maxWidth: 'xs',\n        componentProps: {\n          confirmLabel: utils.string.t('dms.search.linkDocument.confirmLabel'),\n          confirmMessage: requestParamsLength === 1 || fnolSecType === constants.DMS_CONTEXT_LOSS && !isMultiSelect ? utils.string.t('dms.search.linkDocument.confirmMessage') : utils.string.t('dms.search.linkDocument.confirmMessageForMulti', {\n            count: isFnolDmsSearch && fnolSecType === constants.DMS_CONTEXT_LOSS ? requestParamsLength / 2 : requestParamsLength\n          }),\n          submitHandler: function submitHandler() {\n            if (isClientSideLinkDocument) {\n              var linkedDocList = clientUploadedFiles === null || clientUploadedFiles === void 0 ? void 0 : clientUploadedFiles.linkedDocumentList;\n              var documentList = clientUploadedFiles === null || clientUploadedFiles === void 0 ? void 0 : clientUploadedFiles.documentTableList;\n              var notesLinkedDocList = docs === null || docs === void 0 ? void 0 : docs.map(function (d) {\n                return {\n                  documentId: d === null || d === void 0 ? void 0 : d.documentId,\n                  referenceId: referenceId,\n                  sectionType: constants.DMS_CONTEXT_TASK,\n                  documentName: d === null || d === void 0 ? void 0 : d.documentName,\n                  srcApplication: d === null || d === void 0 ? void 0 : d.documentSource,\n                  docClassification: d === null || d === void 0 ? void 0 : d.docClassification,\n                  documentTypeDescription: d === null || d === void 0 ? void 0 : d.documentTypeDescription,\n                  updatedDate: d === null || d === void 0 ? void 0 : d.uploadedDate,\n                  createdByName: d === null || d === void 0 ? void 0 : d.uploadedBy,\n                  isLink: true\n                };\n              });\n              dispatch(linkClientSideDmsDocuments({\n                linkedDocList: [].concat(_toConsumableArray(notesLinkedDocList), _toConsumableArray(linkedDocList)),\n                documentList: [].concat(_toConsumableArray(notesLinkedDocList), _toConsumableArray(documentList))\n              }));\n            } else {\n              dispatch(linkMultipleDmsDocuments(requestParams)).then(function (response) {\n                if ((response === null || response === void 0 ? void 0 : response.status) === constants.API_RESPONSE_OK) {\n                  resetToDefaultValues();\n                  updateClaimFileListAfterLinking();\n                  handleFormStatus();\n                }\n              });\n            }\n          }\n        }\n      }\n    }));\n  };\n\n  var handleCheckboxClick = function handleCheckboxClick(e, doc) {\n    e.stopPropagation();\n    var newlySelectedDocs = [].concat(_toConsumableArray(selectedDocs), [doc]);\n\n    if (selectedDocs === null || selectedDocs === void 0 ? void 0 : selectedDocs.includes(doc)) {\n      newlySelectedDocs = newlySelectedDocs.filter(function (selectedDoc) {\n        return selectedDoc !== doc;\n      });\n    }\n\n    setSelectedDocs(newlySelectedDocs);\n    handleFormStatus();\n  };\n\n  var showCheckboxesClick = function showCheckboxesClick(event) {\n    var _event$target;\n\n    setIsMultiSelect(event === null || event === void 0 ? void 0 : (_event$target = event.target) === null || _event$target === void 0 ? void 0 : _event$target.checked);\n    handleFormStatus();\n  };\n\n  var handleSort = function handleSort(by, dir) {\n    dispatch(searchDmsDocuments(context, contextReferenceObject, _objectSpread(_objectSpread({}, searchFields), {}, {\n      by: by,\n      dir: dir,\n      pageSize: searchRowsTotalPreference,\n      requestType: filterTypeCall,\n      filterRequest: filtersPreference\n    })));\n    dispatch(searchDmsDocuments(context, contextReferenceObject, _objectSpread(_objectSpread({}, searchFields), {}, {\n      by: by,\n      dir: dir,\n      pageSize: searchRowsTotalPreference,\n      requestType: searchTypeCall,\n      filterRequest: filtersPreference\n    }))).then(function () {\n      setSearchExpanded({\n        isOpen: false,\n        timeStamp: new Date()\n      });\n    });\n  };\n\n  var _useFlexiColumns2 = useFlexiColumns(cols),\n      columnProps = _useFlexiColumns2.columnProps;\n\n  var handleChangeRowsPerPage = function handleChangeRowsPerPage(rowsPerPage) {\n    setSearchRowsTotalPreference(rowsPerPage);\n    dispatch(searchDmsDocuments(context, contextReferenceObject, _objectSpread(_objectSpread({}, searchFields), {}, {\n      requestType: searchTypeCall,\n      pageSize: rowsPerPage,\n      filterRequest: filtersPreference\n    }))).then(function () {\n      setSearchExpanded({\n        isOpen: false,\n        timeStamp: new Date()\n      });\n    });\n  };\n\n  var handleChangePage = function handleChangePage(newPage) {\n    dispatch(searchDmsDocuments(context, contextReferenceObject, _objectSpread(_objectSpread({}, searchFields), {}, {\n      page: newPage,\n      pageSize: searchRowsTotalPreference,\n      filterRequest: filtersPreference,\n      requestType: searchTypeCall\n    }))).then(function () {\n      setSearchExpanded({\n        isOpen: false,\n        timeStamp: new Date()\n      });\n    });\n  };\n\n  var _useForm = useForm(_objectSpread({\n    defaultValues: defaultValues\n  }, validationSchema && {\n    resolver: yupResolver(validationSchema)\n  })),\n      setValue = _useForm.setValue;\n\n  var managedTableFilterFields = [!isFnolDmsSearch && {\n    id: 'hdriveFolder',\n    type: 'multiSelect',\n    label: utils.string.t('claims.list.tasksGridColumns.hDriveFolders'),\n    value: [],\n    options: (documentsList === null || documentsList === void 0 ? void 0 : (_documentsList$filter = documentsList.filters) === null || _documentsList$filter === void 0 ? void 0 : _documentsList$filter.hdriveFolder) || [],\n    content: /*#__PURE__*/_jsxDEV(MultiSelect, {\n      id: \"hdriveFolder\",\n      search: true,\n      options: (documentsList === null || documentsList === void 0 ? void 0 : (_documentsList$filter2 = documentsList.filters) === null || _documentsList$filter2 === void 0 ? void 0 : _documentsList$filter2.hdriveFolder) || []\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 579,\n      columnNumber: 16\n    }, this)\n  }, {\n    id: 'documentTypeDescription',\n    type: 'multiSelect',\n    label: utils.string.t('claims.list.tasksGridColumns.docType'),\n    value: [],\n    options: (documentsList === null || documentsList === void 0 ? void 0 : (_documentsList$filter3 = documentsList.filters) === null || _documentsList$filter3 === void 0 ? void 0 : _documentsList$filter3.documentTypeDescription) || [],\n    content: /*#__PURE__*/_jsxDEV(MultiSelect, {\n      id: \"documentTypeDescription\",\n      search: true,\n      options: (documentsList === null || documentsList === void 0 ? void 0 : (_documentsList$filter4 = documentsList.filters) === null || _documentsList$filter4 === void 0 ? void 0 : _documentsList$filter4.documentTypeDescription) || []\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 587,\n      columnNumber: 16\n    }, this)\n  }, {\n    id: 'createdBy',\n    type: 'multiSelect',\n    label: utils.string.t('claims.list.tasksGridColumns.createdBy'),\n    value: [],\n    options: (documentsList === null || documentsList === void 0 ? void 0 : (_documentsList$filter5 = documentsList.filters) === null || _documentsList$filter5 === void 0 ? void 0 : _documentsList$filter5.createdBy) || [],\n    content: /*#__PURE__*/_jsxDEV(MultiSelect, {\n      id: \"createdBy\",\n      search: true,\n      options: (documentsList === null || documentsList === void 0 ? void 0 : (_documentsList$filter6 = documentsList.filters) === null || _documentsList$filter6 === void 0 ? void 0 : _documentsList$filter6.createdBy) || []\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 595,\n      columnNumber: 16\n    }, this)\n  }];\n\n  var resetFilter = function resetFilter() {\n    setValue('hdriveFolder', null);\n    setValue('documentTypeDescription', null);\n    setValue('createdBy', null);\n    setFiltersPreference([]);\n    if (!Object.keys(searchFields).length) return;\n    dispatch(searchDmsDocuments(context, contextReferenceObject, _objectSpread(_objectSpread({}, searchFields), {}, {\n      requestType: filterTypeCall\n    })));\n    dispatch(searchDmsDocuments(context, contextReferenceObject, _objectSpread(_objectSpread({}, searchFields), {}, {\n      requestType: searchTypeCall\n    })));\n  };\n\n  var handleSearchFilter = function handleSearchFilter(_ref3) {\n    var search = _ref3.search,\n        filters = _ref3.filters;\n    setFiltersPreference(filters);\n    dispatch(searchDmsDocuments(context, contextReferenceObject, _objectSpread(_objectSpread({}, searchFields), {}, {\n      pageSize: searchRowsTotalPreference,\n      requestType: filterTypeCall,\n      filterRequest: filters\n    })));\n    dispatch(searchDmsDocuments(context, contextReferenceObject, _objectSpread(_objectSpread({}, searchFields), {}, {\n      pageSize: searchRowsTotalPreference,\n      requestType: searchTypeCall,\n      filterRequest: filters\n    })));\n  }; // TODO\n\n\n  var resetNotificationFilters = function resetNotificationFilters() {};\n\n  var viewDocLauncher = function viewDocLauncher(e, doc) {\n    e.preventDefault();\n    var documentId = doc.documentId,\n        documentName = doc.documentName;\n    utils.dms.dmsDocumentViewLauncher(documentId, documentName);\n  };\n\n  return /*#__PURE__*/_jsxDEV(DmsSearchView, {\n    cols: colsArray,\n    columnPropsFunc: columnProps,\n    rows: (documentsList === null || documentsList === void 0 ? void 0 : (_documentsList$files = documentsList.files) === null || _documentsList$files === void 0 ? void 0 : (_documentsList$files$ = _documentsList$files.data) === null || _documentsList$files$ === void 0 ? void 0 : _documentsList$files$.searchValue) || [],\n    fields: fields,\n    buttons: {\n      cancel: cancel,\n      submit: submit\n    },\n    isFnolDmsSearch: isFnolDmsSearch,\n    formProps: formProps,\n    searchExpanded: searchExpanded,\n    handlers: {\n      download: handleDownloadFile,\n      link: handleLinkFile,\n      fnolLink: handleFnolLinkFile,\n      sort: handleSort,\n      handleCheckboxClick: handleCheckboxClick,\n      showCheckboxesClick: showCheckboxesClick,\n      handleMultipleDownload: handleMultipleDownload,\n      handleMutiplelinking: handleMutiplelinking,\n      resetFilter: resetFilter,\n      handleSearchFilter: handleSearchFilter,\n      resetNotificationFilters: resetNotificationFilters,\n      viewDocLauncher: viewDocLauncher\n    },\n    resetKey: resetKey,\n    isMultiSelect: isMultiSelect,\n    selectedDocs: selectedDocs,\n    pagination: {\n      page: (documentsList === null || documentsList === void 0 ? void 0 : (_documentsList$files2 = documentsList.files) === null || _documentsList$files2 === void 0 ? void 0 : (_documentsList$files3 = _documentsList$files2.pagination) === null || _documentsList$files3 === void 0 ? void 0 : _documentsList$files3.page) || 0,\n      rowsTotal: (documentsList === null || documentsList === void 0 ? void 0 : (_documentsList$files4 = documentsList.files) === null || _documentsList$files4 === void 0 ? void 0 : (_documentsList$files5 = _documentsList$files4.pagination) === null || _documentsList$files5 === void 0 ? void 0 : _documentsList$files5.totalElements) || 0,\n      rowsPerPage: (documentsList === null || documentsList === void 0 ? void 0 : (_documentsList$files6 = documentsList.files) === null || _documentsList$files6 === void 0 ? void 0 : (_documentsList$files7 = _documentsList$files6.pagination) === null || _documentsList$files7 === void 0 ? void 0 : _documentsList$files7.size) || searchRowsTotalPreference,\n      handlers: {\n        handleChangePage: handleChangePage,\n        handleChangeRowsPerPage: handleChangeRowsPerPage\n      }\n    },\n    tableFilterFields: managedTableFilterFields,\n    isFetchingFilters: isFetchingFilters,\n    isDmsSearchDataLoading: isDmsSearchDataLoading\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 640,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DmsSearch, \"woNZ0kN2Qr6L8nsy9Un/jxvS1YY=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useFlexiColumns, useForm, useFormActions, useFlexiColumns, useForm];\n});\n\n_c = DmsSearch;\n\nvar _c;\n\n$RefreshReg$(_c, \"DmsSearch\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/components/DmsSearch/DmsSearch.js"],"names":["React","useEffect","useState","PropTypes","useSelector","useDispatch","useForm","yupResolver","get","DmsSearchView","searchDmsDocuments","selectRefDataNewDocumentTypesByContextSource","selectRefDataNewDocumentTypeLookUpByContextSource","resetDmsDocumentsSearch","viewDocumentsDownload","viewDocumentsMultiDownload","linkMultipleDmsDocuments","showModal","selectClaimsListFilterLoading","selectLossInformation","selectClaimsInformation","getDepartments","selectPiDepartmentList","selectDmsSearchDataLoader","selectDmsAdvSearchValues","setDmsAdvSearchData","resetDmsAdvSearchValues","selectDmsClientSideUploadFiles","linkClientSideDmsDocuments","useFormActions","useFlexiColumns","constants","utils","config","MultiSelect","DmsSearch","propTypes","context","oneOf","DMS_CONTEXT_CASE","DMS_CONTEXT_CLAIM","DMS_CONTEXT_LOSS","DMS_CONTEXT_POLICY","DMS_CONTEXT_TASK","DMS_CONTEXT_PROCESSING_INSTRUCTION","DMS_CONTEXT_INSTRUCTION","DMS_CONTEXT_RFI","isRequired","sourceId","oneOfType","string","number","referenceId","isAutoSearchScreen","bool","isFnolDmsSearch","updateClaimFileListAfterLinking","func","documentTypeKey","Object","values","DMS_DOCUMENT_TYPE_SECTION_KEYS","handleFormStatus","isClientSideLinkDocument","defaultProps","policy","dispatch","isDmsFromPi","dmsFormatter","getDocumentTypeFilterKeys","dmsSectionKey","dmsSourceId","documentTypeSource","dmsDocTypeSource","searchTypeCall","REQ_TYPES","search","filterTypeCall","filter","documentTypesBeforeFilter","documentsList","state","isFetchingFilters","departmentList","lossRefID","lossRef","claimRefID","claimReference","dmsSearchDataLoader","dmsAdvSearchValues","clientUploadedFiles","resetKey","setResetKey","isOpen","timeStamp","Date","searchExpanded","setSearchExpanded","isMultiSelect","setIsMultiSelect","selectedDocs","setSelectedDocs","searchFields","setSearchFields","selectedDivisionOptions","setSelectDivisionOption","DMS_SEARCH_TABLE_FNOL_DEFAULT_ROWS","searchRowsTotalPreference","setSearchRowsTotalPreference","filtersPreference","setFiltersPreference","isDmsSearchDataLoading","setIsDmsSearchDataLoading","contextReferenceObject","id","divOptions","map","list","value","deptID","label","name","getDocumentTypeInfo","documentTypeDescription","sectionKey","dmsSourceID","documentTypesAfterFilter","type","sourceID","documentTypes","generic","isValidArray","policyId","defaultSearchCriteria","pageSize","requestType","defaultFilterCriteria","cols","visible","t","sort","direction","nowrap","menu","colsArray","columns","fields","defaultValue","claimId","lossId","insuredName","placeholder","documentType","options","optionKey","optionLabel","documentName","year","muiComponentProps","fullWidth","helperText","muiPickerProps","views","format","clearable","tagType","setSelectOption","selectedOptions","division","DMS_DOCUMENT_TYPE_PAYMENT","group","ui","date","slashNumeric","actions","handler","getTime","data","divIDs","div","divisionIds","filterRequest","defaultValues","form","getInitialValues","validationSchema","getValidationSchema","formProps","resolver","reset","cancel","submit","handleDownloadFile","e","file","stopPropagation","handleLinkFile","isLinked","confirmDocumentlink","handleFnolLinkFile","sectionType","handleMultipleDownload","selectedDocIds","docId","documentId","length","handleMutiplelinking","resetToDefaultValues","docs","fnolSecType","requestParams","d","claimParams","push","requestParamsLength","component","props","title","maxWidth","componentProps","confirmLabel","confirmMessage","count","submitHandler","linkedDocList","linkedDocumentList","documentList","documentTableList","notesLinkedDocList","srcApplication","documentSource","docClassification","updatedDate","uploadedDate","createdByName","uploadedBy","isLink","then","response","status","API_RESPONSE_OK","handleCheckboxClick","doc","newlySelectedDocs","includes","selectedDoc","showCheckboxesClick","event","target","checked","handleSort","by","dir","columnProps","handleChangeRowsPerPage","rowsPerPage","handleChangePage","newPage","page","setValue","managedTableFilterFields","filters","hdriveFolder","content","createdBy","resetFilter","keys","handleSearchFilter","resetNotificationFilters","viewDocLauncher","preventDefault","dms","dmsDocumentViewLauncher","files","searchValue","download","link","fnolLink","pagination","rowsTotal","totalElements","size","handlers"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useForm } from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport { get } from 'lodash';\r\n\r\n// app\r\nimport { DmsSearchView } from './DmsSearch.view';\r\nimport {\r\n  searchDmsDocuments,\r\n  selectRefDataNewDocumentTypesByContextSource,\r\n  selectRefDataNewDocumentTypeLookUpByContextSource,\r\n  resetDmsDocumentsSearch,\r\n  viewDocumentsDownload,\r\n  viewDocumentsMultiDownload,\r\n  linkMultipleDmsDocuments,\r\n  showModal,\r\n  selectClaimsListFilterLoading,\r\n  selectLossInformation,\r\n  selectClaimsInformation,\r\n  getDepartments,\r\n  selectPiDepartmentList,\r\n  selectDmsSearchDataLoader,\r\n  selectDmsAdvSearchValues,\r\n  setDmsAdvSearchData,\r\n  resetDmsAdvSearchValues,\r\n  selectDmsClientSideUploadFiles,\r\n  linkClientSideDmsDocuments,\r\n} from 'stores';\r\nimport { useFormActions, useFlexiColumns } from 'hooks';\r\nimport * as constants from 'consts';\r\nimport * as utils from 'utils';\r\nimport config from 'config';\r\nimport { MultiSelect } from 'components';\r\n\r\nDmsSearch.propTypes = {\r\n  context: PropTypes.oneOf([\r\n    constants.DMS_CONTEXT_CASE,\r\n    constants.DMS_CONTEXT_CLAIM,\r\n    constants.DMS_CONTEXT_LOSS,\r\n    constants.DMS_CONTEXT_POLICY,\r\n    constants.DMS_CONTEXT_TASK,\r\n    constants.DMS_CONTEXT_PROCESSING_INSTRUCTION,\r\n    constants.DMS_CONTEXT_INSTRUCTION,\r\n    constants.DMS_CONTEXT_RFI,\r\n  ]).isRequired,\r\n  sourceId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n  referenceId: PropTypes.string.isRequired,\r\n  isAutoSearchScreen: PropTypes.bool,\r\n  isFnolDmsSearch: PropTypes.bool,\r\n  updateClaimFileListAfterLinking: PropTypes.func,\r\n  documentTypeKey: PropTypes.oneOf(Object.values(constants.DMS_DOCUMENT_TYPE_SECTION_KEYS)),\r\n  handleFormStatus: PropTypes.func.isRequired,\r\n  isClientSideLinkDocument: PropTypes.bool,\r\n};\r\n\r\nDmsSearch.defaultProps = {\r\n  documentTypeKey: constants.DMS_DOCUMENT_TYPE_SECTION_KEYS.policy,\r\n  isFnolDmsSearch: false,\r\n  updateClaimFileListAfterLinking: () => {},\r\n  handleFormStatus: () => {},\r\n};\r\n\r\nexport default function DmsSearch({\r\n  context,\r\n  sourceId,\r\n  referenceId,\r\n  isAutoSearchScreen,\r\n  documentTypeKey,\r\n  isFnolDmsSearch,\r\n  updateClaimFileListAfterLinking,\r\n  handleFormStatus,\r\n  isClientSideLinkDocument,\r\n}) {\r\n  const dispatch = useDispatch();\r\n\r\n  const isDmsFromPi = utils.dmsFormatter.isDmsFromPi(documentTypeKey);\r\n\r\n  const {\r\n    dmsSectionKey,\r\n    dmsSourceId,\r\n    dmsDocTypeSource: documentTypeSource,\r\n  } = utils.dmsFormatter.getDocumentTypeFilterKeys(context, sourceId, documentTypeKey);\r\n\r\n  const searchTypeCall = constants.REQ_TYPES.search;\r\n  const filterTypeCall = constants.REQ_TYPES.filter;\r\n\r\n  // redux\r\n  const documentTypesBeforeFilter = useSelector(\r\n    dmsSectionKey === constants.DMS_DOCUMENT_TYPE_SECTION_KEYS.policy\r\n      ? selectRefDataNewDocumentTypeLookUpByContextSource(dmsSectionKey, dmsSourceId)\r\n      : selectRefDataNewDocumentTypesByContextSource(dmsSectionKey, dmsSourceId, documentTypeSource)\r\n  );\r\n  const documentsList = useSelector((state) => get(state, 'dms.search')) || {};\r\n  const isFetchingFilters = useSelector(selectClaimsListFilterLoading);\r\n  const departmentList = useSelector(selectPiDepartmentList);\r\n  const lossRefID = useSelector(selectLossInformation)?.lossRef;\r\n  const claimRefID = useSelector(selectClaimsInformation)?.claimReference;\r\n  const dmsSearchDataLoader = useSelector(selectDmsSearchDataLoader);\r\n  const dmsAdvSearchValues = useSelector(selectDmsAdvSearchValues);\r\n  const clientUploadedFiles = useSelector(selectDmsClientSideUploadFiles);\r\n\r\n  // state\r\n  const [resetKey, setResetKey] = useState();\r\n  const [searchExpanded, setSearchExpanded] = useState({ isOpen: false, timeStamp: new Date() });\r\n  const [isMultiSelect, setIsMultiSelect] = useState(false);\r\n  const [selectedDocs, setSelectedDocs] = useState([]);\r\n  const [searchFields, setSearchFields] = useState({});\r\n  const [selectedDivisionOptions, setSelectDivisionOption] = useState([]);\r\n  const [searchRowsTotalPreference, setSearchRowsTotalPreference] = useState(constants.DMS_SEARCH_TABLE_FNOL_DEFAULT_ROWS);\r\n  const [filtersPreference, setFiltersPreference] = useState([]);\r\n  const [isDmsSearchDataLoading, setIsDmsSearchDataLoading] = useState(dmsSearchDataLoader);\r\n  const contextReferenceObject = { id: referenceId };\r\n  const divOptions = departmentList.map((list) => {\r\n    return { id: list.id, value: list.deptID, label: list.name };\r\n  });\r\n\r\n  const { documentTypeDescription, sectionKey, dmsSourceID } =\r\n    isDmsFromPi && utils.dmsFormatter.getDocumentTypeInfo(documentTypeKey, sourceId);\r\n\r\n  const documentTypesAfterFilter =\r\n    (context === constants.DMS_CONTEXT_POLICY || context === constants.DMS_CONTEXT_PROCESSING_INSTRUCTION) && isDmsFromPi\r\n      ? documentTypesBeforeFilter?.filter(\r\n          (type) =>\r\n            type.documentTypeDescription === documentTypeDescription && type.sectionKey === sectionKey && type.sourceID === dmsSourceID\r\n        )\r\n      : documentTypesBeforeFilter;\r\n  const documentTypes = documentTypesAfterFilter;\r\n\r\n  useEffect(() => {\r\n    if (!utils.generic.isValidArray(departmentList, true)) dispatch(getDepartments());\r\n    dispatch(setDmsAdvSearchData({ policyId: isAutoSearchScreen ? referenceId : '' }));\r\n    return () => {\r\n      dispatch(resetDmsAdvSearchValues());\r\n    };\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  useEffect(() => {\r\n    if (isAutoSearchScreen) {\r\n      const defaultSearchCriteria =\r\n        context === constants.DMS_CONTEXT_POLICY\r\n          ? { policyId: referenceId, pageSize: searchRowsTotalPreference, requestType: searchTypeCall }\r\n          : {};\r\n      const defaultFilterCriteria =\r\n        context === constants.DMS_CONTEXT_POLICY\r\n          ? { policyId: referenceId, pageSize: searchRowsTotalPreference, requestType: filterTypeCall }\r\n          : {};\r\n      if (utils.generic.isValidArray(Object.values(defaultSearchCriteria), true)) {\r\n        setSearchFields(defaultSearchCriteria);\r\n        dispatch(searchDmsDocuments(context, contextReferenceObject, defaultFilterCriteria));\r\n        dispatch(searchDmsDocuments(context, contextReferenceObject, defaultSearchCriteria));\r\n      }\r\n    }\r\n    dispatch(selectRefDataNewDocumentTypesByContextSource(context, dmsSourceId));\r\n    return () => {\r\n      dispatch(resetDmsDocumentsSearch());\r\n    };\r\n  }, [referenceId]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  useEffect(() => {\r\n    if (dmsSearchDataLoader !== isDmsSearchDataLoading) setIsDmsSearchDataLoading(dmsSearchDataLoader);\r\n  }, [dmsSearchDataLoader]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const cols = [\r\n    {\r\n      id: 'multiSelect',\r\n      visible: true,\r\n    },\r\n    {\r\n      id: 'fileName',\r\n      label: utils.string.t('dms.search.cols.fileName'),\r\n      sort: { type: 'numeric', direction: 'desc' },\r\n      nowrap: true,\r\n      visible: true,\r\n    },\r\n    {\r\n      id: 'hDriveFolders',\r\n      label: utils.string.t('dms.search.cols.hDriveFolders'),\r\n      sort: { type: 'lexical', direction: 'asc' },\r\n      nowrap: true,\r\n      visible: !isFnolDmsSearch,\r\n    },\r\n    {\r\n      id: 'reference',\r\n      label: utils.string.t('dms.search.cols.reference'),\r\n      sort: { type: 'lexical', direction: 'asc' },\r\n      nowrap: true,\r\n      visible: !isFnolDmsSearch,\r\n    },\r\n    {\r\n      id: 'documentTypeDescription',\r\n      label: utils.string.t('dms.search.cols.documentType'),\r\n      sort: { type: 'lexical', direction: 'asc' },\r\n      nowrap: true,\r\n      visible: true,\r\n    },\r\n    {\r\n      id: 'version',\r\n      label: utils.string.t('dms.search.cols.version'),\r\n      sort: { type: 'numeric', direction: 'asc' },\r\n      nowrap: true,\r\n      visible: !isFnolDmsSearch,\r\n    },\r\n    {\r\n      id: 'uploadedBy',\r\n      label: utils.string.t('dms.search.cols.uploadedBy'),\r\n      sort: { type: 'date', direction: 'asc' },\r\n      nowrap: true,\r\n      visible: true,\r\n    },\r\n    ...[\r\n      isFnolDmsSearch\r\n        ? {\r\n            id: 'uploadedDate',\r\n            label: utils.string.t('dms.search.cols.uploadedDate'),\r\n            sort: { type: 'date', direction: 'asc' },\r\n            nowrap: true,\r\n            visible: true,\r\n          }\r\n        : {},\r\n    ],\r\n    { id: 'actionButtons', menu: true, nowrap: true },\r\n  ];\r\n\r\n  const { columns: colsArray } = useFlexiColumns(cols);\r\n\r\n  const fields = [\r\n    {\r\n      name: 'policyId',\r\n      type: 'text',\r\n      label: utils.string.t('dms.search.fields.policyReference.label'),\r\n      defaultValue: dmsAdvSearchValues?.policyId,\r\n    },\r\n    {\r\n      name: 'claimId',\r\n      type: 'text',\r\n      label: utils.string.t('dms.search.fields.claimReference.label'),\r\n      defaultValue: dmsAdvSearchValues?.claimId,\r\n    },\r\n    {\r\n      name: 'lossId',\r\n      type: 'text',\r\n      label: utils.string.t('dms.search.fields.lossReference.label'),\r\n      defaultValue: dmsAdvSearchValues?.lossId,\r\n    },\r\n    {\r\n      name: 'insuredName',\r\n      type: 'text',\r\n      label: utils.string.t('dms.search.fields.insuredName.label'),\r\n      defaultValue: dmsAdvSearchValues?.insuredName,\r\n    },\r\n    {\r\n      name: 'documentType',\r\n      type: 'autocompletemui',\r\n      label: utils.string.t('dms.search.fields.documentType.label'),\r\n      placeholder: utils.string.t('dms.search.fields.documentType.placeholder'),\r\n      defaultValue: dmsAdvSearchValues?.documentType,\r\n      options: documentTypes,\r\n      optionKey: 'documentTypeID',\r\n      optionLabel: 'documentTypeDescription',\r\n    },\r\n    {\r\n      name: 'documentName',\r\n      type: 'text',\r\n      label: utils.string.t('dms.search.fields.documentName.label'),\r\n      defaultValue: dmsAdvSearchValues?.documentName,\r\n    },\r\n    {\r\n      name: 'year',\r\n      type: 'datepicker',\r\n      label: utils.string.t('dms.search.fields.inceptionYear.label'),\r\n      placeholder: utils.string.t('dms.search.fields.inceptionYear.placeholder'),\r\n      defaultValue: dmsAdvSearchValues?.year,\r\n      muiComponentProps: {\r\n        fullWidth: true,\r\n        helperText: utils.string.t('dms.search.fields.inceptionYear.helperText'),\r\n      },\r\n      muiPickerProps: {\r\n        views: ['year'],\r\n        format: 'YYYY',\r\n        clearable: true,\r\n      },\r\n    },\r\n    {\r\n      name: 'division',\r\n      type: 'multiSelect',\r\n      label: utils.string.t('dms.search.fields.division.label'),\r\n      options: divOptions,\r\n      tagType: 'quantity',\r\n      placeholder: 'Choose Division',\r\n      setSelectOption: setSelectDivisionOption,\r\n      selectedOptions: selectedDivisionOptions,\r\n      defaultValue: dmsAdvSearchValues?.division,\r\n    },\r\n    {\r\n      name: `${constants.DMS_DOCUMENT_TYPE_PAYMENT}_paymentDate`,\r\n      type: 'datepicker',\r\n      group: constants.DMS_DOCUMENT_TYPE_PAYMENT,\r\n      label: utils.string.t('dms.search.fields.paymentDate.label'),\r\n      placeholder: utils.string.t('dms.search.fields.paymentDate.placeholder'),\r\n      defaultValue: dmsAdvSearchValues[`${constants.DMS_DOCUMENT_TYPE_PAYMENT}_paymentDate`],\r\n      muiComponentProps: {\r\n        fullWidth: true,\r\n        helperText: utils.string.t('dms.search.fields.paymentDate.helperText'),\r\n      },\r\n      muiPickerProps: {\r\n        format: config.ui.format.date.slashNumeric,\r\n        clearable: true,\r\n      },\r\n    },\r\n    {\r\n      name: `${constants.DMS_DOCUMENT_TYPE_PAYMENT}_paymentReference`,\r\n      type: 'text',\r\n      group: constants.DMS_DOCUMENT_TYPE_PAYMENT,\r\n      label: utils.string.t('dms.search.fields.paymentReference.label'),\r\n      defaultValue: dmsAdvSearchValues[`${constants.DMS_DOCUMENT_TYPE_PAYMENT}_paymentReference`],\r\n    },\r\n    {\r\n      name: `${constants.DMS_DOCUMENT_TYPE_PAYMENT}_lossPayee`,\r\n      type: 'text',\r\n      group: constants.DMS_DOCUMENT_TYPE_PAYMENT,\r\n      label: utils.string.t('dms.search.fields.lossPayee.label'),\r\n      defaultValue: dmsAdvSearchValues[`${constants.DMS_DOCUMENT_TYPE_PAYMENT}_lossPayee`],\r\n    },\r\n    {\r\n      name: `${constants.DMS_DOCUMENT_TYPE_PAYMENT}_amount`,\r\n      type: 'number',\r\n      group: constants.DMS_DOCUMENT_TYPE_PAYMENT,\r\n      label: utils.string.t('dms.search.fields.amount.label'),\r\n      defaultValue: dmsAdvSearchValues[`${constants.DMS_DOCUMENT_TYPE_PAYMENT}_amount`],\r\n    },\r\n  ];\r\n\r\n  const actions = [\r\n    {\r\n      name: 'cancel',\r\n      label: utils.string.t('app.cancel'),\r\n      handler: () => {\r\n        setResetKey(new Date().getTime());\r\n        setSearchExpanded({ isOpen: false, timeStamp: new Date() });\r\n      },\r\n    },\r\n    {\r\n      name: 'submit',\r\n      label: utils.string.t('dms.search.btn'),\r\n      handler: (data) => {\r\n        setSearchFields(data);\r\n        setSearchExpanded({ isOpen: false, timeStamp: new Date() });\r\n        let divIDs = selectedDivisionOptions.map((div) => div.value);\r\n        dispatch(setDmsAdvSearchData(data));\r\n        dispatch(\r\n          searchDmsDocuments(context, contextReferenceObject, {\r\n            ...data,\r\n            divisionIds: divIDs,\r\n            pageSize: searchRowsTotalPreference,\r\n            requestType: filterTypeCall,\r\n            filterRequest: filtersPreference,\r\n          })\r\n        );\r\n        dispatch(\r\n          searchDmsDocuments(context, contextReferenceObject, {\r\n            ...data,\r\n            divisionIds: divIDs,\r\n            pageSize: searchRowsTotalPreference,\r\n            requestType: searchTypeCall,\r\n            filterRequest: filtersPreference,\r\n          })\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  const defaultValues = utils.form.getInitialValues(fields);\r\n  const validationSchema = utils.form.getValidationSchema(fields);\r\n\r\n  const formProps = useForm({\r\n    defaultValues,\r\n    ...(validationSchema && { resolver: yupResolver(validationSchema) }),\r\n  });\r\n\r\n  const { cancel, submit } = useFormActions(actions, formProps.reset);\r\n\r\n  const handleDownloadFile = (e, file) => {\r\n    e.stopPropagation();\r\n    dispatch(viewDocumentsDownload(file));\r\n  };\r\n\r\n  const handleLinkFile = (e, file) => {\r\n    e.stopPropagation();\r\n    if (file.isLinked) {\r\n      return;\r\n    }\r\n    confirmDocumentlink([file]);\r\n  };\r\n\r\n  const handleFnolLinkFile = (file, sectionType) => {\r\n    if (file.isLinked) {\r\n      return;\r\n    }\r\n    confirmDocumentlink([file], sectionType);\r\n  };\r\n\r\n  const handleMultipleDownload = () => {\r\n    const selectedDocIds = selectedDocs?.map((docId) => docId.documentId);\r\n    if (selectedDocs?.length !== 1) {\r\n      dispatch(viewDocumentsMultiDownload(selectedDocIds));\r\n      return;\r\n    }\r\n    dispatch(viewDocumentsDownload(selectedDocs?.[0]));\r\n  };\r\n\r\n  const handleMutiplelinking = (sectionType = '') => {\r\n    confirmDocumentlink(selectedDocs, sectionType);\r\n  };\r\n\r\n  const resetToDefaultValues = () => {\r\n    setSelectedDocs([]);\r\n    setIsMultiSelect(false);\r\n  };\r\n\r\n  const confirmDocumentlink = (docs, fnolSecType = '') => {\r\n    const requestParams = docs?.map((d) => {\r\n      return {\r\n        documentId: d.documentId,\r\n        referenceId: isFnolDmsSearch ? (fnolSecType === constants.DMS_CONTEXT_LOSS ? lossRefID : claimRefID) : referenceId,\r\n        sectionType: isFnolDmsSearch ? fnolSecType : context,\r\n      };\r\n    });\r\n    if (fnolSecType === constants.DMS_CONTEXT_LOSS) {\r\n      const claimParams = docs?.map((d) => {\r\n        return {\r\n          documentId: d.documentId,\r\n          referenceId: claimRefID,\r\n          sectionType: constants.DMS_CONTEXT_CLAIM,\r\n        };\r\n      });\r\n      requestParams.push(...claimParams);\r\n    }\r\n    const requestParamsLength = requestParams?.length;\r\n\r\n    dispatch(\r\n      showModal({\r\n        component: 'CONFIRM',\r\n        props: {\r\n          fullWidth: true,\r\n          title: utils.string.t('dms.search.linkDocument.title'),\r\n          maxWidth: 'xs',\r\n          componentProps: {\r\n            confirmLabel: utils.string.t('dms.search.linkDocument.confirmLabel'),\r\n            confirmMessage:\r\n              requestParamsLength === 1 || (fnolSecType === constants.DMS_CONTEXT_LOSS && !isMultiSelect)\r\n                ? utils.string.t('dms.search.linkDocument.confirmMessage')\r\n                : utils.string.t('dms.search.linkDocument.confirmMessageForMulti', {\r\n                    count: isFnolDmsSearch && fnolSecType === constants.DMS_CONTEXT_LOSS ? requestParamsLength / 2 : requestParamsLength,\r\n                  }),\r\n            submitHandler: () => {\r\n              if (isClientSideLinkDocument) {\r\n                const linkedDocList = clientUploadedFiles?.linkedDocumentList;\r\n                const documentList = clientUploadedFiles?.documentTableList;\r\n                const notesLinkedDocList = docs?.map((d) => {\r\n                  return {\r\n                    documentId: d?.documentId,\r\n                    referenceId: referenceId,\r\n                    sectionType: constants.DMS_CONTEXT_TASK,\r\n                    documentName: d?.documentName,\r\n                    srcApplication: d?.documentSource,\r\n                    docClassification: d?.docClassification,\r\n                    documentTypeDescription: d?.documentTypeDescription,\r\n                    updatedDate: d?.uploadedDate,\r\n                    createdByName: d?.uploadedBy,\r\n                    isLink: true,\r\n                  };\r\n                });\r\n                dispatch(\r\n                  linkClientSideDmsDocuments({\r\n                    linkedDocList: [...notesLinkedDocList, ...linkedDocList],\r\n                    documentList: [...notesLinkedDocList, ...documentList],\r\n                  })\r\n                );\r\n              } else {\r\n                dispatch(linkMultipleDmsDocuments(requestParams)).then((response) => {\r\n                  if (response?.status === constants.API_RESPONSE_OK) {\r\n                    resetToDefaultValues();\r\n                    updateClaimFileListAfterLinking();\r\n                    handleFormStatus();\r\n                  }\r\n                });\r\n              }\r\n            },\r\n          },\r\n        },\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleCheckboxClick = (e, doc) => {\r\n    e.stopPropagation();\r\n    let newlySelectedDocs = [...selectedDocs, doc];\r\n    if (selectedDocs?.includes(doc)) {\r\n      newlySelectedDocs = newlySelectedDocs.filter((selectedDoc) => selectedDoc !== doc);\r\n    }\r\n    setSelectedDocs(newlySelectedDocs);\r\n    handleFormStatus();\r\n  };\r\n\r\n  const showCheckboxesClick = (event) => {\r\n    setIsMultiSelect(event?.target?.checked);\r\n    handleFormStatus();\r\n  };\r\n\r\n  const handleSort = (by, dir) => {\r\n    dispatch(\r\n      searchDmsDocuments(context, contextReferenceObject, {\r\n        ...searchFields,\r\n        by,\r\n        dir,\r\n        pageSize: searchRowsTotalPreference,\r\n        requestType: filterTypeCall,\r\n        filterRequest: filtersPreference,\r\n      })\r\n    );\r\n    dispatch(\r\n      searchDmsDocuments(context, contextReferenceObject, {\r\n        ...searchFields,\r\n        by,\r\n        dir,\r\n        pageSize: searchRowsTotalPreference,\r\n        requestType: searchTypeCall,\r\n        filterRequest: filtersPreference,\r\n      })\r\n    ).then(() => {\r\n      setSearchExpanded({ isOpen: false, timeStamp: new Date() });\r\n    });\r\n  };\r\n\r\n  const { columnProps } = useFlexiColumns(cols);\r\n\r\n  const handleChangeRowsPerPage = (rowsPerPage) => {\r\n    setSearchRowsTotalPreference(rowsPerPage);\r\n    dispatch(\r\n      searchDmsDocuments(context, contextReferenceObject, {\r\n        ...searchFields,\r\n        requestType: searchTypeCall,\r\n        pageSize: rowsPerPage,\r\n        filterRequest: filtersPreference,\r\n      })\r\n    ).then(() => {\r\n      setSearchExpanded({ isOpen: false, timeStamp: new Date() });\r\n    });\r\n  };\r\n\r\n  const handleChangePage = (newPage) => {\r\n    dispatch(\r\n      searchDmsDocuments(context, contextReferenceObject, {\r\n        ...searchFields,\r\n        page: newPage,\r\n        pageSize: searchRowsTotalPreference,\r\n        filterRequest: filtersPreference,\r\n        requestType: searchTypeCall,\r\n      })\r\n    ).then(() => {\r\n      setSearchExpanded({ isOpen: false, timeStamp: new Date() });\r\n    });\r\n  };\r\n\r\n  const { setValue } = useForm({\r\n    defaultValues,\r\n    ...(validationSchema && { resolver: yupResolver(validationSchema) }),\r\n  });\r\n\r\n  const managedTableFilterFields = [\r\n    !isFnolDmsSearch && {\r\n      id: 'hdriveFolder',\r\n      type: 'multiSelect',\r\n      label: utils.string.t('claims.list.tasksGridColumns.hDriveFolders'),\r\n      value: [],\r\n      options: documentsList?.filters?.hdriveFolder || [],\r\n      content: <MultiSelect id=\"hdriveFolder\" search options={documentsList?.filters?.hdriveFolder || []} />,\r\n    },\r\n    {\r\n      id: 'documentTypeDescription',\r\n      type: 'multiSelect',\r\n      label: utils.string.t('claims.list.tasksGridColumns.docType'),\r\n      value: [],\r\n      options: documentsList?.filters?.documentTypeDescription || [],\r\n      content: <MultiSelect id=\"documentTypeDescription\" search options={documentsList?.filters?.documentTypeDescription || []} />,\r\n    },\r\n    {\r\n      id: 'createdBy',\r\n      type: 'multiSelect',\r\n      label: utils.string.t('claims.list.tasksGridColumns.createdBy'),\r\n      value: [],\r\n      options: documentsList?.filters?.createdBy || [],\r\n      content: <MultiSelect id=\"createdBy\" search options={documentsList?.filters?.createdBy || []} />,\r\n    },\r\n  ];\r\n\r\n  const resetFilter = () => {\r\n    setValue('hdriveFolder', null);\r\n    setValue('documentTypeDescription', null);\r\n    setValue('createdBy', null);\r\n    setFiltersPreference([]);\r\n    if (!Object.keys(searchFields).length) return;\r\n    dispatch(searchDmsDocuments(context, contextReferenceObject, { ...searchFields, requestType: filterTypeCall }));\r\n    dispatch(searchDmsDocuments(context, contextReferenceObject, { ...searchFields, requestType: searchTypeCall }));\r\n  };\r\n\r\n  const handleSearchFilter = ({ search, filters }) => {\r\n    setFiltersPreference(filters);\r\n\r\n    dispatch(\r\n      searchDmsDocuments(context, contextReferenceObject, {\r\n        ...searchFields,\r\n        pageSize: searchRowsTotalPreference,\r\n        requestType: filterTypeCall,\r\n        filterRequest: filters,\r\n      })\r\n    );\r\n    dispatch(\r\n      searchDmsDocuments(context, contextReferenceObject, {\r\n        ...searchFields,\r\n        pageSize: searchRowsTotalPreference,\r\n        requestType: searchTypeCall,\r\n        filterRequest: filters,\r\n      })\r\n    );\r\n  };\r\n\r\n  // TODO\r\n  const resetNotificationFilters = () => {};\r\n\r\n  const viewDocLauncher = (e, doc) => {\r\n    e.preventDefault();\r\n    const { documentId, documentName } = doc;\r\n    utils.dms.dmsDocumentViewLauncher(documentId, documentName);\r\n  };\r\n\r\n  return (\r\n    <DmsSearchView\r\n      cols={colsArray}\r\n      columnPropsFunc={columnProps}\r\n      rows={documentsList?.files?.data?.searchValue || []}\r\n      fields={fields}\r\n      buttons={{ cancel, submit }}\r\n      isFnolDmsSearch={isFnolDmsSearch}\r\n      formProps={formProps}\r\n      searchExpanded={searchExpanded}\r\n      handlers={{\r\n        download: handleDownloadFile,\r\n        link: handleLinkFile,\r\n        fnolLink: handleFnolLinkFile,\r\n        sort: handleSort,\r\n        handleCheckboxClick: handleCheckboxClick,\r\n        showCheckboxesClick: showCheckboxesClick,\r\n        handleMultipleDownload: handleMultipleDownload,\r\n        handleMutiplelinking: handleMutiplelinking,\r\n        resetFilter,\r\n        handleSearchFilter,\r\n        resetNotificationFilters,\r\n        viewDocLauncher,\r\n      }}\r\n      resetKey={resetKey}\r\n      isMultiSelect={isMultiSelect}\r\n      selectedDocs={selectedDocs}\r\n      pagination={{\r\n        page: documentsList?.files?.pagination?.page || 0,\r\n        rowsTotal: documentsList?.files?.pagination?.totalElements || 0,\r\n        rowsPerPage: documentsList?.files?.pagination?.size || searchRowsTotalPreference,\r\n        handlers: {\r\n          handleChangePage: handleChangePage,\r\n          handleChangeRowsPerPage: handleChangeRowsPerPage,\r\n        },\r\n      }}\r\n      tableFilterFields={managedTableFilterFields}\r\n      isFetchingFilters={isFetchingFilters}\r\n      isDmsSearchDataLoading={isDmsSearchDataLoading}\r\n    />\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}