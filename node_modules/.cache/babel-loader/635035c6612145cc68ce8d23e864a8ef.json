{"ast":null,"code":"import _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\LossesTab\\\\LossesTabTableRow.view.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport moment from 'moment'; // app\n\nimport { TableCell, Link, Translate, Tooltip, Status } from 'components';\nimport { selectClaimsStatuses, getStatuses, selectLossItem, selectLossSelected } from 'stores';\nimport * as utils from 'utils';\nimport config from 'config';\nimport { STATUS_CLAIMS_DRAFT, TASK_TAB_INPROGRESS_STATUS, TASK_TAB_COMPLETED_STATUS } from 'consts'; // mui\n\nimport { Box, TableRow } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function LossesTabTableRow(_ref) {\n  _s();\n\n  var _data$lossName, _data$lossDescription, _data$catCodeDescript, _getLossStatus, _getLossStatus2;\n\n  var data = _ref.data,\n      columnProps = _ref.columnProps;\n  var dispatch = useDispatch();\n  var history = useHistory();\n  var statuses = useSelector(selectClaimsStatuses);\n  var selectedRow = useSelector(selectLossSelected);\n  var cellLength = 50;\n  useEffect(function () {\n    if (utils.generic.isInvalidOrEmptyArray(statuses)) dispatch(getStatuses());\n  }, [statuses]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  var lossRefHandler = function lossRefHandler(rowData) {\n    history.push(\"\".concat(config.routes.claimsFNOL.loss, \"/\").concat(rowData.lossRef));\n    dispatch(selectLossItem(rowData));\n  };\n\n  var getLossStatus = function getLossStatus(lossStatus) {\n    if (lossStatus === STATUS_CLAIMS_DRAFT) {\n      return {\n        type: 'error'\n      };\n    } else if (lossStatus === TASK_TAB_COMPLETED_STATUS) {\n      return {\n        type: 'success'\n      };\n    } else if (lossStatus === TASK_TAB_INPROGRESS_STATUS) {\n      return {\n        type: 'alert'\n      };\n    } else {\n      return {};\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(TableRow, {\n    \"data-testid\": \"search-row-\".concat(data.lossRef),\n    hover: true,\n    selected: (selectedRow === null || selectedRow === void 0 ? void 0 : selectedRow.lossRef) ? (selectedRow === null || selectedRow === void 0 ? void 0 : selectedRow.lossRef) === data.lossRef : false,\n    children: [/*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('lossRef')), {}, {\n      \"data-testid\": \"row-col-\".concat(data.lossRef),\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        text: data === null || data === void 0 ? void 0 : data.lossRef,\n        color: \"secondary\",\n        onClick: function onClick() {\n          return lossRefHandler(data);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('lossName')), {}, {\n      \"data-testid\": \"row-col-\".concat(data.lossName),\n      children: [(data === null || data === void 0 ? void 0 : (_data$lossName = data.lossName) === null || _data$lossName === void 0 ? void 0 : _data$lossName.length) > cellLength ? /*#__PURE__*/_jsxDEV(Tooltip, {\n        block: true,\n        title: data === null || data === void 0 ? void 0 : data.lossName,\n        children: [data === null || data === void 0 ? void 0 : data.lossName.slice(0, cellLength), \"...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this) : data === null || data === void 0 ? void 0 : data.lossName, (data === null || data === void 0 ? void 0 : data.isInflighLoss) === 1 && /*#__PURE__*/_jsxDEV(Status, {\n        size: \"xs\",\n        text: utils.string.t('app.migrated'),\n        status: \"light\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 39\n      }, this)]\n    }), void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('lossDetails')), {}, {\n      \"data-testid\": \"row-col-\".concat(data.lossDetails),\n      children: (data === null || data === void 0 ? void 0 : (_data$lossDescription = data.lossDescription) === null || _data$lossDescription === void 0 ? void 0 : _data$lossDescription.length) > cellLength ? /*#__PURE__*/_jsxDEV(Tooltip, {\n        block: true,\n        title: data === null || data === void 0 ? void 0 : data.lossDescription,\n        children: [data === null || data === void 0 ? void 0 : data.lossDescription.slice(0, cellLength), \"...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this) : data === null || data === void 0 ? void 0 : data.lossDescription\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('dateFrom')), {}, {\n      \"data-testid\": \"row-col-\".concat(data.dateFrom),\n      children: (data === null || data === void 0 ? void 0 : data.lossFromDate) ? moment(data === null || data === void 0 ? void 0 : data.lossFromDate).utcOffset(0).format(config.ui.format.date.text) : ''\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('dateTo')), {}, {\n      \"data-testid\": \"row-col-\".concat(data.dateTo),\n      children: (data === null || data === void 0 ? void 0 : data.lossToDate) ? moment(data === null || data === void 0 ? void 0 : data.lossToDate).utcOffset(0).format(config.ui.format.date.text) : ''\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('firstContactDateTime')), {}, {\n      \"data-testid\": \"row-col-\".concat(data.firstContactDateTime),\n      children: (data === null || data === void 0 ? void 0 : data.firstContactDate) ? moment(data === null || data === void 0 ? void 0 : data.firstContactDate).utcOffset(0).format(config.ui.format.date.text) : ''\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('catCodesID')), {}, {\n      \"data-testid\": \"row-col-\".concat(data.catCodesID),\n      children: (data === null || data === void 0 ? void 0 : (_data$catCodeDescript = data.catCodeDescription) === null || _data$catCodeDescript === void 0 ? void 0 : _data$catCodeDescript.length) > cellLength ? /*#__PURE__*/_jsxDEV(Tooltip, {\n        block: true,\n        title: data === null || data === void 0 ? void 0 : data.catCodeDescription,\n        children: [data === null || data === void 0 ? void 0 : data.catCodeDescription.slice(0, cellLength), \"...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this) : data === null || data === void 0 ? void 0 : data.catCodeDescription\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('lossStatus')), {}, {\n      \"data-testid\": \"row-col-\".concat(data.lossStatus),\n      children: ((_getLossStatus = getLossStatus(data === null || data === void 0 ? void 0 : data.lossStatus)) === null || _getLossStatus === void 0 ? void 0 : _getLossStatus.type) ? /*#__PURE__*/_jsxDEV(Status, {\n        size: \"sm\",\n        text: /*#__PURE__*/_jsxDEV(Translate, {\n          label: data === null || data === void 0 ? void 0 : data.lossStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 35\n        }, this),\n        status: (_getLossStatus2 = getLossStatus(data === null || data === void 0 ? void 0 : data.lossStatus)) === null || _getLossStatus2 === void 0 ? void 0 : _getLossStatus2.type\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this) : null\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, data.lossRef, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LossesTabTableRow, \"v7I0gCjz/PXzE5jNJ2a0yGRXGr0=\", false, function () {\n  return [useDispatch, useHistory, useSelector, useSelector];\n});\n\n_c = LossesTabTableRow;\n\nvar _c;\n\n$RefreshReg$(_c, \"LossesTabTableRow\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/LossesTab/LossesTabTableRow.view.js"],"names":["React","useEffect","useDispatch","useSelector","useHistory","moment","TableCell","Link","Translate","Tooltip","Status","selectClaimsStatuses","getStatuses","selectLossItem","selectLossSelected","utils","config","STATUS_CLAIMS_DRAFT","TASK_TAB_INPROGRESS_STATUS","TASK_TAB_COMPLETED_STATUS","Box","TableRow","LossesTabTableRow","data","columnProps","dispatch","history","statuses","selectedRow","cellLength","generic","isInvalidOrEmptyArray","lossRefHandler","rowData","push","routes","claimsFNOL","loss","lossRef","getLossStatus","lossStatus","type","lossName","length","slice","isInflighLoss","string","t","lossDetails","lossDescription","dateFrom","lossFromDate","utcOffset","format","ui","date","text","dateTo","lossToDate","firstContactDateTime","firstContactDate","catCodesID","catCodeDescription"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\nimport moment from 'moment';\r\n\r\n// app\r\nimport { TableCell, Link, Translate, Tooltip, Status } from 'components';\r\nimport { selectClaimsStatuses, getStatuses, selectLossItem, selectLossSelected } from 'stores';\r\nimport * as utils from 'utils';\r\nimport config from 'config';\r\nimport { STATUS_CLAIMS_DRAFT, TASK_TAB_INPROGRESS_STATUS, TASK_TAB_COMPLETED_STATUS } from 'consts';\r\n\r\n// mui\r\nimport { Box, TableRow } from '@material-ui/core';\r\n\r\nexport function LossesTabTableRow({ data, columnProps }) {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const statuses = useSelector(selectClaimsStatuses);\r\n  const selectedRow = useSelector(selectLossSelected);\r\n\r\n  const cellLength = 50;\r\n\r\n  useEffect(() => {\r\n    if (utils.generic.isInvalidOrEmptyArray(statuses)) dispatch(getStatuses());\r\n  }, [statuses]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const lossRefHandler = (rowData) => {\r\n    history.push(`${config.routes.claimsFNOL.loss}/${rowData.lossRef}`);\r\n    dispatch(selectLossItem(rowData));\r\n  };\r\n\r\n  const getLossStatus = (lossStatus) => {\r\n    if (lossStatus === STATUS_CLAIMS_DRAFT) {\r\n      return { type: 'error' };\r\n    } else if (lossStatus === TASK_TAB_COMPLETED_STATUS) {\r\n      return { type: 'success' };\r\n    } else if (lossStatus === TASK_TAB_INPROGRESS_STATUS) {\r\n      return { type: 'alert' };\r\n    } else {\r\n      return {};\r\n    }\r\n  };\r\n\r\n  return (\r\n    <TableRow\r\n      key={data.lossRef}\r\n      data-testid={`search-row-${data.lossRef}`}\r\n      hover\r\n      selected={selectedRow?.lossRef ? selectedRow?.lossRef === data.lossRef : false}\r\n    >\r\n      <TableCell {...columnProps('lossRef')} data-testid={`row-col-${data.lossRef}`}>\r\n        <Link text={data?.lossRef} color=\"secondary\" onClick={() => lossRefHandler(data)} />\r\n      </TableCell>\r\n      <TableCell {...columnProps('lossName')} data-testid={`row-col-${data.lossName}`}>\r\n        {data?.lossName?.length > cellLength ? (\r\n          <Tooltip block title={data?.lossName}>\r\n            {data?.lossName.slice(0, cellLength)}...\r\n          </Tooltip>\r\n        ) : (\r\n          data?.lossName\r\n        )}\r\n        {data?.isInflighLoss === 1 && <Status size=\"xs\" text={utils.string.t('app.migrated')} status=\"light\" />}\r\n      </TableCell>\r\n      <TableCell {...columnProps('lossDetails')} data-testid={`row-col-${data.lossDetails}`}>\r\n        {data?.lossDescription?.length > cellLength ? (\r\n          <Tooltip block title={data?.lossDescription}>\r\n            {data?.lossDescription.slice(0, cellLength)}...\r\n          </Tooltip>\r\n        ) : (\r\n          data?.lossDescription\r\n        )}\r\n      </TableCell>\r\n      <TableCell {...columnProps('dateFrom')} data-testid={`row-col-${data.dateFrom}`}>\r\n        {data?.lossFromDate ? moment(data?.lossFromDate).utcOffset(0).format(config.ui.format.date.text) : ''}\r\n      </TableCell>\r\n      <TableCell {...columnProps('dateTo')} data-testid={`row-col-${data.dateTo}`}>\r\n        {data?.lossToDate ? moment(data?.lossToDate).utcOffset(0).format(config.ui.format.date.text) : ''}\r\n      </TableCell>\r\n      <TableCell {...columnProps('firstContactDateTime')} data-testid={`row-col-${data.firstContactDateTime}`}>\r\n        {data?.firstContactDate ? moment(data?.firstContactDate).utcOffset(0).format(config.ui.format.date.text) : ''}\r\n      </TableCell>\r\n      <TableCell {...columnProps('catCodesID')} data-testid={`row-col-${data.catCodesID}`}>\r\n        {data?.catCodeDescription?.length > cellLength ? (\r\n          <Tooltip block title={data?.catCodeDescription}>\r\n            {data?.catCodeDescription.slice(0, cellLength)}...\r\n          </Tooltip>\r\n        ) : (\r\n          data?.catCodeDescription\r\n        )}\r\n      </TableCell>\r\n      <TableCell {...columnProps('lossStatus')} data-testid={`row-col-${data.lossStatus}`}>\r\n        {getLossStatus(data?.lossStatus)?.type ? (\r\n          <Status size=\"sm\" text={<Translate label={data?.lossStatus} />} status={getLossStatus(data?.lossStatus)?.type} />\r\n        ) : null}\r\n      </TableCell>\r\n    </TableRow>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}