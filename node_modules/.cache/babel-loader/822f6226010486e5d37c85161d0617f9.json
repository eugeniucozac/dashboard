{"ast":null,"code":"import _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\components\\\\InlineEdit\\\\InlineEdit.js\";\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\nimport classnames from 'classnames'; // app\n\nimport styles from './InlineEdit.styles';\nimport { FormTextFormik } from 'components';\nimport * as constants from 'consts';\nimport * as utils from 'utils'; // mui\n\nimport { withStyles } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var InlineEdit = /*#__PURE__*/function (_PureComponent) {\n  _inherits(InlineEdit, _PureComponent);\n\n  var _super = _createSuper(InlineEdit);\n\n  function InlineEdit(props) {\n    var _this;\n\n    _classCallCheck(this, InlineEdit);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleFocus\", function (event) {\n      event.preventDefault();\n      event.stopPropagation();\n      var onClick = _this.props.onClick;\n      _this.inputRef.current && _this.inputRef.current.select();\n\n      if (utils.generic.isFunction(onClick)) {\n        onClick(_this.inputRef.current);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (event) {\n      event.stopPropagation();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickAway\", function (event) {\n      var _this$props = _this.props,\n          editing = _this$props.editing,\n          onClickAway = _this$props.onClickAway;\n\n      if (editing && utils.generic.isFunction(onClickAway)) {\n        onClickAway(event);\n        _this.inputRef.current && _this.inputRef.current.blur();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (event) {\n      var editing = _this.props.editing; // enter\n\n      if (editing && event.keyCode === constants.KEYCODE.Enter) {\n        event.preventDefault();\n\n        _this.handleClickAway();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showTitle\", function () {\n      var _this$props2 = _this.props,\n          title = _this$props2.title,\n          value = _this$props2.value;\n      return title && value && value.trim();\n    });\n\n    _this.inputRef = /*#__PURE__*/React.createRef();\n    return _this;\n  }\n\n  _createClass(InlineEdit, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('keydown', this.handleKeyDown);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('keydown', this.handleKeyDown);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classesRoot, _classesFormControl, _classesBase, _classesInput, _classesLabel;\n\n      var _this$props3 = this.props,\n          name = _this$props3.name,\n          type = _this$props3.type,\n          variant = _this$props3.variant,\n          value = _this$props3.value,\n          currency = _this$props3.currency,\n          error = _this$props3.error,\n          compact = _this$props3.compact,\n          editing = _this$props3.editing,\n          multiline = _this$props3.multiline,\n          muiComponentProps = _this$props3.muiComponentProps,\n          nestedClasses = _this$props3.nestedClasses,\n          classes = _this$props3.classes;\n      var labelValue = value ? value.toString().trim() : /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"\\xA0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 56\n      }, this);\n      var isPercent = variant === 'percent';\n      var isNumber = variant === 'number';\n      var isCurrency = variant === 'currency';\n\n      if (isPercent) {\n        labelValue = utils.string.t('format.percent', {\n          value: {\n            number: value,\n            \"default\": '-'\n          }\n        });\n      } else if (isNumber) {\n        labelValue = utils.string.t('format.number', {\n          value: {\n            number: value,\n            \"default\": '-'\n          }\n        });\n      } else if (isCurrency) {\n        labelValue = utils.string.t('format.currency', {\n          value: {\n            number: value,\n            currency: currency,\n            \"default\": '-'\n          }\n        });\n      }\n\n      var classesRoot = (_classesRoot = {}, _defineProperty(_classesRoot, classes.root, true), _defineProperty(_classesRoot, nestedClasses.root, Boolean(nestedClasses.root)), _classesRoot);\n      var classesFormControl = (_classesFormControl = {}, _defineProperty(_classesFormControl, classes.formControl, true), _defineProperty(_classesFormControl, classes.formControlEditing, editing), _classesFormControl);\n      var classesBase = (_classesBase = {}, _defineProperty(_classesBase, classes.base, true), _defineProperty(_classesBase, classes.baseCompact, compact), _defineProperty(_classesBase, classes.baseMultiline, multiline), _classesBase);\n      var classesInput = (_classesInput = {}, _defineProperty(_classesInput, classes.input, true), _defineProperty(_classesInput, classes.inputEditing, editing), _defineProperty(_classesInput, classes.inputCompact, compact), _defineProperty(_classesInput, classes.inputError, error), _defineProperty(_classesInput, classes.inputMultiline, multiline), _defineProperty(_classesInput, nestedClasses.input, Boolean(nestedClasses.input)), _classesInput);\n      var classesLabel = (_classesLabel = {}, _defineProperty(_classesLabel, classes.label, true), _defineProperty(_classesLabel, nestedClasses.label, Boolean(nestedClasses.label)), _defineProperty(_classesLabel, classes.labelCompact, compact), _defineProperty(_classesLabel, classes.labelNumber, editing && (isNumber || isCurrency && !currency)), _defineProperty(_classesLabel, classes.labelPercent, editing && isPercent), _defineProperty(_classesLabel, classes.labelCurrency, editing && isCurrency && currency), _defineProperty(_classesLabel, classes.labelHidden, editing), _defineProperty(_classesLabel, classes.labelMultiline, multiline), _classesLabel);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classnames(classesRoot),\n        title: this.showTitle() ? value : undefined,\n        children: [/*#__PURE__*/_jsxDEV(FormTextFormik, {\n          name: name,\n          type: type,\n          classes: {\n            root: classnames(classesFormControl)\n          },\n          muiComponentProps: _objectSpread(_objectSpread(_objectSpread({\n            autoComplete: 'off'\n          }, multiline && {\n            multiline: true\n          }), muiComponentProps), {}, {\n            inputRef: this.inputRef,\n            InputProps: _objectSpread(_objectSpread({}, muiComponentProps.InputProps), {}, {\n              className: classnames(classesBase),\n              onBlur: this.handleClickAway,\n              onFocus: this.handleFocus,\n              onClick: this.handleClick\n            }),\n            inputProps: _objectSpread(_objectSpread({}, muiComponentProps.inputProps), {}, {\n              className: classnames(classesInput)\n            })\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classnames(classesLabel),\n          children: labelValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return InlineEdit;\n}(PureComponent);\nInlineEdit.displayName = \"InlineEdit\";\n\n_defineProperty(InlineEdit, \"propTypes\", {\n  name: PropTypes.string.isRequired,\n  type: PropTypes.oneOf(['text', 'textarea', 'number']).isRequired,\n  variant: PropTypes.oneOf(['text', 'percent', 'currency', 'number']),\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool]),\n  currency: PropTypes.string,\n  error: PropTypes.bool,\n  editing: PropTypes.bool,\n  compact: PropTypes.bool,\n  title: PropTypes.bool,\n  multiline: PropTypes.bool,\n  nestedClasses: PropTypes.shape({\n    root: PropTypes.string,\n    input: PropTypes.string,\n    label: PropTypes.string\n  }),\n  muiComponentProps: PropTypes.object,\n  onClick: PropTypes.func,\n  onClickAway: PropTypes.func\n});\n\n_defineProperty(InlineEdit, \"defaultProps\", {\n  type: 'text',\n  variant: 'text',\n  nestedClasses: {},\n  muiComponentProps: {}\n});\n\nInlineEdit.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [{\n    \"name\": \"handleFocus\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"event\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"handleClick\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"event\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"handleClickAway\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"event\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"handleKeyDown\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"event\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"showTitle\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }],\n  \"displayName\": \"InlineEdit\",\n  \"props\": {\n    \"type\": {\n      \"defaultValue\": {\n        \"value\": \"'text'\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"enum\",\n        \"value\": [{\n          \"value\": \"'text'\",\n          \"computed\": false\n        }, {\n          \"value\": \"'textarea'\",\n          \"computed\": false\n        }, {\n          \"value\": \"'number'\",\n          \"computed\": false\n        }]\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"variant\": {\n      \"defaultValue\": {\n        \"value\": \"'text'\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"enum\",\n        \"value\": [{\n          \"value\": \"'text'\",\n          \"computed\": false\n        }, {\n          \"value\": \"'percent'\",\n          \"computed\": false\n        }, {\n          \"value\": \"'currency'\",\n          \"computed\": false\n        }, {\n          \"value\": \"'number'\",\n          \"computed\": false\n        }]\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"nestedClasses\": {\n      \"defaultValue\": {\n        \"value\": \"{}\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"shape\",\n        \"value\": {\n          \"root\": {\n            \"name\": \"string\",\n            \"required\": false\n          },\n          \"input\": {\n            \"name\": \"string\",\n            \"required\": false\n          },\n          \"label\": {\n            \"name\": \"string\",\n            \"required\": false\n          }\n        }\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"muiComponentProps\": {\n      \"defaultValue\": {\n        \"value\": \"{}\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"object\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"name\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"value\": {\n      \"type\": {\n        \"name\": \"union\",\n        \"value\": [{\n          \"name\": \"string\"\n        }, {\n          \"name\": \"number\"\n        }, {\n          \"name\": \"bool\"\n        }]\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"currency\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"error\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"editing\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"compact\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"title\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"multiline\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"onClick\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"onClickAway\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    }\n  }\n};\nexport default compose(withStyles(styles))(InlineEdit);\n\nif (typeof STORYBOOK_REACT_CLASSES !== \"undefined\") {\n  STORYBOOK_REACT_CLASSES[\"src\\\\components\\\\InlineEdit\\\\InlineEdit.js\"] = {\n    name: \"InlineEdit\",\n    docgenInfo: InlineEdit.__docgenInfo,\n    path: \"src\\\\components\\\\InlineEdit\\\\InlineEdit.js\"\n  };\n}","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/components/InlineEdit/InlineEdit.js"],"names":["React","PureComponent","PropTypes","compose","classnames","styles","FormTextFormik","constants","utils","withStyles","InlineEdit","props","event","preventDefault","stopPropagation","onClick","inputRef","current","select","generic","isFunction","editing","onClickAway","blur","keyCode","KEYCODE","Enter","handleClickAway","title","value","trim","createRef","document","addEventListener","handleKeyDown","removeEventListener","name","type","variant","currency","error","compact","multiline","muiComponentProps","nestedClasses","classes","labelValue","toString","isPercent","isNumber","isCurrency","string","t","number","classesRoot","root","Boolean","classesFormControl","formControl","formControlEditing","classesBase","base","baseCompact","baseMultiline","classesInput","input","inputEditing","inputCompact","inputError","inputMultiline","classesLabel","label","labelCompact","labelNumber","labelPercent","labelCurrency","labelHidden","labelMultiline","showTitle","undefined","autoComplete","InputProps","className","onBlur","onFocus","handleFocus","handleClick","inputProps","isRequired","oneOf","oneOfType","bool","shape","object","func"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { compose } from 'redux';\r\nimport classnames from 'classnames';\r\n\r\n// app\r\nimport styles from './InlineEdit.styles';\r\nimport { FormTextFormik } from 'components';\r\nimport * as constants from 'consts';\r\nimport * as utils from 'utils';\r\n\r\n// mui\r\nimport { withStyles } from '@material-ui/core';\r\n\r\nexport class InlineEdit extends PureComponent {\r\n  static propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    type: PropTypes.oneOf(['text', 'textarea', 'number']).isRequired,\r\n    variant: PropTypes.oneOf(['text', 'percent', 'currency', 'number']),\r\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool]),\r\n    currency: PropTypes.string,\r\n    error: PropTypes.bool,\r\n    editing: PropTypes.bool,\r\n    compact: PropTypes.bool,\r\n    title: PropTypes.bool,\r\n    multiline: PropTypes.bool,\r\n    nestedClasses: PropTypes.shape({\r\n      root: PropTypes.string,\r\n      input: PropTypes.string,\r\n      label: PropTypes.string,\r\n    }),\r\n    muiComponentProps: PropTypes.object,\r\n    onClick: PropTypes.func,\r\n    onClickAway: PropTypes.func,\r\n  };\r\n\r\n  static defaultProps = {\r\n    type: 'text',\r\n    variant: 'text',\r\n    nestedClasses: {},\r\n    muiComponentProps: {},\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.inputRef = React.createRef();\r\n  }\r\n\r\n  handleFocus = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    const { onClick } = this.props;\r\n\r\n    this.inputRef.current && this.inputRef.current.select();\r\n\r\n    if (utils.generic.isFunction(onClick)) {\r\n      onClick(this.inputRef.current);\r\n    }\r\n  };\r\n\r\n  handleClick = (event) => {\r\n    event.stopPropagation();\r\n  };\r\n\r\n  handleClickAway = (event) => {\r\n    const { editing, onClickAway } = this.props;\r\n\r\n    if (editing && utils.generic.isFunction(onClickAway)) {\r\n      onClickAway(event);\r\n      this.inputRef.current && this.inputRef.current.blur();\r\n    }\r\n  };\r\n\r\n  handleKeyDown = (event) => {\r\n    const { editing } = this.props;\r\n\r\n    // enter\r\n    if (editing && event.keyCode === constants.KEYCODE.Enter) {\r\n      event.preventDefault();\r\n      this.handleClickAway();\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  showTitle = () => {\r\n    const { title, value } = this.props;\r\n\r\n    return title && value && value.trim();\r\n  };\r\n\r\n  render() {\r\n    const { name, type, variant, value, currency, error, compact, editing, multiline, muiComponentProps, nestedClasses, classes } =\r\n      this.props;\r\n\r\n    let labelValue = value ? value.toString().trim() : <span>&nbsp;</span>;\r\n    const isPercent = variant === 'percent';\r\n    const isNumber = variant === 'number';\r\n    const isCurrency = variant === 'currency';\r\n\r\n    if (isPercent) {\r\n      labelValue = utils.string.t('format.percent', { value: { number: value, default: '-' } });\r\n    } else if (isNumber) {\r\n      labelValue = utils.string.t('format.number', { value: { number: value, default: '-' } });\r\n    } else if (isCurrency) {\r\n      labelValue = utils.string.t('format.currency', { value: { number: value, currency: currency, default: '-' } });\r\n    }\r\n\r\n    const classesRoot = {\r\n      [classes.root]: true,\r\n      [nestedClasses.root]: Boolean(nestedClasses.root),\r\n    };\r\n\r\n    const classesFormControl = {\r\n      [classes.formControl]: true,\r\n      [classes.formControlEditing]: editing,\r\n    };\r\n\r\n    const classesBase = {\r\n      [classes.base]: true,\r\n      [classes.baseCompact]: compact,\r\n      [classes.baseMultiline]: multiline,\r\n    };\r\n\r\n    const classesInput = {\r\n      [classes.input]: true,\r\n      [classes.inputEditing]: editing,\r\n      [classes.inputCompact]: compact,\r\n      [classes.inputError]: error,\r\n      [classes.inputMultiline]: multiline,\r\n      [nestedClasses.input]: Boolean(nestedClasses.input),\r\n    };\r\n\r\n    const classesLabel = {\r\n      [classes.label]: true,\r\n      [nestedClasses.label]: Boolean(nestedClasses.label),\r\n      [classes.labelCompact]: compact,\r\n      [classes.labelNumber]: editing && (isNumber || (isCurrency && !currency)),\r\n      [classes.labelPercent]: editing && isPercent,\r\n      [classes.labelCurrency]: editing && isCurrency && currency,\r\n      [classes.labelHidden]: editing,\r\n      [classes.labelMultiline]: multiline,\r\n    };\r\n\r\n    return (\r\n      <div className={classnames(classesRoot)} title={this.showTitle() ? value : undefined}>\r\n        <FormTextFormik\r\n          name={name}\r\n          type={type}\r\n          classes={{\r\n            root: classnames(classesFormControl),\r\n          }}\r\n          muiComponentProps={{\r\n            autoComplete: 'off',\r\n            ...(multiline && { multiline: true }),\r\n            ...muiComponentProps,\r\n            inputRef: this.inputRef,\r\n            InputProps: {\r\n              ...muiComponentProps.InputProps,\r\n              className: classnames(classesBase),\r\n              onBlur: this.handleClickAway,\r\n              onFocus: this.handleFocus,\r\n              onClick: this.handleClick,\r\n            },\r\n            inputProps: {\r\n              ...muiComponentProps.inputProps,\r\n              className: classnames(classesInput),\r\n            },\r\n          }}\r\n        />\r\n\r\n        <div className={classnames(classesLabel)}>{labelValue}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(withStyles(styles))(InlineEdit);\r\n"]},"metadata":{},"sourceType":"module"}