{"ast":null,"code":"import _slicedToArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\PasteFromExcel\\\\PasteFromExcel.view.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types'; // app\n\nimport styles from './PasteFromExcel.styles';\nimport { Accordion, Button, Form, Overflow, TableCell, TableHead, Translate, Warning } from 'components';\nimport * as utils from 'utils'; // mui\n\nimport { Box, Table, TableRow, TableBody, Typography, makeStyles } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nPasteFromExcelView.propTypes = {\n  step: PropTypes.number,\n  steps: PropTypes.number,\n  labels: PropTypes.shape({\n    step1: PropTypes.shape({\n      title: PropTypes.node,\n      hint: PropTypes.string,\n      label: PropTypes.string,\n      required: PropTypes.string,\n      placeholder: PropTypes.string\n    }),\n    step2: PropTypes.shape({\n      title: PropTypes.node,\n      hint: PropTypes.string,\n      label: PropTypes.string,\n      error: PropTypes.string\n    }),\n    step3: PropTypes.shape({\n      title: PropTypes.node,\n      hint: PropTypes.string\n    }),\n    step4: PropTypes.shape({\n      title: PropTypes.node,\n      hint: PropTypes.string\n    })\n  }),\n  fields: PropTypes.shape({\n    excelExtract: PropTypes.array,\n    columnMatching: PropTypes.array\n  }).isRequired,\n  rows: PropTypes.array,\n  columns: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string,\n    label: PropTypes.string,\n    compact: PropTypes.bool\n  })),\n  imported: PropTypes.bool,\n  testid: PropTypes.string,\n  handlers: PropTypes.shape({\n    excelExtract: PropTypes.func,\n    columnMatching: PropTypes.func,\n    submit: PropTypes.func\n  })\n};\nexport function PasteFromExcelView(_ref) {\n  var _this = this;\n\n  var step = _ref.step,\n      steps = _ref.steps,\n      labels = _ref.labels,\n      fields = _ref.fields,\n      rows = _ref.rows,\n      columns = _ref.columns,\n      imported = _ref.imported,\n      testid = _ref.testid,\n      handlers = _ref.handlers,\n      children = _ref.children;\n  var classes = makeStyles(styles, {\n    name: 'PasteFromExcel'\n  })();\n  var hasRows = utils.generic.isValidArray(rows, true);\n  var has4Steps = steps === 4;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    \"data-testid\": \"paste-from-excel\".concat(testid ? \"-\".concat(testid) : ''),\n    children: [/*#__PURE__*/_jsxDEV(Accordion, {\n      expanded: step === 1,\n      boxed: true,\n      density: \"comfortable\",\n      title: labels.step1.title,\n      onChange: function onChange() {\n        return handlers.setStep(1);\n      },\n      testid: \"step1\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: 1,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          className: classes.hint,\n          children: labels.step1.hint\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          id: \"excel-extract\",\n          fields: fields.excelExtract,\n          defaultValues: utils.form.getInitialValues(fields.excelExtract),\n          validationSchema: utils.form.getValidationSchema(fields.excelExtract),\n          actions: [{\n            name: 'submit',\n            label: utils.string.t('app.continue'),\n            handler: handlers.excelExtract\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Accordion, {\n      expanded: step === 2,\n      boxed: true,\n      density: \"comfortable\",\n      title: labels.step2.title,\n      onChange: function onChange() {\n        return handlers.setStep(2);\n      },\n      testid: \"step2\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: 1,\n        children: [!imported && /*#__PURE__*/_jsxDEV(Warning, {\n          text: labels.step2.error,\n          type: \"error\",\n          size: \"medium\",\n          align: \"left\",\n          icon: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }, this), imported && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            className: classes.hint,\n            children: labels.step2.hint\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            id: \"column-matching\",\n            fields: fields.columnMatching,\n            defaultValues: utils.form.getInitialValues(fields.columnMatching),\n            actions: [{\n              name: 'submit',\n              label: utils.string.t('app.continue'),\n              handler: handlers.columnMatching\n            }]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Accordion, {\n      expanded: step === 3,\n      boxed: true,\n      density: \"comfortable\",\n      title: labels.step3.title,\n      onChange: function onChange() {\n        return handlers.setStep(3);\n      },\n      testid: \"step3\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: 1,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          className: classes.hint,\n          children: labels.step3.hint\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), children && hasRows && children(rows), !children && hasRows && /*#__PURE__*/_jsxDEV(Box, {\n          mt: -2,\n          children: /*#__PURE__*/_jsxDEV(Overflow, {\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              size: \"small\",\n              className: classes.table,\n              children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                columns: columns\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                children: rows.map(function (row, rowIdx) {\n                  var cells = Object.entries(row) || [];\n                  var hasCells = cells.length > 0;\n                  return /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: hasCells && cells.map(function (_ref2, cellIdx) {\n                      var _ref3 = _slicedToArray(_ref2, 2),\n                          key = _ref3[0],\n                          value = _ref3[1];\n\n                      var cellKey = \"cell-\".concat(cellIdx, \"-\").concat(key);\n                      return /*#__PURE__*/_jsxDEV(TableCell, {\n                        className: classes.cell,\n                        \"data-testid\": cellKey,\n                        children: value\n                      }, cellKey, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 152,\n                        columnNumber: 33\n                      }, _this);\n                    })\n                  }, \"row-\".concat(rowIdx), false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 25\n                  }, _this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          mt: 1,\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            color: \"primary\",\n            disabled: !imported,\n            text: /*#__PURE__*/_jsxDEV(Translate, {\n              label: has4Steps ? 'app.confirm' : 'app.submit'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 21\n            }, this),\n            nestedClasses: {\n              btn: classes.button\n            },\n            onClick: has4Steps ? function () {\n              return handlers.setStep(4);\n            } : handlers.submit(rows)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), has4Steps && /*#__PURE__*/_jsxDEV(Accordion, {\n      expanded: step === 4,\n      boxed: true,\n      density: \"comfortable\",\n      title: labels.step4.title,\n      onChange: function onChange() {\n        return handlers.setStep(4);\n      },\n      testid: \"step4\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: 1,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          className: classes.hint,\n          children: labels.step4.hint\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          mt: 1,\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            color: \"primary\",\n            disabled: !imported,\n            text: /*#__PURE__*/_jsxDEV(Translate, {\n              label: \"app.submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 23\n            }, this),\n            nestedClasses: {\n              btn: classes.button\n            },\n            onClick: handlers.submit(rows)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_c = PasteFromExcelView;\n\nvar _c;\n\n$RefreshReg$(_c, \"PasteFromExcelView\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/PasteFromExcel/PasteFromExcel.view.js"],"names":["React","PropTypes","styles","Accordion","Button","Form","Overflow","TableCell","TableHead","Translate","Warning","utils","Box","Table","TableRow","TableBody","Typography","makeStyles","PasteFromExcelView","propTypes","step","number","steps","labels","shape","step1","title","node","hint","string","label","required","placeholder","step2","error","step3","step4","fields","excelExtract","array","columnMatching","isRequired","rows","columns","arrayOf","id","compact","bool","imported","testid","handlers","func","submit","children","classes","name","hasRows","generic","isValidArray","has4Steps","root","setStep","form","getInitialValues","getValidationSchema","t","handler","table","map","row","rowIdx","cells","Object","entries","hasCells","length","cellIdx","key","value","cellKey","cell","btn","button"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,IAA5B,EAAkCC,QAAlC,EAA4CC,SAA5C,EAAuDC,SAAvD,EAAkEC,SAAlE,EAA6EC,OAA7E,QAA4F,YAA5F;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB,C,CAEA;;AACA,SAASC,GAAT,EAAcC,KAAd,EAAqBC,QAArB,EAA+BC,SAA/B,EAA0CC,UAA1C,EAAsDC,UAAtD,QAAwE,mBAAxE;;;AAEAC,kBAAkB,CAACC,SAAnB,GAA+B;AAC7BC,EAAAA,IAAI,EAAEnB,SAAS,CAACoB,MADa;AAE7BC,EAAAA,KAAK,EAAErB,SAAS,CAACoB,MAFY;AAG7BE,EAAAA,MAAM,EAAEtB,SAAS,CAACuB,KAAV,CAAgB;AACtBC,IAAAA,KAAK,EAAExB,SAAS,CAACuB,KAAV,CAAgB;AACrBE,MAAAA,KAAK,EAAEzB,SAAS,CAAC0B,IADI;AAErBC,MAAAA,IAAI,EAAE3B,SAAS,CAAC4B,MAFK;AAGrBC,MAAAA,KAAK,EAAE7B,SAAS,CAAC4B,MAHI;AAIrBE,MAAAA,QAAQ,EAAE9B,SAAS,CAAC4B,MAJC;AAKrBG,MAAAA,WAAW,EAAE/B,SAAS,CAAC4B;AALF,KAAhB,CADe;AAQtBI,IAAAA,KAAK,EAAEhC,SAAS,CAACuB,KAAV,CAAgB;AACrBE,MAAAA,KAAK,EAAEzB,SAAS,CAAC0B,IADI;AAErBC,MAAAA,IAAI,EAAE3B,SAAS,CAAC4B,MAFK;AAGrBC,MAAAA,KAAK,EAAE7B,SAAS,CAAC4B,MAHI;AAIrBK,MAAAA,KAAK,EAAEjC,SAAS,CAAC4B;AAJI,KAAhB,CARe;AActBM,IAAAA,KAAK,EAAElC,SAAS,CAACuB,KAAV,CAAgB;AACrBE,MAAAA,KAAK,EAAEzB,SAAS,CAAC0B,IADI;AAErBC,MAAAA,IAAI,EAAE3B,SAAS,CAAC4B;AAFK,KAAhB,CAde;AAkBtBO,IAAAA,KAAK,EAAEnC,SAAS,CAACuB,KAAV,CAAgB;AACrBE,MAAAA,KAAK,EAAEzB,SAAS,CAAC0B,IADI;AAErBC,MAAAA,IAAI,EAAE3B,SAAS,CAAC4B;AAFK,KAAhB;AAlBe,GAAhB,CAHqB;AA0B7BQ,EAAAA,MAAM,EAAEpC,SAAS,CAACuB,KAAV,CAAgB;AACtBc,IAAAA,YAAY,EAAErC,SAAS,CAACsC,KADF;AAEtBC,IAAAA,cAAc,EAAEvC,SAAS,CAACsC;AAFJ,GAAhB,EAGLE,UA7B0B;AA8B7BC,EAAAA,IAAI,EAAEzC,SAAS,CAACsC,KA9Ba;AA+B7BI,EAAAA,OAAO,EAAE1C,SAAS,CAAC2C,OAAV,CACP3C,SAAS,CAACuB,KAAV,CAAgB;AACdqB,IAAAA,EAAE,EAAE5C,SAAS,CAAC4B,MADA;AAEdC,IAAAA,KAAK,EAAE7B,SAAS,CAAC4B,MAFH;AAGdiB,IAAAA,OAAO,EAAE7C,SAAS,CAAC8C;AAHL,GAAhB,CADO,CA/BoB;AAsC7BC,EAAAA,QAAQ,EAAE/C,SAAS,CAAC8C,IAtCS;AAuC7BE,EAAAA,MAAM,EAAEhD,SAAS,CAAC4B,MAvCW;AAwC7BqB,EAAAA,QAAQ,EAAEjD,SAAS,CAACuB,KAAV,CAAgB;AACxBc,IAAAA,YAAY,EAAErC,SAAS,CAACkD,IADA;AAExBX,IAAAA,cAAc,EAAEvC,SAAS,CAACkD,IAFF;AAGxBC,IAAAA,MAAM,EAAEnD,SAAS,CAACkD;AAHM,GAAhB;AAxCmB,CAA/B;AA+CA,OAAO,SAASjC,kBAAT,OAAkH;AAAA;;AAAA,MAApFE,IAAoF,QAApFA,IAAoF;AAAA,MAA9EE,KAA8E,QAA9EA,KAA8E;AAAA,MAAvEC,MAAuE,QAAvEA,MAAuE;AAAA,MAA/Dc,MAA+D,QAA/DA,MAA+D;AAAA,MAAvDK,IAAuD,QAAvDA,IAAuD;AAAA,MAAjDC,OAAiD,QAAjDA,OAAiD;AAAA,MAAxCK,QAAwC,QAAxCA,QAAwC;AAAA,MAA9BC,MAA8B,QAA9BA,MAA8B;AAAA,MAAtBC,QAAsB,QAAtBA,QAAsB;AAAA,MAAZG,QAAY,QAAZA,QAAY;AACvH,MAAMC,OAAO,GAAGrC,UAAU,CAACf,MAAD,EAAS;AAAEqD,IAAAA,IAAI,EAAE;AAAR,GAAT,CAAV,EAAhB;AAEA,MAAMC,OAAO,GAAG7C,KAAK,CAAC8C,OAAN,CAAcC,YAAd,CAA2BhB,IAA3B,EAAiC,IAAjC,CAAhB;AACA,MAAMiB,SAAS,GAAGrC,KAAK,KAAK,CAA5B;AAEA,sBACE;AAAK,IAAA,SAAS,EAAEgC,OAAO,CAACM,IAAxB;AAA8B,6CAAgCX,MAAM,cAAOA,MAAP,IAAkB,EAAxD,CAA9B;AAAA,4BACE,QAAC,SAAD;AACE,MAAA,QAAQ,EAAE7B,IAAI,KAAK,CADrB;AAEE,MAAA,KAAK,MAFP;AAGE,MAAA,OAAO,EAAC,aAHV;AAIE,MAAA,KAAK,EAAEG,MAAM,CAACE,KAAP,CAAaC,KAJtB;AAKE,MAAA,QAAQ,EAAE;AAAA,eAAMwB,QAAQ,CAACW,OAAT,CAAiB,CAAjB,CAAN;AAAA,OALZ;AAME,MAAA,MAAM,EAAC,OANT;AAAA,6BAQE,QAAC,GAAD;AAAK,QAAA,OAAO,EAAC,MAAb;AAAoB,QAAA,aAAa,EAAC,QAAlC;AAA2C,QAAA,KAAK,EAAE,CAAlD;AAAA,gCACE,QAAC,UAAD;AAAY,UAAA,SAAS,EAAEP,OAAO,CAAC1B,IAA/B;AAAA,oBAAsCL,MAAM,CAACE,KAAP,CAAaG;AAAnD;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,IAAD;AACE,UAAA,EAAE,EAAC,eADL;AAEE,UAAA,MAAM,EAAES,MAAM,CAACC,YAFjB;AAGE,UAAA,aAAa,EAAE3B,KAAK,CAACmD,IAAN,CAAWC,gBAAX,CAA4B1B,MAAM,CAACC,YAAnC,CAHjB;AAIE,UAAA,gBAAgB,EAAE3B,KAAK,CAACmD,IAAN,CAAWE,mBAAX,CAA+B3B,MAAM,CAACC,YAAtC,CAJpB;AAKE,UAAA,OAAO,EAAE,CACP;AACEiB,YAAAA,IAAI,EAAE,QADR;AAEEzB,YAAAA,KAAK,EAAEnB,KAAK,CAACkB,MAAN,CAAaoC,CAAb,CAAe,cAAf,CAFT;AAGEC,YAAAA,OAAO,EAAEhB,QAAQ,CAACZ;AAHpB,WADO;AALX;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AARF;AAAA;AAAA;AAAA;AAAA,YADF,eA2BE,QAAC,SAAD;AACE,MAAA,QAAQ,EAAElB,IAAI,KAAK,CADrB;AAEE,MAAA,KAAK,MAFP;AAGE,MAAA,OAAO,EAAC,aAHV;AAIE,MAAA,KAAK,EAAEG,MAAM,CAACU,KAAP,CAAaP,KAJtB;AAKE,MAAA,QAAQ,EAAE;AAAA,eAAMwB,QAAQ,CAACW,OAAT,CAAiB,CAAjB,CAAN;AAAA,OALZ;AAME,MAAA,MAAM,EAAC,OANT;AAAA,6BAQE,QAAC,GAAD;AAAK,QAAA,OAAO,EAAC,MAAb;AAAoB,QAAA,aAAa,EAAC,QAAlC;AAA2C,QAAA,KAAK,EAAE,CAAlD;AAAA,mBACG,CAACb,QAAD,iBAAa,QAAC,OAAD;AAAS,UAAA,IAAI,EAAEzB,MAAM,CAACU,KAAP,CAAaC,KAA5B;AAAmC,UAAA,IAAI,EAAC,OAAxC;AAAgD,UAAA,IAAI,EAAC,QAArD;AAA8D,UAAA,KAAK,EAAC,MAApE;AAA2E,UAAA,IAAI;AAA/E;AAAA;AAAA;AAAA;AAAA,gBADhB,EAEGc,QAAQ,iBACP;AAAA,kCACE,QAAC,UAAD;AAAY,YAAA,SAAS,EAAEM,OAAO,CAAC1B,IAA/B;AAAA,sBAAsCL,MAAM,CAACU,KAAP,CAAaL;AAAnD;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,IAAD;AACE,YAAA,EAAE,EAAC,iBADL;AAEE,YAAA,MAAM,EAAES,MAAM,CAACG,cAFjB;AAGE,YAAA,aAAa,EAAE7B,KAAK,CAACmD,IAAN,CAAWC,gBAAX,CAA4B1B,MAAM,CAACG,cAAnC,CAHjB;AAIE,YAAA,OAAO,EAAE,CACP;AACEe,cAAAA,IAAI,EAAE,QADR;AAEEzB,cAAAA,KAAK,EAAEnB,KAAK,CAACkB,MAAN,CAAaoC,CAAb,CAAe,cAAf,CAFT;AAGEC,cAAAA,OAAO,EAAEhB,QAAQ,CAACV;AAHpB,aADO;AAJX;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA,wBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AARF;AAAA;AAAA;AAAA;AAAA,YA3BF,eAyDE,QAAC,SAAD;AACE,MAAA,QAAQ,EAAEpB,IAAI,KAAK,CADrB;AAEE,MAAA,KAAK,MAFP;AAGE,MAAA,OAAO,EAAC,aAHV;AAIE,MAAA,KAAK,EAAEG,MAAM,CAACY,KAAP,CAAaT,KAJtB;AAKE,MAAA,QAAQ,EAAE;AAAA,eAAMwB,QAAQ,CAACW,OAAT,CAAiB,CAAjB,CAAN;AAAA,OALZ;AAME,MAAA,MAAM,EAAC,OANT;AAAA,6BAQE,QAAC,GAAD;AAAK,QAAA,OAAO,EAAC,MAAb;AAAoB,QAAA,aAAa,EAAC,QAAlC;AAA2C,QAAA,KAAK,EAAE,CAAlD;AAAA,gCACE,QAAC,UAAD;AAAY,UAAA,SAAS,EAAEP,OAAO,CAAC1B,IAA/B;AAAA,oBAAsCL,MAAM,CAACY,KAAP,CAAaP;AAAnD;AAAA;AAAA;AAAA;AAAA,gBADF,EAGGyB,QAAQ,IAAIG,OAAZ,IAAuBH,QAAQ,CAACX,IAAD,CAHlC,EAKG,CAACW,QAAD,IAAaG,OAAb,iBACC,QAAC,GAAD;AAAK,UAAA,EAAE,EAAE,CAAC,CAAV;AAAA,iCACE,QAAC,QAAD;AAAA,mCACE,QAAC,KAAD;AAAO,cAAA,IAAI,EAAC,OAAZ;AAAoB,cAAA,SAAS,EAAEF,OAAO,CAACa,KAAvC;AAAA,sCACE,QAAC,SAAD;AAAW,gBAAA,OAAO,EAAExB;AAApB;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE,QAAC,SAAD;AAAA,0BACGD,IAAI,CAAC0B,GAAL,CAAS,UAACC,GAAD,EAAMC,MAAN,EAAiB;AACzB,sBAAMC,KAAK,GAAGC,MAAM,CAACC,OAAP,CAAeJ,GAAf,KAAuB,EAArC;AACA,sBAAMK,QAAQ,GAAGH,KAAK,CAACI,MAAN,GAAe,CAAhC;AAEA,sCACE,QAAC,QAAD;AAAA,8BACGD,QAAQ,IACPH,KAAK,CAACH,GAAN,CAAU,iBAAeQ,OAAf,EAA2B;AAAA;AAAA,0BAAzBC,GAAyB;AAAA,0BAApBC,KAAoB;;AACnC,0BAAMC,OAAO,kBAAWH,OAAX,cAAsBC,GAAtB,CAAb;AACA,0CACE,QAAC,SAAD;AAAW,wBAAA,SAAS,EAAEvB,OAAO,CAAC0B,IAA9B;AAAkD,uCAAaD,OAA/D;AAAA,kCACGD;AADH,yBAAyCC,OAAzC;AAAA;AAAA;AAAA;AAAA,+BADF;AAKD,qBAPD;AAFJ,mCAAsBT,MAAtB;AAAA;AAAA;AAAA;AAAA,2BADF;AAaD,iBAjBA;AADH;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBANJ,eAmCE,QAAC,GAAD;AAAK,UAAA,EAAE,EAAE,CAAT;AAAY,UAAA,OAAO,EAAC,MAApB;AAA2B,UAAA,cAAc,EAAC,UAA1C;AAAA,iCACE,QAAC,MAAD;AACE,YAAA,KAAK,EAAC,SADR;AAEE,YAAA,QAAQ,EAAE,CAACtB,QAFb;AAGE,YAAA,IAAI,eAAE,QAAC,SAAD;AAAW,cAAA,KAAK,EAAEW,SAAS,GAAG,aAAH,GAAmB;AAA9C;AAAA;AAAA;AAAA;AAAA,oBAHR;AAIE,YAAA,aAAa,EAAE;AAAEsB,cAAAA,GAAG,EAAE3B,OAAO,CAAC4B;AAAf,aAJjB;AAKE,YAAA,OAAO,EAAEvB,SAAS,GAAG;AAAA,qBAAMT,QAAQ,CAACW,OAAT,CAAiB,CAAjB,CAAN;AAAA,aAAH,GAA+BX,QAAQ,CAACE,MAAT,CAAgBV,IAAhB;AALnD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAnCF;AAAA;AAAA;AAAA;AAAA;AAAA;AARF;AAAA;AAAA;AAAA;AAAA,YAzDF,EAgHGiB,SAAS,iBACR,QAAC,SAAD;AACE,MAAA,QAAQ,EAAEvC,IAAI,KAAK,CADrB;AAEE,MAAA,KAAK,MAFP;AAGE,MAAA,OAAO,EAAC,aAHV;AAIE,MAAA,KAAK,EAAEG,MAAM,CAACa,KAAP,CAAaV,KAJtB;AAKE,MAAA,QAAQ,EAAE;AAAA,eAAMwB,QAAQ,CAACW,OAAT,CAAiB,CAAjB,CAAN;AAAA,OALZ;AAME,MAAA,MAAM,EAAC,OANT;AAAA,6BAQE,QAAC,GAAD;AAAK,QAAA,OAAO,EAAC,MAAb;AAAoB,QAAA,aAAa,EAAC,QAAlC;AAA2C,QAAA,KAAK,EAAE,CAAlD;AAAA,gCACE,QAAC,UAAD;AAAY,UAAA,SAAS,EAAEP,OAAO,CAAC1B,IAA/B;AAAA,oBAAsCL,MAAM,CAACa,KAAP,CAAaR;AAAnD;AAAA;AAAA;AAAA;AAAA,gBADF,eAGE,QAAC,GAAD;AAAK,UAAA,EAAE,EAAE,CAAT;AAAY,UAAA,OAAO,EAAC,MAApB;AAA2B,UAAA,cAAc,EAAC,UAA1C;AAAA,iCACE,QAAC,MAAD;AACE,YAAA,KAAK,EAAC,SADR;AAEE,YAAA,QAAQ,EAAE,CAACoB,QAFb;AAGE,YAAA,IAAI,eAAE,QAAC,SAAD;AAAW,cAAA,KAAK,EAAC;AAAjB;AAAA;AAAA;AAAA;AAAA,oBAHR;AAIE,YAAA,aAAa,EAAE;AAAEiC,cAAAA,GAAG,EAAE3B,OAAO,CAAC4B;AAAf,aAJjB;AAKE,YAAA,OAAO,EAAEhC,QAAQ,CAACE,MAAT,CAAgBV,IAAhB;AALX;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AARF;AAAA;AAAA;AAAA;AAAA,YAjHJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA2ID;KAjJexB,kB","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n// app\r\nimport styles from './PasteFromExcel.styles';\r\nimport { Accordion, Button, Form, Overflow, TableCell, TableHead, Translate, Warning } from 'components';\r\nimport * as utils from 'utils';\r\n\r\n// mui\r\nimport { Box, Table, TableRow, TableBody, Typography, makeStyles } from '@material-ui/core';\r\n\r\nPasteFromExcelView.propTypes = {\r\n  step: PropTypes.number,\r\n  steps: PropTypes.number,\r\n  labels: PropTypes.shape({\r\n    step1: PropTypes.shape({\r\n      title: PropTypes.node,\r\n      hint: PropTypes.string,\r\n      label: PropTypes.string,\r\n      required: PropTypes.string,\r\n      placeholder: PropTypes.string,\r\n    }),\r\n    step2: PropTypes.shape({\r\n      title: PropTypes.node,\r\n      hint: PropTypes.string,\r\n      label: PropTypes.string,\r\n      error: PropTypes.string,\r\n    }),\r\n    step3: PropTypes.shape({\r\n      title: PropTypes.node,\r\n      hint: PropTypes.string,\r\n    }),\r\n    step4: PropTypes.shape({\r\n      title: PropTypes.node,\r\n      hint: PropTypes.string,\r\n    }),\r\n  }),\r\n  fields: PropTypes.shape({\r\n    excelExtract: PropTypes.array,\r\n    columnMatching: PropTypes.array,\r\n  }).isRequired,\r\n  rows: PropTypes.array,\r\n  columns: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.string,\r\n      label: PropTypes.string,\r\n      compact: PropTypes.bool,\r\n    })\r\n  ),\r\n  imported: PropTypes.bool,\r\n  testid: PropTypes.string,\r\n  handlers: PropTypes.shape({\r\n    excelExtract: PropTypes.func,\r\n    columnMatching: PropTypes.func,\r\n    submit: PropTypes.func,\r\n  }),\r\n};\r\n\r\nexport function PasteFromExcelView({ step, steps, labels, fields, rows, columns, imported, testid, handlers, children }) {\r\n  const classes = makeStyles(styles, { name: 'PasteFromExcel' })();\r\n\r\n  const hasRows = utils.generic.isValidArray(rows, true);\r\n  const has4Steps = steps === 4;\r\n\r\n  return (\r\n    <div className={classes.root} data-testid={`paste-from-excel${testid ? `-${testid}` : ''}`}>\r\n      <Accordion\r\n        expanded={step === 1}\r\n        boxed\r\n        density=\"comfortable\"\r\n        title={labels.step1.title}\r\n        onChange={() => handlers.setStep(1)}\r\n        testid=\"step1\"\r\n      >\r\n        <Box display=\"flex\" flexDirection=\"column\" width={1}>\r\n          <Typography className={classes.hint}>{labels.step1.hint}</Typography>\r\n          <Form\r\n            id=\"excel-extract\"\r\n            fields={fields.excelExtract}\r\n            defaultValues={utils.form.getInitialValues(fields.excelExtract)}\r\n            validationSchema={utils.form.getValidationSchema(fields.excelExtract)}\r\n            actions={[\r\n              {\r\n                name: 'submit',\r\n                label: utils.string.t('app.continue'),\r\n                handler: handlers.excelExtract,\r\n              },\r\n            ]}\r\n          />\r\n        </Box>\r\n      </Accordion>\r\n\r\n      <Accordion\r\n        expanded={step === 2}\r\n        boxed\r\n        density=\"comfortable\"\r\n        title={labels.step2.title}\r\n        onChange={() => handlers.setStep(2)}\r\n        testid=\"step2\"\r\n      >\r\n        <Box display=\"flex\" flexDirection=\"column\" width={1}>\r\n          {!imported && <Warning text={labels.step2.error} type=\"error\" size=\"medium\" align=\"left\" icon />}\r\n          {imported && (\r\n            <>\r\n              <Typography className={classes.hint}>{labels.step2.hint}</Typography>\r\n              <Form\r\n                id=\"column-matching\"\r\n                fields={fields.columnMatching}\r\n                defaultValues={utils.form.getInitialValues(fields.columnMatching)}\r\n                actions={[\r\n                  {\r\n                    name: 'submit',\r\n                    label: utils.string.t('app.continue'),\r\n                    handler: handlers.columnMatching,\r\n                  },\r\n                ]}\r\n              />\r\n            </>\r\n          )}\r\n        </Box>\r\n      </Accordion>\r\n\r\n      <Accordion\r\n        expanded={step === 3}\r\n        boxed\r\n        density=\"comfortable\"\r\n        title={labels.step3.title}\r\n        onChange={() => handlers.setStep(3)}\r\n        testid=\"step3\"\r\n      >\r\n        <Box display=\"flex\" flexDirection=\"column\" width={1}>\r\n          <Typography className={classes.hint}>{labels.step3.hint}</Typography>\r\n\r\n          {children && hasRows && children(rows)}\r\n\r\n          {!children && hasRows && (\r\n            <Box mt={-2}>\r\n              <Overflow>\r\n                <Table size=\"small\" className={classes.table}>\r\n                  <TableHead columns={columns} />\r\n                  <TableBody>\r\n                    {rows.map((row, rowIdx) => {\r\n                      const cells = Object.entries(row) || [];\r\n                      const hasCells = cells.length > 0;\r\n\r\n                      return (\r\n                        <TableRow key={`row-${rowIdx}`}>\r\n                          {hasCells &&\r\n                            cells.map(([key, value], cellIdx) => {\r\n                              const cellKey = `cell-${cellIdx}-${key}`;\r\n                              return (\r\n                                <TableCell className={classes.cell} key={cellKey} data-testid={cellKey}>\r\n                                  {value}\r\n                                </TableCell>\r\n                              );\r\n                            })}\r\n                        </TableRow>\r\n                      );\r\n                    })}\r\n                  </TableBody>\r\n                </Table>\r\n              </Overflow>\r\n            </Box>\r\n          )}\r\n\r\n          <Box mt={1} display=\"flex\" justifyContent=\"flex-end\">\r\n            <Button\r\n              color=\"primary\"\r\n              disabled={!imported}\r\n              text={<Translate label={has4Steps ? 'app.confirm' : 'app.submit'} />}\r\n              nestedClasses={{ btn: classes.button }}\r\n              onClick={has4Steps ? () => handlers.setStep(4) : handlers.submit(rows)}\r\n            />\r\n          </Box>\r\n        </Box>\r\n      </Accordion>\r\n\r\n      {has4Steps && (\r\n        <Accordion\r\n          expanded={step === 4}\r\n          boxed\r\n          density=\"comfortable\"\r\n          title={labels.step4.title}\r\n          onChange={() => handlers.setStep(4)}\r\n          testid=\"step4\"\r\n        >\r\n          <Box display=\"flex\" flexDirection=\"column\" width={1}>\r\n            <Typography className={classes.hint}>{labels.step4.hint}</Typography>\r\n\r\n            <Box mt={1} display=\"flex\" justifyContent=\"flex-end\">\r\n              <Button\r\n                color=\"primary\"\r\n                disabled={!imported}\r\n                text={<Translate label=\"app.submit\" />}\r\n                nestedClasses={{ btn: classes.button }}\r\n                onClick={handlers.submit(rows)}\r\n              />\r\n            </Box>\r\n          </Box>\r\n        </Accordion>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}