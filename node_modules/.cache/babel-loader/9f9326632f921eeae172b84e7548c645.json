{"ast":null,"code":"import _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\RfiQueryForm\\\\RfiQueryForm.view.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types'; //app\n\nimport * as utils from 'utils';\nimport { FormAutocompleteMui, FormContainer, FormFields, FormGrid, FormLabel, FormText, Button, Link, Loader, Info } from 'components';\nimport styles from './RfiQueryForm.styles';\nimport { useFormActions } from 'hooks'; //mui\n\nimport { makeStyles, Typography, Box } from '@material-ui/core';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nRfiQueryFormView.propTypes = {\n  fields: PropTypes.array.isRequired,\n  actions: PropTypes.array.isRequired,\n  formProps: PropTypes.shape({\n    control: PropTypes.object.isRequired,\n    errors: PropTypes.object.isRequired,\n    formState: PropTypes.object.isRequired,\n    handleSubmit: PropTypes.func.isRequired,\n    reset: PropTypes.func.isRequired\n  }),\n  resetKey: PropTypes.number,\n  documentNameList: PropTypes.array,\n  isUploading: PropTypes.bool,\n  isLinking: PropTypes.bool,\n  handlers: PropTypes.shape({\n    handleAttachDocuments: PropTypes.func,\n    confirmDocumentDelete: PropTypes.func\n  })\n};\nexport function RfiQueryFormView(_ref) {\n  _s();\n\n  var _this = this;\n\n  var actions = _ref.actions,\n      fields = _ref.fields,\n      formProps = _ref.formProps,\n      resetKey = _ref.resetKey,\n      documentNameList = _ref.documentNameList,\n      isUploading = _ref.isUploading,\n      isLinking = _ref.isLinking,\n      handlers = _ref.handlers;\n  var classes = makeStyles(styles, {\n    name: 'RfiQueryForm'\n  })();\n  var control = formProps.control,\n      errors = formProps.errors,\n      formState = formProps.formState,\n      handleSubmit = formProps.handleSubmit,\n      reset = formProps.reset;\n\n  var _useFormActions = useFormActions(actions, reset),\n      secondary = _useFormActions.secondary,\n      submit = _useFormActions.submit;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      expanded = _useState2[0],\n      setExpanded = _useState2[1];\n\n  var DOCUMENTS_COLLAPSE_COUNT = 5;\n\n  var handleClickExpandCollapse = function handleClickExpandCollapse(isExpand) {\n    if (isExpand) {\n      setExpanded(true);\n    } else {\n      setExpanded(false);\n    }\n  };\n\n  var checkExpandCollapseDocuments = function checkExpandCollapseDocuments(documentList) {\n    var isCollapsed = !expanded;\n    var isTruncated = (documentList === null || documentList === void 0 ? void 0 : documentList.length) > DOCUMENTS_COLLAPSE_COUNT;\n\n    if (isTruncated && isCollapsed) {\n      var truncatedList = _toConsumableArray(documentList === null || documentList === void 0 ? void 0 : documentList.slice(0, DOCUMENTS_COLLAPSE_COUNT));\n\n      var pendingDocList = (documentList === null || documentList === void 0 ? void 0 : documentList.length) - (truncatedList === null || truncatedList === void 0 ? void 0 : truncatedList.length);\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          className: classes.attachedDocumentContainer,\n          children: truncatedList === null || truncatedList === void 0 ? void 0 : truncatedList.map(function (document, index) {\n            return /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              pr: 2,\n              children: [(isUploading || isLinking) && /*#__PURE__*/_jsxDEV(Box, {\n                alignSelf: \"center\",\n                mr: 1,\n                children: /*#__PURE__*/_jsxDEV(Loader, {\n                  inline: true,\n                  mr: 2\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(Info, {\n                size: \"md\",\n                avatarIcon: DescriptionIcon,\n                description: document,\n                verticalAlign: true,\n                avatarBorder: false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(Button, {\n                icon: HighlightOffIcon,\n                variant: \"text\",\n                danger: false,\n                size: \"small\",\n                onClick: function onClick() {\n                  return handlers.confirmDocumentDelete(index);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 17\n              }, _this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Box, {\n          className: classes.expandBtn,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            text: \"\".concat(utils.string.t('app.seeMore'), \" (\").concat(pendingDocList, \")\"),\n            color: \"secondary\",\n            onClick: function onClick() {\n              return handleClickExpandCollapse(true);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true);\n    } else {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          className: classes.attachedDocumentContainer,\n          children: documentList === null || documentList === void 0 ? void 0 : documentList.map(function (document, index) {\n            return /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              mb: 1,\n              pr: 3,\n              children: [(isUploading || isLinking) && /*#__PURE__*/_jsxDEV(Box, {\n                alignSelf: \"center\",\n                mr: 1,\n                children: /*#__PURE__*/_jsxDEV(Loader, {\n                  inline: true,\n                  mr: 2\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(Info, {\n                size: \"md\",\n                avatarIcon: DescriptionIcon,\n                description: document,\n                verticalAlign: true,\n                avatarBorder: false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(Button, {\n                icon: HighlightOffIcon,\n                variant: \"text\",\n                danger: false,\n                size: \"small\",\n                onClick: function onClick() {\n                  return handlers.confirmDocumentDelete(index);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, _this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, _this), isTruncated && /*#__PURE__*/_jsxDEV(Box, {\n          className: classes.collapseBtn,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            text: utils.string.t('app.seeLess'),\n            color: \"secondary\",\n            onClick: function onClick() {\n              return handleClickExpandCollapse(false);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: /*#__PURE__*/_jsxDEV(FormContainer, {\n      type: \"dialog\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(FormFields, {\n        type: \"dialog\",\n        children: [/*#__PURE__*/_jsxDEV(FormGrid, {\n          container: true,\n          alignItems: \"center\",\n          nestedClasses: {\n            root: classes.fullWidth\n          },\n          children: [/*#__PURE__*/_jsxDEV(FormGrid, {\n            item: true,\n            xs: 2,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              className: classes.sectionheader,\n              children: utils.string.t('claims.processing.taskFunction.rfiTypeYourReply')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormGrid, {\n            container: true,\n            item: true,\n            xs: 10,\n            alignItems: \"center\",\n            children: [/*#__PURE__*/_jsxDEV(FormGrid, {\n              item: true,\n              xs: 8,\n              children: /*#__PURE__*/_jsxDEV(FormLabel, {\n                label: \"\".concat(utils.string.t('claims.columns.createRFIColumns.sendTo'), \" *\"),\n                align: \"right\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormGrid, {\n              item: true,\n              xs: 4,\n              children: /*#__PURE__*/_jsxDEV(FormAutocompleteMui, _objectSpread(_objectSpread({}, utils.form.getFieldProps(fields, 'sendTo', control)), {}, {\n                error: errors.sendTo,\n                nestedClasses: {\n                  root: classes.catCodeSelect\n                }\n              }), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 17\n              }, this)\n            }, resetKey, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormGrid, {\n          item: true,\n          xs: 12,\n          sm: 12,\n          children: /*#__PURE__*/_jsxDEV(FormGrid, {\n            container: true,\n            nestedClasses: {\n              root: classes.descriptionBox\n            },\n            children: /*#__PURE__*/_jsxDEV(FormGrid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(FormText, _objectSpread({}, utils.form.getFieldProps(fields, 'description', control, errors)), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), !utils.generic.isInvalidOrEmptyArray(documentNameList) && /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        alignItems: \"center\",\n        pl: 4,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          children: \"Documents\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this), !utils.generic.isInvalidOrEmptyArray(documentNameList) && /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        width: \"100%\",\n        pl: 2,\n        children: checkExpandCollapseDocuments(documentNameList)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        pl: 4,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          text: utils.string.t('claims.rfiDashboard.attachDocuments'),\n          color: \"secondary\",\n          onClick: handlers.handleAttachDocuments\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        mt: 1,\n        display: \"flex\",\n        alignItems: \"flex-start\",\n        className: classes.replyBtnContainer,\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          flexShrink: 0,\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            text: submit.label,\n            type: \"submit\",\n            disabled: formState.isSubmitting,\n            onClick: handleSubmit(submit.handler),\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            ml: 1,\n            text: secondary.label,\n            variant: \"outlined\",\n            size: \"medium\",\n            disabled: secondary.disabled || formState.isSubmitting,\n            onClick: secondary.handler,\n            nestedClasses: {\n              btn: classes.closeBtn\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RfiQueryFormView, \"IovTLOxSoDy7pdbilqiihk47kmM=\", false, function () {\n  return [useFormActions];\n});\n\n_c = RfiQueryFormView;\n\nvar _c;\n\n$RefreshReg$(_c, \"RfiQueryFormView\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/RfiQueryForm/RfiQueryForm.view.js"],"names":["React","useState","PropTypes","utils","FormAutocompleteMui","FormContainer","FormFields","FormGrid","FormLabel","FormText","Button","Link","Loader","Info","styles","useFormActions","makeStyles","Typography","Box","DescriptionIcon","HighlightOffIcon","RfiQueryFormView","propTypes","fields","array","isRequired","actions","formProps","shape","control","object","errors","formState","handleSubmit","func","reset","resetKey","number","documentNameList","isUploading","bool","isLinking","handlers","handleAttachDocuments","confirmDocumentDelete","classes","name","secondary","submit","expanded","setExpanded","DOCUMENTS_COLLAPSE_COUNT","handleClickExpandCollapse","isExpand","checkExpandCollapseDocuments","documentList","isCollapsed","isTruncated","length","truncatedList","slice","pendingDocList","attachedDocumentContainer","map","document","index","expandBtn","string","t","collapseBtn","root","fullWidth","sectionheader","form","getFieldProps","sendTo","catCodeSelect","descriptionBox","generic","isInvalidOrEmptyArray","replyBtnContainer","label","isSubmitting","handler","disabled","btn","closeBtn"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n//app\r\nimport * as utils from 'utils';\r\nimport { FormAutocompleteMui, FormContainer, FormFields, FormGrid, FormLabel, FormText, Button, Link, Loader, Info } from 'components';\r\nimport styles from './RfiQueryForm.styles';\r\nimport { useFormActions } from 'hooks';\r\n\r\n//mui\r\nimport { makeStyles, Typography, Box } from '@material-ui/core';\r\nimport DescriptionIcon from '@material-ui/icons/Description';\r\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\r\n\r\nRfiQueryFormView.propTypes = {\r\n  fields: PropTypes.array.isRequired,\r\n  actions: PropTypes.array.isRequired,\r\n  formProps: PropTypes.shape({\r\n    control: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired,\r\n    formState: PropTypes.object.isRequired,\r\n    handleSubmit: PropTypes.func.isRequired,\r\n    reset: PropTypes.func.isRequired,\r\n  }),\r\n  resetKey: PropTypes.number,\r\n  documentNameList: PropTypes.array,\r\n  isUploading: PropTypes.bool,\r\n  isLinking: PropTypes.bool,\r\n  handlers: PropTypes.shape({\r\n    handleAttachDocuments: PropTypes.func,\r\n    confirmDocumentDelete: PropTypes.func,\r\n  }),\r\n};\r\n\r\nexport function RfiQueryFormView({ actions, fields, formProps, resetKey, documentNameList, isUploading, isLinking, handlers }) {\r\n  const classes = makeStyles(styles, { name: 'RfiQueryForm' })();\r\n\r\n  const { control, errors, formState, handleSubmit, reset } = formProps;\r\n  const { secondary, submit } = useFormActions(actions, reset);\r\n\r\n  const [expanded, setExpanded] = useState(false);\r\n  const DOCUMENTS_COLLAPSE_COUNT = 5;\r\n\r\n  const handleClickExpandCollapse = (isExpand) => {\r\n    if(isExpand) {\r\n      setExpanded(true);\r\n    } else {\r\n      setExpanded(false);\r\n    }\r\n  };\r\n\r\n  const checkExpandCollapseDocuments = (documentList) => {\r\n    let isCollapsed = !expanded;\r\n    const isTruncated = documentList?.length > DOCUMENTS_COLLAPSE_COUNT;\r\n    if (isTruncated && isCollapsed) {\r\n      const truncatedList = [...documentList?.slice(0, DOCUMENTS_COLLAPSE_COUNT)];\r\n      const pendingDocList = documentList?.length - truncatedList?.length;\r\n      return (\r\n        <>\r\n          <Box className={classes.attachedDocumentContainer}>\r\n            {truncatedList?.map((document, index) => (\r\n              <Box display=\"flex\" pr={2} key={index}>\r\n                {(isUploading || isLinking) && (\r\n                  <Box alignSelf=\"center\" mr={1}>\r\n                    <Loader inline mr={2} />\r\n                  </Box>\r\n                )}\r\n                <Info size=\"md\" avatarIcon={DescriptionIcon} description={document} verticalAlign={true} avatarBorder={false} />\r\n                <Button\r\n                  icon={HighlightOffIcon}\r\n                  variant=\"text\"\r\n                  danger={false}\r\n                  size=\"small\"\r\n                  onClick={() => handlers.confirmDocumentDelete(index)}\r\n                />\r\n              </Box>\r\n            ))}\r\n          </Box>\r\n          <Box className={classes.expandBtn}>\r\n            <Link\r\n              text={`${utils.string.t('app.seeMore')} (${pendingDocList})`}\r\n              color=\"secondary\"\r\n              onClick={() => handleClickExpandCollapse(true)}\r\n            />\r\n          </Box>\r\n        </>\r\n      );\r\n    } else {\r\n      return (\r\n        <>\r\n          <Box className={classes.attachedDocumentContainer}>\r\n            {documentList?.map((document, index) => (\r\n              <Box display=\"flex\" mb={1} pr={3} key={index}>\r\n                {(isUploading || isLinking) && (\r\n                  <Box alignSelf=\"center\" mr={1}>\r\n                    <Loader inline mr={2} />\r\n                  </Box>\r\n                )}\r\n                <Info size=\"md\" avatarIcon={DescriptionIcon} description={document} verticalAlign={true} avatarBorder={false} />\r\n                <Button\r\n                  icon={HighlightOffIcon}\r\n                  variant=\"text\"\r\n                  danger={false}\r\n                  size=\"small\"\r\n                  onClick={() => handlers.confirmDocumentDelete(index)}\r\n                />\r\n              </Box>\r\n            ))}\r\n          </Box>\r\n          {isTruncated && (\r\n            <Box className={classes.collapseBtn}>\r\n              <Link\r\n                text={utils.string.t('app.seeLess')}\r\n                color=\"secondary\"\r\n                onClick={() => handleClickExpandCollapse(false)}\r\n              />\r\n            </Box>\r\n          )}\r\n        </>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <FormContainer type=\"dialog\" onSubmit={handleSubmit}>\r\n        <FormFields type=\"dialog\">\r\n          <FormGrid container alignItems=\"center\" nestedClasses={{ root: classes.fullWidth }}>\r\n            <FormGrid item xs={2}>\r\n              <Typography variant=\"h5\" className={classes.sectionheader}>\r\n                {utils.string.t('claims.processing.taskFunction.rfiTypeYourReply')}\r\n              </Typography>\r\n            </FormGrid>\r\n            <FormGrid container item xs={10} alignItems=\"center\">\r\n              <FormGrid item xs={8}>\r\n                <FormLabel label={`${utils.string.t('claims.columns.createRFIColumns.sendTo')} *`} align=\"right\" />\r\n              </FormGrid>\r\n              <FormGrid item xs={4} key={resetKey}>\r\n                <FormAutocompleteMui\r\n                  {...utils.form.getFieldProps(fields, 'sendTo', control)}\r\n                  error={errors.sendTo}\r\n                  nestedClasses={{ root: classes.catCodeSelect }}\r\n                />\r\n              </FormGrid>\r\n            </FormGrid>\r\n          </FormGrid>\r\n          <FormGrid item xs={12} sm={12}>\r\n            <FormGrid container nestedClasses={{ root: classes.descriptionBox }}>\r\n              <FormGrid item xs={12}>\r\n                <FormText {...utils.form.getFieldProps(fields, 'description', control, errors)} />\r\n              </FormGrid>\r\n            </FormGrid>\r\n          </FormGrid>\r\n        </FormFields>\r\n\r\n        {!utils.generic.isInvalidOrEmptyArray(documentNameList) && (\r\n          <Box display=\"flex\" alignItems=\"center\" pl={4}>\r\n            <Typography variant=\"body1\">Documents</Typography>\r\n          </Box>\r\n        )}\r\n\r\n        {!utils.generic.isInvalidOrEmptyArray(documentNameList) && (\r\n          <Box display=\"flex\" width=\"100%\" pl={2}>\r\n            {checkExpandCollapseDocuments(documentNameList)}\r\n          </Box>\r\n        )}\r\n\r\n        <Box display=\"flex\" pl={4}>\r\n          <Link text={utils.string.t('claims.rfiDashboard.attachDocuments')} color=\"secondary\" onClick={handlers.handleAttachDocuments} />\r\n        </Box>\r\n        <Box mt={1} display=\"flex\" alignItems=\"flex-start\" className={classes.replyBtnContainer}>\r\n          <Box flexShrink={0}>\r\n            <Button\r\n              text={submit.label}\r\n              type=\"submit\"\r\n              disabled={formState.isSubmitting}\r\n              onClick={handleSubmit(submit.handler)}\r\n              color=\"primary\"\r\n            />\r\n            <Button\r\n              ml={1}\r\n              text={secondary.label}\r\n              variant=\"outlined\"\r\n              size=\"medium\"\r\n              disabled={secondary.disabled || formState.isSubmitting}\r\n              onClick={secondary.handler}\r\n              nestedClasses={{ btn: classes.closeBtn }}\r\n            />\r\n          </Box>\r\n        </Box>\r\n      </FormContainer>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}