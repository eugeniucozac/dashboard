{"ast":null,"code":"import _objectWithoutProperties from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\ProductsAdminFacilities\\\\ProductsAdminFacilities.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux'; // app\n\nimport { ProductsAdminFacilitiesView } from './ProductsAdminFacilities.view';\nimport { selectPartyCarriersSorted, selectProductsSorted, selectPricerModuleSorted, getRiskFacilities, getCarriers, getRiskProducts, getPricerModule, selectFacilitiesListItems, selectFacilitiesPagination, selectPartyNotifiedUsersSorted, showModal, getProgramUsers } from 'stores';\nimport { productAdminSchema } from 'schemas';\nimport { usePagination } from 'hooks';\nimport * as utils from 'utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProductsAdminFacilities() {\n  _s();\n\n  var dispatch = useDispatch();\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      schema = _useState2[0],\n      setSchema = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      options = _useState4[0],\n      setOptions = _useState4[1];\n\n  var facilities = useSelector(selectFacilitiesListItems);\n  var facilitiesLoading = useSelector(function (state) {\n    return state.risk.facilities.loading;\n  });\n  var facilitiesPagination = useSelector(selectFacilitiesPagination);\n  var carriers = useSelector(selectPartyCarriersSorted);\n  var products = useSelector(selectProductsSorted);\n  var pricerModule = useSelector(selectPricerModuleSorted);\n  var notifiedUsers = useSelector(selectPartyNotifiedUsersSorted);\n\n  var hydrateLabels = function hydrateLabels(fields) {\n    return fields.map(function (field) {\n      return _objectSpread(_objectSpread({}, field), {}, {\n        label: utils.string.t(field.label)\n      });\n    });\n  };\n\n  useEffect(function () {\n    dispatch(getRiskFacilities());\n    dispatch(getCarriers());\n    dispatch(getRiskProducts());\n    dispatch(getPricerModule());\n    dispatch(getProgramUsers());\n  }, [] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  useEffect(function () {\n    if (!facilities) return;\n\n    var _productAdminSchema$g = productAdminSchema.getSchema('facilities'),\n        fields = _productAdminSchema$g.fields,\n        rest = _objectWithoutProperties(_productAdminSchema$g, [\"fields\"]);\n\n    setSchema(_objectSpread(_objectSpread({}, rest), {}, {\n      fields: hydrateLabels(fields),\n      items: facilities,\n      pagination: facilitiesPagination\n    }));\n  }, [facilities] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  useEffect(function () {\n    if (!products) return;\n    setOptions(_objectSpread(_objectSpread({}, options), {}, {\n      products: products\n    }));\n  }, [products] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  useEffect(function () {\n    if (!carriers) return;\n    setOptions(_objectSpread(_objectSpread({}, options), {}, {\n      carriers: carriers\n    }));\n  }, [carriers] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  useEffect(function () {\n    if (!pricerModule) return;\n    setOptions(_objectSpread(_objectSpread({}, options), {}, {\n      pricerModule: pricerModule\n    }));\n  }, [pricerModule] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  useEffect(function () {\n    if (!notifiedUsers) return;\n    setOptions(_objectSpread(_objectSpread({}, options), {}, {\n      notifiedUsers: notifiedUsers\n    }));\n  }, [notifiedUsers] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  var handleChangePage = function handleChangePage(newPage) {\n    dispatch(getRiskFacilities({\n      page: newPage + 1\n    }));\n  };\n\n  var handleChangeRowsPerPage = function handleChangeRowsPerPage(rowsPerPage) {\n    dispatch(getRiskFacilities({\n      size: rowsPerPage\n    }));\n  };\n\n  var handleAddFacility = function handleAddFacility(fields) {\n    return function (event) {\n      dispatch(showModal({\n        component: 'ADD_PRODUCTS_FACILITY',\n        props: {\n          title: 'products.admin.facilities.add',\n          fullWidth: true,\n          maxWidth: 'lg',\n          componentProps: {\n            fields: fields,\n            options: options\n          }\n        }\n      }));\n    };\n  };\n\n  var handleEditFacility = function handleEditFacility(componentProps) {\n    dispatch(showModal({\n      component: 'EDIT_PRODUCTS_FACILITY',\n      props: {\n        title: (componentProps === null || componentProps === void 0 ? void 0 : componentProps.isRateField) ? 'products.admin.facilities.editRate' : 'products.admin.facilities.edit',\n        fullWidth: true,\n        maxWidth: 'lg',\n        componentProps: componentProps\n      }\n    }));\n  };\n\n  var handleEditFacilityLimits = function handleEditFacilityLimits(componentProps) {\n    dispatch(showModal({\n      component: 'EDIT_PRODUCTS_FACILITY_LIMITS',\n      props: {\n        title: 'products.admin.facilities.editLimits',\n        fullWidth: true,\n        maxWidth: 'lg',\n        componentProps: componentProps\n      }\n    }));\n  };\n\n  var popoverActions = [{\n    id: 'products-admin-edit-facility-limits',\n    label: 'products.admin.facilities.editLimits',\n    callback: function callback(facility) {\n      return handleEditFacilityLimits(_objectSpread({}, facility));\n    }\n  }, {\n    id: 'products-admin-edit-facility-rate',\n    label: 'products.admin.facilities.editRate',\n    callback: function callback(facility) {\n      return handleEditFacility(_objectSpread(_objectSpread({}, facility), {}, {\n        isRateField: true\n      }));\n    }\n  }, {\n    id: 'products-admin-edit-facility',\n    label: 'products.admin.facilities.edit',\n    callback: function callback(facility) {\n      return handleEditFacility(_objectSpread(_objectSpread({}, facility), {}, {\n        isRateField: false\n      }));\n    }\n  }];\n  var pagination = usePagination(schema.items, schema.pagination, handleChangePage, handleChangeRowsPerPage); // abort\n\n  if (!schema || !schema.items) return null;\n  return /*#__PURE__*/_jsxDEV(ProductsAdminFacilitiesView, {\n    schema: schema,\n    options: options,\n    loading: facilitiesLoading,\n    pagination: pagination.obj,\n    popoverActions: popoverActions,\n    handlers: {\n      addFacility: handleAddFacility,\n      changePage: pagination.handlers.handleChangePage,\n      changeRowsPerPage: pagination.handlers.handleChangeRowsPerPage\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProductsAdminFacilities, \"AufVg3gqOgtZfs1SLS0+ZnrmpSM=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, usePagination];\n});\n\n_c = ProductsAdminFacilities;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductsAdminFacilities\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/ProductsAdminFacilities/ProductsAdminFacilities.js"],"names":["React","useEffect","useState","useSelector","useDispatch","ProductsAdminFacilitiesView","selectPartyCarriersSorted","selectProductsSorted","selectPricerModuleSorted","getRiskFacilities","getCarriers","getRiskProducts","getPricerModule","selectFacilitiesListItems","selectFacilitiesPagination","selectPartyNotifiedUsersSorted","showModal","getProgramUsers","productAdminSchema","usePagination","utils","ProductsAdminFacilities","dispatch","schema","setSchema","options","setOptions","facilities","facilitiesLoading","state","risk","loading","facilitiesPagination","carriers","products","pricerModule","notifiedUsers","hydrateLabels","fields","map","field","label","string","t","getSchema","rest","items","pagination","handleChangePage","newPage","page","handleChangeRowsPerPage","rowsPerPage","size","handleAddFacility","event","component","props","title","fullWidth","maxWidth","componentProps","handleEditFacility","isRateField","handleEditFacilityLimits","popoverActions","id","callback","facility","obj","addFacility","changePage","handlers","changeRowsPerPage"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\n// app\r\nimport { ProductsAdminFacilitiesView } from './ProductsAdminFacilities.view';\r\nimport {\r\n  selectPartyCarriersSorted,\r\n  selectProductsSorted,\r\n  selectPricerModuleSorted,\r\n  getRiskFacilities,\r\n  getCarriers,\r\n  getRiskProducts,\r\n  getPricerModule,\r\n  selectFacilitiesListItems,\r\n  selectFacilitiesPagination,\r\n  selectPartyNotifiedUsersSorted,\r\n  showModal,\r\n  getProgramUsers,\r\n} from 'stores';\r\nimport { productAdminSchema } from 'schemas';\r\nimport { usePagination } from 'hooks';\r\nimport * as utils from 'utils';\r\n\r\nexport default function ProductsAdminFacilities() {\r\n  const dispatch = useDispatch();\r\n  const [schema, setSchema] = useState({});\r\n  const [options, setOptions] = useState({});\r\n  const facilities = useSelector(selectFacilitiesListItems);\r\n  const facilitiesLoading = useSelector((state) => state.risk.facilities.loading);\r\n  const facilitiesPagination = useSelector(selectFacilitiesPagination);\r\n  const carriers = useSelector(selectPartyCarriersSorted);\r\n  const products = useSelector(selectProductsSorted);\r\n  const pricerModule = useSelector(selectPricerModuleSorted);\r\n  const notifiedUsers = useSelector(selectPartyNotifiedUsersSorted);\r\n  const hydrateLabels = (fields) => fields.map((field) => ({ ...field, label: utils.string.t(field.label) }));\r\n\r\n  useEffect(\r\n    () => {\r\n      dispatch(getRiskFacilities());\r\n      dispatch(getCarriers());\r\n      dispatch(getRiskProducts());\r\n      dispatch(getPricerModule());\r\n      dispatch(getProgramUsers());\r\n    },\r\n    [] // eslint-disable-line react-hooks/exhaustive-deps\r\n  );\r\n\r\n  useEffect(\r\n    () => {\r\n      if (!facilities) return;\r\n\r\n      const { fields, ...rest } = productAdminSchema.getSchema('facilities');\r\n\r\n      setSchema({\r\n        ...rest,\r\n        fields: hydrateLabels(fields),\r\n        items: facilities,\r\n        pagination: facilitiesPagination,\r\n      });\r\n    },\r\n    [facilities] // eslint-disable-line react-hooks/exhaustive-deps\r\n  );\r\n\r\n  useEffect(\r\n    () => {\r\n      if (!products) return;\r\n      setOptions({ ...options, products });\r\n    },\r\n    [products] // eslint-disable-line react-hooks/exhaustive-deps\r\n  );\r\n\r\n  useEffect(\r\n    () => {\r\n      if (!carriers) return;\r\n      setOptions({ ...options, carriers });\r\n    },\r\n    [carriers] // eslint-disable-line react-hooks/exhaustive-deps\r\n  );\r\n\r\n  useEffect(\r\n    () => {\r\n      if (!pricerModule) return;\r\n      setOptions({ ...options, pricerModule });\r\n    },\r\n    [pricerModule] // eslint-disable-line react-hooks/exhaustive-deps\r\n  );\r\n\r\n  useEffect(\r\n    () => {\r\n      if (!notifiedUsers) return;\r\n      setOptions({ ...options, notifiedUsers });\r\n    },\r\n    [notifiedUsers] // eslint-disable-line react-hooks/exhaustive-deps\r\n  );\r\n\r\n  const handleChangePage = (newPage) => {\r\n    dispatch(getRiskFacilities({ page: newPage + 1 }));\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (rowsPerPage) => {\r\n    dispatch(getRiskFacilities({ size: rowsPerPage }));\r\n  };\r\n\r\n  const handleAddFacility = (fields) => (event) => {\r\n    dispatch(\r\n      showModal({\r\n        component: 'ADD_PRODUCTS_FACILITY',\r\n        props: {\r\n          title: 'products.admin.facilities.add',\r\n          fullWidth: true,\r\n          maxWidth: 'lg',\r\n          componentProps: {\r\n            fields,\r\n            options,\r\n          },\r\n        },\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleEditFacility = (componentProps) => {\r\n    dispatch(\r\n      showModal({\r\n        component: 'EDIT_PRODUCTS_FACILITY',\r\n        props: {\r\n          title: componentProps?.isRateField ? 'products.admin.facilities.editRate' : 'products.admin.facilities.edit',\r\n          fullWidth: true,\r\n          maxWidth: 'lg',\r\n          componentProps,\r\n        },\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleEditFacilityLimits = (componentProps) => {\r\n    dispatch(\r\n      showModal({\r\n        component: 'EDIT_PRODUCTS_FACILITY_LIMITS',\r\n        props: {\r\n          title: 'products.admin.facilities.editLimits',\r\n          fullWidth: true,\r\n          maxWidth: 'lg',\r\n          componentProps,\r\n        },\r\n      })\r\n    );\r\n  };\r\n\r\n  const popoverActions = [\r\n    {\r\n      id: 'products-admin-edit-facility-limits',\r\n      label: 'products.admin.facilities.editLimits',\r\n      callback: (facility) => handleEditFacilityLimits({ ...facility }),\r\n    },\r\n    {\r\n      id: 'products-admin-edit-facility-rate',\r\n      label: 'products.admin.facilities.editRate',\r\n      callback: (facility) => handleEditFacility({ ...facility, isRateField: true }),\r\n    },\r\n    {\r\n      id: 'products-admin-edit-facility',\r\n      label: 'products.admin.facilities.edit',\r\n      callback: (facility) => handleEditFacility({ ...facility, isRateField: false }),\r\n    },\r\n  ];\r\n\r\n  const pagination = usePagination(schema.items, schema.pagination, handleChangePage, handleChangeRowsPerPage);\r\n\r\n  // abort\r\n  if (!schema || !schema.items) return null;\r\n\r\n  return (\r\n    <ProductsAdminFacilitiesView\r\n      schema={schema}\r\n      options={options}\r\n      loading={facilitiesLoading}\r\n      pagination={pagination.obj}\r\n      popoverActions={popoverActions}\r\n      handlers={{\r\n        addFacility: handleAddFacility,\r\n        changePage: pagination.handlers.handleChangePage,\r\n        changeRowsPerPage: pagination.handlers.handleChangeRowsPerPage,\r\n      }}\r\n    />\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}