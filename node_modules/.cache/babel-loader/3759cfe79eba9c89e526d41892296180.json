{"ast":null,"code":"import _slicedToArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\ReportingDetails\\\\ReportingDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useHistory, useLocation } from 'react-router';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Helmet } from 'react-helmet';\nimport { ReportingDetailsView } from './ReportingDetails.view';\nimport config from 'config';\nimport * as utils from 'utils';\nimport { getReportingDetails, selectReportDetails, selectSelectedGroup } from 'stores';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ReportingDetails() {\n  _s();\n\n  var _location$state, _location$state2, _location$state3;\n\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var history = useHistory();\n  var dispatch = useDispatch();\n  var location = useLocation();\n  var report = useSelector(selectReportDetails);\n  var selectedGroup = useSelector(selectSelectedGroup);\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      powerBiReport = _useState2[0],\n      setPowerBiReport = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      breadcrumbs = _useState4[0],\n      setBreadCrumbs = _useState4[1];\n\n  var brand = useSelector(function (state) {\n    return state.ui.brand;\n  });\n  var reportTitle = (report === null || report === void 0 ? void 0 : report.reportTitle) || ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.reportTitle);\n  var groupId = (report === null || report === void 0 ? void 0 : report.reportgroupId) || selectedGroup.id || ((_location$state2 = location.state) === null || _location$state2 === void 0 ? void 0 : _location$state2.reportGroupId);\n  var groupTitle = selectedGroup.name || ((_location$state3 = location.state) === null || _location$state3 === void 0 ? void 0 : _location$state3.groupTitle);\n  useEffect(function () {\n    dispatch(getReportingDetails(id));\n  }, [] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  useEffect(function () {\n    setPowerBiReport({\n      embedUrl: report === null || report === void 0 ? void 0 : report.embedUrl,\n      accessToken: report === null || report === void 0 ? void 0 : report.embedToken,\n      id: report === null || report === void 0 ? void 0 : report.reportId,\n      label: report === null || report === void 0 ? void 0 : report.reportTitle\n    });\n    setBreadCrumbs([{\n      name: 'report-group',\n      label: utils.string.t('reporting.title'),\n      link: \"\".concat(config.routes.reporting.root)\n    }, {\n      name: 'report',\n      label: groupTitle,\n      link: \"\".concat(config.routes.reporting.root, \"/\").concat(groupId),\n      active: false\n    }, {\n      name: 'report-details',\n      label: reportTitle,\n      link: \"\".concat(config.routes.reporting.root, \"/\").concat(groupTitle === null || groupTitle === void 0 ? void 0 : groupTitle.toLowerCase().replace(/\\s/g, '-'), \"/\").concat(id),\n      active: false\n    }]);\n  }, [report, groupTitle, reportTitle] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  var setActiveStep = function setActiveStep(breadcrumbs) {\n    return breadcrumbs.map(function (item) {\n      if (item.name === 'report-details' && history.location.pathname.includes(\"reporting/\".concat(groupTitle === null || groupTitle === void 0 ? void 0 : groupTitle.toLowerCase().replace(/\\s/g, '-'), \"/\").concat(id))) {\n        item.active = true;\n      } else {\n        item.active = history.location.pathname === item.link;\n      }\n\n      return item;\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"\".concat(groupTitle, \" - \").concat(reportTitle, \" - \").concat(utils.app.getAppName(brand))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReportingDetailsView, {\n      reportTitle: reportTitle,\n      report: powerBiReport || {},\n      breadcrumbs: setActiveStep(breadcrumbs) || []\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(ReportingDetails, \"goFiXU3fpISg3iZQOqXTgILAktg=\", false, function () {\n  return [useParams, useHistory, useDispatch, useLocation, useSelector, useSelector, useSelector];\n});\n\n_c = ReportingDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReportingDetails\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/ReportingDetails/ReportingDetails.js"],"names":["React","useState","useEffect","useParams","useHistory","useLocation","useSelector","useDispatch","Helmet","ReportingDetailsView","config","utils","getReportingDetails","selectReportDetails","selectSelectedGroup","ReportingDetails","id","history","dispatch","location","report","selectedGroup","powerBiReport","setPowerBiReport","breadcrumbs","setBreadCrumbs","brand","state","ui","reportTitle","groupId","reportgroupId","reportGroupId","groupTitle","name","embedUrl","accessToken","embedToken","reportId","label","string","t","link","routes","reporting","root","active","toLowerCase","replace","setActiveStep","map","item","pathname","includes","app","getAppName"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useHistory, useLocation } from 'react-router';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nimport { ReportingDetailsView } from './ReportingDetails.view';\r\nimport config from 'config';\r\nimport * as utils from 'utils';\r\nimport { getReportingDetails, selectReportDetails, selectSelectedGroup } from 'stores';\r\n\r\nexport default function ReportingDetails() {\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const report = useSelector(selectReportDetails);\r\n  const selectedGroup = useSelector(selectSelectedGroup);\r\n  const [powerBiReport, setPowerBiReport] = useState(null);\r\n  const [breadcrumbs, setBreadCrumbs] = useState([]);\r\n  const brand = useSelector((state) => state.ui.brand);\r\n\r\n  const reportTitle = report?.reportTitle || location.state?.reportTitle;\r\n  const groupId = report?.reportgroupId || selectedGroup.id || location.state?.reportGroupId;\r\n  const groupTitle = selectedGroup.name || location.state?.groupTitle;\r\n\r\n  useEffect(\r\n    () => {\r\n      dispatch(getReportingDetails(id));\r\n    },\r\n    [] // eslint-disable-line react-hooks/exhaustive-deps\r\n  );\r\n  useEffect(\r\n    () => {\r\n      setPowerBiReport({\r\n        embedUrl: report?.embedUrl,\r\n        accessToken: report?.embedToken,\r\n        id: report?.reportId,\r\n        label: report?.reportTitle,\r\n      });\r\n\r\n      setBreadCrumbs([\r\n        {\r\n          name: 'report-group',\r\n          label: utils.string.t('reporting.title'),\r\n          link: `${config.routes.reporting.root}`,\r\n        },\r\n        {\r\n          name: 'report',\r\n          label: groupTitle,\r\n          link: `${config.routes.reporting.root}/${groupId}`,\r\n          active: false,\r\n        },\r\n        {\r\n          name: 'report-details',\r\n          label: reportTitle,\r\n          link: `${config.routes.reporting.root}/${groupTitle?.toLowerCase().replace(/\\s/g, '-')}/${id}`,\r\n          active: false,\r\n        },\r\n      ]);\r\n    },\r\n    [report, groupTitle, reportTitle] // eslint-disable-line react-hooks/exhaustive-deps\r\n  );\r\n\r\n  const setActiveStep = (breadcrumbs) => {\r\n    return breadcrumbs.map((item) => {\r\n      if (\r\n        item.name === 'report-details' &&\r\n        history.location.pathname.includes(`reporting/${groupTitle?.toLowerCase().replace(/\\s/g, '-')}/${id}`)\r\n      ) {\r\n        item.active = true;\r\n      } else {\r\n        item.active = history.location.pathname === item.link;\r\n      }\r\n      return item;\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{`${groupTitle} - ${reportTitle} - ${utils.app.getAppName(brand)}`}</title>\r\n      </Helmet>\r\n      <ReportingDetailsView reportTitle={reportTitle} report={powerBiReport || {}} breadcrumbs={setActiveStep(breadcrumbs) || []} />\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}