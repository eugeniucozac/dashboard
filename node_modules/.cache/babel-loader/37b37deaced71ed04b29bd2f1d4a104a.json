{"ast":null,"code":"import _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport get from 'lodash/get'; // app\n\nimport * as utils from 'utils';\nimport config from 'config';\nimport { authLogout } from 'stores';\nexport var getReportGroupListExtended = function getReportGroupListExtended() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return function (dispatch, getState) {\n    // prettier-ignore\n    var _getState = getState(),\n        auth = _getState.user.auth,\n        endpoint = _getState.config.vars.endpoint,\n        reportExtendedGroupList = _getState.reportingExtended.reportExtendedGroupList;\n\n    var page = params.page,\n        size = params.size,\n        sortBy = params.sortBy,\n        direction = params.direction,\n        searchBy = params.searchBy;\n    var defaultError = {\n      file: 'stores/reportingExtended.actions.getReportGroupListExtended'\n    };\n    var prevQuery = get(reportExtendedGroupList, 'query') || '';\n    var newQuery = params.hasOwnProperty('searchBy') ? searchBy : prevQuery;\n\n    var apiParams = _objectSpread({\n      page: page || 1,\n      pageSize: size || (reportExtendedGroupList === null || reportExtendedGroupList === void 0 ? void 0 : reportExtendedGroupList.pageSize),\n      sortBy: sortBy || (reportExtendedGroupList === null || reportExtendedGroupList === void 0 ? void 0 : reportExtendedGroupList.sortBy),\n      direction: direction || (reportExtendedGroupList === null || reportExtendedGroupList === void 0 ? void 0 : reportExtendedGroupList.sortDirection) || ''\n    }, newQuery && {\n      query: newQuery\n    });\n\n    dispatch(getReportGroupListExtendedRequest(params));\n    return utils.api.get({\n      token: auth.accessToken,\n      endpoint: endpoint.odsService,\n      path: 'reports/group',\n      params: apiParams\n    }).then(function (response) {\n      return utils.api.handleResponse(response);\n    }).then(function (json) {\n      return utils.api.handleNewData(json);\n    }).then(function (data) {\n      dispatch(getReportGroupListExtendedSuccess(data));\n    }).catch(function (err) {\n      utils.api.handleError(err, defaultError);\n      utils.api.handleUnauthorized(err, dispatch, authLogout);\n      dispatch(getReportGroupListExtendedFailure(err));\n      return err;\n    });\n  };\n};\nexport var getReportGroupListExtendedRequest = function getReportGroupListExtendedRequest(params) {\n  return {\n    type: 'REPORTING_EXTENDED_GET_REPORT_GROUP_LIST_REQUEST',\n    payload: params\n  };\n};\nexport var getReportGroupListExtendedSuccess = function getReportGroupListExtendedSuccess(data) {\n  var _data$pagination, _data$pagination2, _data$pagination3, _data$pagination4, _data$pagination5, _data$pagination6, _data$pagination7;\n\n  return {\n    type: 'REPORTING_EXTENDED_GET_REPORT_GROUP_LIST_SUCCESS',\n    payload: {\n      content: data === null || data === void 0 ? void 0 : data.data,\n      pagination: {\n        itemsTotal: (data === null || data === void 0 ? void 0 : (_data$pagination = data.pagination) === null || _data$pagination === void 0 ? void 0 : _data$pagination.totalElements) || 0,\n        page: (data === null || data === void 0 ? void 0 : (_data$pagination2 = data.pagination) === null || _data$pagination2 === void 0 ? void 0 : _data$pagination2.page) || 1,\n        pageSize: (data === null || data === void 0 ? void 0 : (_data$pagination3 = data.pagination) === null || _data$pagination3 === void 0 ? void 0 : _data$pagination3.size) || config.ui.pagination.default,\n        pageTotal: (data === null || data === void 0 ? void 0 : (_data$pagination4 = data.pagination) === null || _data$pagination4 === void 0 ? void 0 : _data$pagination4.totalPages) || 0,\n        query: (data === null || data === void 0 ? void 0 : (_data$pagination5 = data.pagination) === null || _data$pagination5 === void 0 ? void 0 : _data$pagination5.searchBy) || ''\n      },\n      sort: {\n        sortBy: data === null || data === void 0 ? void 0 : (_data$pagination6 = data.pagination) === null || _data$pagination6 === void 0 ? void 0 : _data$pagination6.orderBy,\n        sortDirection: (data === null || data === void 0 ? void 0 : (_data$pagination7 = data.pagination) === null || _data$pagination7 === void 0 ? void 0 : _data$pagination7.direction) || ''\n      }\n    }\n  };\n};\nexport var getReportGroupListExtendedFailure = function getReportGroupListExtendedFailure(err) {\n  return {\n    type: 'REPORTING_EXTENDED_GET_REPORT_GROUP_LIST_FAILURE',\n    payload: err\n  };\n};","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/stores/reportingExtended/reportingExtended.actions.getReportGroupListExtended.js"],"names":["get","utils","config","authLogout","getReportGroupListExtended","params","dispatch","getState","auth","user","endpoint","vars","reportExtendedGroupList","reportingExtended","page","size","sortBy","direction","searchBy","defaultError","file","prevQuery","newQuery","hasOwnProperty","apiParams","pageSize","sortDirection","query","getReportGroupListExtendedRequest","api","token","accessToken","odsService","path","then","response","handleResponse","json","handleNewData","data","getReportGroupListExtendedSuccess","catch","err","handleError","handleUnauthorized","getReportGroupListExtendedFailure","type","payload","content","pagination","itemsTotal","totalElements","ui","default","pageTotal","totalPages","sort","orderBy"],"mappings":"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","sourcesContent":["import get from 'lodash/get';\r\n\r\n// app\r\nimport * as utils from 'utils';\r\nimport config from 'config';\r\nimport { authLogout } from 'stores';\r\n\r\nexport const getReportGroupListExtended =\r\n  (params = {}) =>\r\n  (dispatch, getState) => {\r\n    // prettier-ignore\r\n    const { user: { auth }, config: { vars: { endpoint } }, reportingExtended: { reportExtendedGroupList } } = getState();\r\n\r\n    const { page, size, sortBy, direction, searchBy } = params;\r\n\r\n    const defaultError = {\r\n      file: 'stores/reportingExtended.actions.getReportGroupListExtended',\r\n    };\r\n\r\n    const prevQuery = get(reportExtendedGroupList, 'query') || '';\r\n    const newQuery = params.hasOwnProperty('searchBy') ? searchBy : prevQuery;\r\n\r\n    const apiParams = {\r\n      page: page || 1,\r\n      pageSize: size || reportExtendedGroupList?.pageSize,\r\n      sortBy: sortBy || reportExtendedGroupList?.sortBy,\r\n      direction: direction || reportExtendedGroupList?.sortDirection || '',\r\n      ...(newQuery && { query: newQuery }),\r\n    };\r\n\r\n    dispatch(getReportGroupListExtendedRequest(params));\r\n\r\n    return utils.api\r\n      .get({\r\n        token: auth.accessToken,\r\n        endpoint: endpoint.odsService,\r\n        path: 'reports/group',\r\n        params: apiParams,\r\n      })\r\n      .then((response) => utils.api.handleResponse(response))\r\n      .then((json) => utils.api.handleNewData(json))\r\n      .then((data) => {\r\n        dispatch(getReportGroupListExtendedSuccess(data));\r\n      })\r\n      .catch((err) => {\r\n        utils.api.handleError(err, defaultError);\r\n        utils.api.handleUnauthorized(err, dispatch, authLogout);\r\n        dispatch(getReportGroupListExtendedFailure(err));\r\n        return err;\r\n      });\r\n  };\r\n\r\nexport const getReportGroupListExtendedRequest = (params) => {\r\n  return {\r\n    type: 'REPORTING_EXTENDED_GET_REPORT_GROUP_LIST_REQUEST',\r\n    payload: params,\r\n  };\r\n};\r\n\r\nexport const getReportGroupListExtendedSuccess = (data) => {\r\n  return {\r\n    type: 'REPORTING_EXTENDED_GET_REPORT_GROUP_LIST_SUCCESS',\r\n    payload: {\r\n      content: data?.data,\r\n      pagination: {\r\n        itemsTotal: data?.pagination?.totalElements || 0,\r\n        page: data?.pagination?.page || 1,\r\n        pageSize: data?.pagination?.size || config.ui.pagination.default,\r\n        pageTotal: data?.pagination?.totalPages || 0,\r\n        query: data?.pagination?.searchBy || '',\r\n      },\r\n      sort: {\r\n        sortBy: data?.pagination?.orderBy,\r\n        sortDirection: data?.pagination?.direction || '',\r\n      },\r\n    },\r\n  };\r\n};\r\n\r\nexport const getReportGroupListExtendedFailure = (err) => {\r\n  return {\r\n    type: 'REPORTING_EXTENDED_GET_REPORT_GROUP_LIST_FAILURE',\r\n    payload: err,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}