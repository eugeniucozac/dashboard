{"ast":null,"code":"import _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\components\\\\Search\\\\Search.view.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup'; // app\n\nimport styles from './Search.styles';\nimport { Button, FormContainer, FormText, Translate } from 'components'; // mui\n\nimport { makeStyles, InputAdornment } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport SearchIcon from '@material-ui/icons/Search';\nimport * as utils from 'utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nSearchView.propTypes = {\n  query: PropTypes.string,\n  fields: PropTypes.array,\n  submitButton: PropTypes.bool,\n  submitButtonProps: PropTypes.object,\n  handlers: PropTypes.shape({\n    clear: PropTypes.func.isRequired,\n    search: PropTypes.func.isRequired\n  }).isRequired,\n  nestedClasses: PropTypes.shape({\n    root: PropTypes.string\n  })\n};\nSearchView.defaultProps = {\n  nestedClasses: {}\n};\nexport function SearchView(_ref) {\n  _s();\n\n  var query = _ref.query,\n      minChars = _ref.minChars,\n      fields = _ref.fields,\n      submitButton = _ref.submitButton,\n      submitButtonProps = _ref.submitButtonProps,\n      handlers = _ref.handlers,\n      nestedClasses = _ref.nestedClasses;\n  var classes = makeStyles(styles, {\n    name: 'Search'\n  })();\n  var validationSchema = utils.form.getValidationSchema(fields);\n\n  var _useForm = useForm(_objectSpread({}, validationSchema && {\n    resolver: yupResolver(validationSchema)\n  })),\n      control = _useForm.control,\n      watch = _useForm.watch,\n      reset = _useForm.reset,\n      errors = _useForm.errors,\n      handleSubmit = _useForm.handleSubmit,\n      formState = _useForm.formState;\n\n  var watchQuery = watch('query') || '';\n\n  var ClearBtn = /*#__PURE__*/_jsxDEV(Button, {\n    size: \"small\",\n    variant: \"text\",\n    icon: CloseIcon,\n    onClick: handlers.clear(reset),\n    nestedClasses: {\n      btn: classes.inputBtn\n    },\n    \"data-testid\": \"search-button-clear\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(FormContainer, {\n    className: classnames(classes.root, nestedClasses.root),\n    onSubmit: handleSubmit(handlers.search),\n    \"data-testid\": \"form-search\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.form,\n      children: /*#__PURE__*/_jsxDEV(FormText, _objectSpread(_objectSpread({}, fields[0]), {}, {\n        control: control,\n        error: errors[fields[0].name],\n        muiComponentProps: _objectSpread(_objectSpread({}, fields[0].muiComponentProps), {}, {\n          InputProps: _objectSpread({\n            startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n              position: \"start\",\n              classes: {\n                root: classes.adornmentStart\n              },\n              children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this),\n            endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n              position: \"end\",\n              classes: {\n                root: classes.adornmentEnd\n              },\n              children: watch('query') ? ClearBtn : /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 48\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 17\n            }, this)\n          }, fields[0].muiComponentProps.InputProps)\n        })\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), submitButton && /*#__PURE__*/_jsxDEV(Button, {\n      text: /*#__PURE__*/_jsxDEV(Translate, {\n        label: \"app.go\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this),\n      color: \"primary\",\n      type: \"submit\",\n      size: submitButtonProps === null || submitButtonProps === void 0 ? void 0 : submitButtonProps.size,\n      disabled: formState.isSubmitting || formState.isSubmitted && !formState.isValid || watchQuery === query || watchQuery.length < minChars,\n      nestedClasses: {\n        btn: classes.btn\n      },\n      \"data-testid\": \"search-button-go\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this)]\n  }, query, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SearchView, \"MYmRJXyYjh5uZlmwUHs1x7WqrY0=\", false, function () {\n  return [useForm];\n});\n\n_c = SearchView;\nSearchView.displayName = \"SearchView\";\nSearchView.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [],\n  \"displayName\": \"SearchView\",\n  \"props\": {\n    \"nestedClasses\": {\n      \"defaultValue\": {\n        \"value\": \"{}\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"shape\",\n        \"value\": {\n          \"root\": {\n            \"name\": \"string\",\n            \"required\": false\n          }\n        }\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"query\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"fields\": {\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"submitButton\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"submitButtonProps\": {\n      \"type\": {\n        \"name\": \"object\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"handlers\": {\n      \"type\": {\n        \"name\": \"shape\",\n        \"value\": {\n          \"clear\": {\n            \"name\": \"func\",\n            \"required\": true\n          },\n          \"search\": {\n            \"name\": \"func\",\n            \"required\": true\n          }\n        }\n      },\n      \"required\": true,\n      \"description\": \"\"\n    }\n  }\n};\n\nif (typeof STORYBOOK_REACT_CLASSES !== \"undefined\") {\n  STORYBOOK_REACT_CLASSES[\"src\\\\components\\\\Search\\\\Search.view.js\"] = {\n    name: \"SearchView\",\n    docgenInfo: SearchView.__docgenInfo,\n    path: \"src\\\\components\\\\Search\\\\Search.view.js\"\n  };\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchView\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/components/Search/Search.view.js"],"names":["React","PropTypes","classnames","useForm","yupResolver","styles","Button","FormContainer","FormText","Translate","makeStyles","InputAdornment","CloseIcon","SearchIcon","utils","SearchView","propTypes","query","string","fields","array","submitButton","bool","submitButtonProps","object","handlers","shape","clear","func","isRequired","search","nestedClasses","root","defaultProps","minChars","classes","name","validationSchema","form","getValidationSchema","resolver","control","watch","reset","errors","handleSubmit","formState","watchQuery","ClearBtn","btn","inputBtn","muiComponentProps","InputProps","startAdornment","adornmentStart","endAdornment","adornmentEnd","size","isSubmitting","isSubmitted","isValid","length"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport { useForm } from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\n\r\n// app\r\nimport styles from './Search.styles';\r\nimport { Button, FormContainer, FormText, Translate } from 'components';\r\n\r\n// mui\r\nimport { makeStyles, InputAdornment } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport * as utils from 'utils';\r\n\r\nSearchView.propTypes = {\r\n  query: PropTypes.string,\r\n  fields: PropTypes.array,\r\n  submitButton: PropTypes.bool,\r\n  submitButtonProps: PropTypes.object,\r\n  handlers: PropTypes.shape({\r\n    clear: PropTypes.func.isRequired,\r\n    search: PropTypes.func.isRequired,\r\n  }).isRequired,\r\n  nestedClasses: PropTypes.shape({\r\n    root: PropTypes.string,\r\n  }),\r\n};\r\n\r\nSearchView.defaultProps = {\r\n  nestedClasses: {},\r\n};\r\n\r\nexport function SearchView({ query, minChars, fields, submitButton, submitButtonProps, handlers, nestedClasses }) {\r\n  const classes = makeStyles(styles, { name: 'Search' })();\r\n  const validationSchema = utils.form.getValidationSchema(fields);\r\n\r\n  const { control, watch, reset, errors, handleSubmit, formState } = useForm({\r\n    ...(validationSchema && { resolver: yupResolver(validationSchema) }),\r\n  });\r\n\r\n  const watchQuery = watch('query') || '';\r\n\r\n  const ClearBtn = (\r\n    <Button\r\n      size=\"small\"\r\n      variant=\"text\"\r\n      icon={CloseIcon}\r\n      onClick={handlers.clear(reset)}\r\n      nestedClasses={{ btn: classes.inputBtn }}\r\n      data-testid=\"search-button-clear\"\r\n    />\r\n  );\r\n\r\n  return (\r\n    <FormContainer\r\n      key={query}\r\n      className={classnames(classes.root, nestedClasses.root)}\r\n      onSubmit={handleSubmit(handlers.search)}\r\n      data-testid=\"form-search\"\r\n    >\r\n      <div className={classes.form}>\r\n        <FormText\r\n          {...fields[0]}\r\n          control={control}\r\n          error={errors[fields[0].name]}\r\n          muiComponentProps={{\r\n            ...fields[0].muiComponentProps,\r\n            InputProps: {\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\" classes={{ root: classes.adornmentStart }}>\r\n                  <SearchIcon />\r\n                </InputAdornment>\r\n              ),\r\n              endAdornment: (\r\n                <InputAdornment position=\"end\" classes={{ root: classes.adornmentEnd }}>\r\n                  {watch('query') ? ClearBtn : <span />}\r\n                </InputAdornment>\r\n              ),\r\n              ...fields[0].muiComponentProps.InputProps,\r\n            },\r\n          }}\r\n        />\r\n      </div>\r\n      {submitButton && (\r\n        <Button\r\n          text={<Translate label=\"app.go\" />}\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n          size={submitButtonProps?.size}\r\n          disabled={\r\n            formState.isSubmitting || (formState.isSubmitted && !formState.isValid) || watchQuery === query || watchQuery.length < minChars\r\n          }\r\n          nestedClasses={{ btn: classes.btn }}\r\n          data-testid=\"search-button-go\"\r\n        />\r\n      )}\r\n    </FormContainer>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}