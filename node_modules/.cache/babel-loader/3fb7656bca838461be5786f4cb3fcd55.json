{"ast":null,"code":"import _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\ClaimsTab\\\\ClaimsTabTableRow.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport PropTypes from 'prop-types'; // app\n\nimport { ClaimsTabTableRowView } from './ClaimsTabTableRow.view';\nimport { STATUS_CLAIMS_DRAFT } from 'consts';\nimport { showModal, hideModal, setClaimsStepperControl } from 'stores';\nimport * as utils from 'utils';\nimport config from 'config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nClaimsTabTableRow.prototype = {\n  claim: PropTypes.object.isRequired,\n  isSelected: PropTypes.bool,\n  isMultiSelect: PropTypes.bool,\n  columnProps: PropTypes.object.isRequired,\n  handlers: PropTypes.shape({\n    clickClaim: PropTypes.func.isRequired,\n    selectClaim: PropTypes.func.isRequired\n  }).isRequired\n};\nexport function ClaimsTabTableRow(_ref) {\n  _s();\n\n  var claim = _ref.claim,\n      handlers = _ref.handlers,\n      rest = _objectWithoutProperties(_ref, [\"claim\", \"handlers\"]);\n\n  var dispatch = useDispatch();\n  var history = useHistory();\n  var isFormDirtyRef = useRef(false);\n\n  var setFormDirty = function setFormDirty(isDirty) {\n    isFormDirtyRef.current = isDirty;\n  };\n\n  var confirmHideModal = function confirmHideModal(modalName) {\n    if (isFormDirtyRef.current) {\n      dispatch(showModal({\n        component: 'CONFIRM',\n        props: {\n          title: utils.string.t('navigation.form.subtitle'),\n          hint: utils.string.t('navigation.form.title'),\n          fullWidth: true,\n          maxWidth: 'xs',\n          componentProps: {\n            cancelLabel: utils.string.t('app.no'),\n            confirmLabel: utils.string.t('app.yes'),\n            submitHandler: function submitHandler() {\n              dispatch(hideModal(modalName));\n            }\n          }\n        }\n      }));\n    } else {\n      dispatch(hideModal(modalName));\n    }\n  };\n\n  var handleChangeComplexityPriorityAssignmentClaim = function handleChangeComplexityPriorityAssignmentClaim(claim) {\n    dispatch(showModal({\n      component: 'CHANGE_COMPLEXITY_PRIORITY_ASSIGNMENT',\n      props: {\n        title: 'claims.processing.summary.buttons.changeComplexityPriorityAssignment',\n        fullWidth: true,\n        maxWidth: 'sm',\n        hideCompOnBlur: false,\n        componentProps: {\n          claimsProcessingSelected: [claim],\n          fetchClaimDetails: true,\n          setIsDirty: setFormDirty,\n          clickXHandler: function clickXHandler() {\n            confirmHideModal('CHANGE_COMPLEXITY_PRIORITY_ASSIGNMENT');\n          },\n          cancelHandler: function cancelHandler() {\n            confirmHideModal('CHANGE_COMPLEXITY_PRIORITY_ASSIGNMENT');\n          }\n        }\n      }\n    }));\n  };\n\n  var handleEditClaim = function handleEditClaim(claim) {\n    dispatch(setClaimsStepperControl(1));\n    history.push({\n      pathname: \"\".concat(config.routes.claimsFNOL.newLoss),\n      state: {\n        linkPolicy: {\n          isSearchTerm: '',\n          claim: claim\n        }\n      }\n    });\n  };\n\n  console.log('claim.claimStatus ', claim.claimStatus);\n  var rowActions = [{\n    id: 'editClaim',\n    label: utils.string.t('claims.claimsTab.popOverButtonItems.editClaim'),\n    disabled: claim.claimStatus === STATUS_CLAIMS_DRAFT,\n    callback: function callback() {\n      return handleEditClaim(claim);\n    }\n  }, {\n    id: 'changeItems',\n    label: utils.string.t('claims.claimsTab.popOverButtonItems.changeItems'),\n    callback: function callback() {\n      return handleChangeComplexityPriorityAssignmentClaim(claim);\n    }\n  }, {\n    id: 'createRFI',\n    label: utils.string.t('claims.claimsTab.popOverButtonItems.createRFI')\n  }, {\n    id: 'createAdhocTask',\n    label: utils.string.t('claims.claimsTab.popOverButtonItems.createAdhocTask')\n  }];\n  return /*#__PURE__*/_jsxDEV(ClaimsTabTableRowView, _objectSpread({\n    claim: claim,\n    rowActions: rowActions,\n    handlers: {\n      selectClaim: handlers.selectClaim,\n      clickClaim: handlers.clickClaim\n    }\n  }, rest), void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ClaimsTabTableRow, \"77OctCRYitgYHAJckb6C/RsqhH8=\", false, function () {\n  return [useDispatch, useHistory];\n});\n\n_c = ClaimsTabTableRow;\n\nvar _c;\n\n$RefreshReg$(_c, \"ClaimsTabTableRow\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/ClaimsTab/ClaimsTabTableRow.js"],"names":["React","useRef","useDispatch","useHistory","PropTypes","ClaimsTabTableRowView","STATUS_CLAIMS_DRAFT","showModal","hideModal","setClaimsStepperControl","utils","config","ClaimsTabTableRow","prototype","claim","object","isRequired","isSelected","bool","isMultiSelect","columnProps","handlers","shape","clickClaim","func","selectClaim","rest","dispatch","history","isFormDirtyRef","setFormDirty","isDirty","current","confirmHideModal","modalName","component","props","title","string","t","hint","fullWidth","maxWidth","componentProps","cancelLabel","confirmLabel","submitHandler","handleChangeComplexityPriorityAssignmentClaim","hideCompOnBlur","claimsProcessingSelected","fetchClaimDetails","setIsDirty","clickXHandler","cancelHandler","handleEditClaim","push","pathname","routes","claimsFNOL","newLoss","state","linkPolicy","isSearchTerm","console","log","claimStatus","rowActions","id","label","disabled","callback"],"mappings":"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","sourcesContent":["import React, { useRef } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\nimport PropTypes from 'prop-types';\r\n\r\n// app\r\nimport { ClaimsTabTableRowView } from './ClaimsTabTableRow.view';\r\nimport { STATUS_CLAIMS_DRAFT } from 'consts';\r\nimport { showModal, hideModal, setClaimsStepperControl } from 'stores';\r\nimport * as utils from 'utils';\r\nimport config from 'config';\r\n\r\nClaimsTabTableRow.prototype = {\r\n  claim: PropTypes.object.isRequired,\r\n  isSelected: PropTypes.bool,\r\n  isMultiSelect: PropTypes.bool,\r\n  columnProps: PropTypes.object.isRequired,\r\n  handlers: PropTypes.shape({\r\n    clickClaim: PropTypes.func.isRequired,\r\n    selectClaim: PropTypes.func.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nexport function ClaimsTabTableRow({ claim, handlers, ...rest }) {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const isFormDirtyRef = useRef(false);\r\n\r\n  const setFormDirty = (isDirty) => {\r\n    isFormDirtyRef.current = isDirty;\r\n  };\r\n\r\n  const confirmHideModal = (modalName) => {\r\n    if (isFormDirtyRef.current) {\r\n      dispatch(\r\n        showModal({\r\n          component: 'CONFIRM',\r\n          props: {\r\n            title: utils.string.t('navigation.form.subtitle'),\r\n            hint: utils.string.t('navigation.form.title'),\r\n            fullWidth: true,\r\n            maxWidth: 'xs',\r\n            componentProps: {\r\n              cancelLabel: utils.string.t('app.no'),\r\n              confirmLabel: utils.string.t('app.yes'),\r\n              submitHandler: () => {\r\n                dispatch(hideModal(modalName));\r\n              },\r\n            },\r\n          },\r\n        })\r\n      );\r\n    } else {\r\n      dispatch(hideModal(modalName));\r\n    }\r\n  };\r\n\r\n  const handleChangeComplexityPriorityAssignmentClaim = (claim) => {\r\n    dispatch(\r\n      showModal({\r\n        component: 'CHANGE_COMPLEXITY_PRIORITY_ASSIGNMENT',\r\n        props: {\r\n          title: 'claims.processing.summary.buttons.changeComplexityPriorityAssignment',\r\n          fullWidth: true,\r\n          maxWidth: 'sm',\r\n          hideCompOnBlur: false,\r\n          componentProps: {\r\n            claimsProcessingSelected: [claim],\r\n            fetchClaimDetails: true,\r\n            setIsDirty: setFormDirty,\r\n            clickXHandler: () => {\r\n              confirmHideModal('CHANGE_COMPLEXITY_PRIORITY_ASSIGNMENT');\r\n            },\r\n            cancelHandler: () => {\r\n              confirmHideModal('CHANGE_COMPLEXITY_PRIORITY_ASSIGNMENT');\r\n            },\r\n          },\r\n        },\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleEditClaim = (claim) => {\r\n    dispatch(setClaimsStepperControl(1));\r\n    history.push({\r\n      pathname: `${config.routes.claimsFNOL.newLoss}`,\r\n      state: { linkPolicy: { isSearchTerm: '', claim } },\r\n    });\r\n  };\r\n\r\n  console.log('claim.claimStatus ', claim.claimStatus);\r\n\r\n  const rowActions = [\r\n    {\r\n      id: 'editClaim',\r\n      label: utils.string.t('claims.claimsTab.popOverButtonItems.editClaim'),\r\n      disabled: claim.claimStatus === STATUS_CLAIMS_DRAFT,\r\n      callback: () => handleEditClaim(claim),\r\n    },\r\n    {\r\n      id: 'changeItems',\r\n      label: utils.string.t('claims.claimsTab.popOverButtonItems.changeItems'),\r\n      callback: () => handleChangeComplexityPriorityAssignmentClaim(claim),\r\n    },\r\n    {\r\n      id: 'createRFI',\r\n      label: utils.string.t('claims.claimsTab.popOverButtonItems.createRFI'),\r\n    },\r\n    {\r\n      id: 'createAdhocTask',\r\n      label: utils.string.t('claims.claimsTab.popOverButtonItems.createAdhocTask'),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <ClaimsTabTableRowView\r\n      claim={claim}\r\n      rowActions={rowActions}\r\n      handlers={{\r\n        selectClaim: handlers.selectClaim,\r\n        clickClaim: handlers.clickClaim,\r\n      }}\r\n      {...rest}\r\n    />\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}