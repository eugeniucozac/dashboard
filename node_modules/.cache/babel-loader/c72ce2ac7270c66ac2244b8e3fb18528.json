{"ast":null,"code":"import _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport get from 'lodash/get';\nimport { authLogout, addLoader, enqueueNotification, removeLoader } from 'stores';\nimport * as utils from 'utils';\nexport var postEditClaimDetailsInformation = function postEditClaimDetailsInformation(formData) {\n  return function (dispatch, getState) {\n    var _formData$beAdjuster, _formData$interest, _formData$client, _formData$insured, _formData$countryCode, _formData$originalCur, _formData$settlementC, _formData$claimantNam, _formData$complexity, _formData$complexity2, _formData$lossQualifi, _formData$lossQualifi2, _formData$priority, _formData$referral, _formData$rfiResponse, _formData$bordereauPe;\n\n    // prettier-ignore\n    var _getState = getState(),\n        auth = _getState.user.auth,\n        endpoint = _getState.config.vars.endpoint,\n        claims = _getState.claims;\n\n    var defaultError = {\n      file: 'stores/claims.actions.postEditClaimDetailsInformation'\n    };\n    dispatch(postEditClaimDetailsInformationRequest(formData));\n    dispatch(addLoader('postEditClaimDetailsInformation'));\n    var claimSubmissionId = get(claims, 'claimData').claimId || get(claims, 'claimsInformation').claimID || '';\n    var underWritingGroups = get(claims, 'underWritingGroups.items');\n    var policyUnderWritingGroupDtoList = underWritingGroups.filter(function (ug) {\n      return ug.selected;\n    });\n    var editClaimDetails = get(claims, 'claimsInformation');\n    var beAdjusterID = (formData === null || formData === void 0 ? void 0 : formData.adjuster) && (formData === null || formData === void 0 ? void 0 : formData.adjuster) === 'beAdjuster' ? parseInt(formData === null || formData === void 0 ? void 0 : (_formData$beAdjuster = formData.beAdjuster) === null || _formData$beAdjuster === void 0 ? void 0 : _formData$beAdjuster.id) : (formData === null || formData === void 0 ? void 0 : formData.adjuster) && (formData === null || formData === void 0 ? void 0 : formData.adjuster) === \"nonBeAdjuster\" ? 0 : editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.beAdjusterID;\n    var adjusterName = (formData === null || formData === void 0 ? void 0 : formData.adjuster) && (formData === null || formData === void 0 ? void 0 : formData.adjuster) === 'beAdjuster' ? null : (formData === null || formData === void 0 ? void 0 : formData.nonBeAdjuster) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.adjusterName);\n\n    var data = _objectSpread(_objectSpread({}, editClaimDetails), {}, {\n      policyInterestID: (formData === null || formData === void 0 ? void 0 : (_formData$interest = formData.interest) === null || _formData$interest === void 0 ? void 0 : _formData$interest.policyInterestID) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.policyInterestID),\n      clientID: parseInt(formData === null || formData === void 0 ? void 0 : (_formData$client = formData.client) === null || _formData$client === void 0 ? void 0 : _formData$client.id) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.clientID),\n      insuredID: parseInt(formData === null || formData === void 0 ? void 0 : (_formData$insured = formData.insured) === null || _formData$insured === void 0 ? void 0 : _formData$insured.id) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.insuredID),\n      settlementCountry: (formData === null || formData === void 0 ? void 0 : (_formData$countryCode = formData.countryCode) === null || _formData$countryCode === void 0 ? void 0 : _formData$countryCode.countryCode) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.settlementCountry),\n      originalCurrency: (formData === null || formData === void 0 ? void 0 : (_formData$originalCur = formData.originalCurrencyCode) === null || _formData$originalCur === void 0 ? void 0 : _formData$originalCur.currencyCd) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.originalCurrency),\n      settlementCurrencyCode: (formData === null || formData === void 0 ? void 0 : (_formData$settlementC = formData.settlementCurrencyCode) === null || _formData$settlementC === void 0 ? void 0 : _formData$settlementC.currencyCd) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.settlementCurrencyCode),\n      movementType: (formData === null || formData === void 0 ? void 0 : formData.movementType) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.movementType),\n      basisOfOrder: parseInt(formData === null || formData === void 0 ? void 0 : formData.order) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.basisOfOrder),\n      orderPercentage: (formData === null || formData === void 0 ? void 0 : formData.orderPercentage) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.orderPercentage),\n      policyUnderWritingGroupDtoList: policyUnderWritingGroupDtoList,\n      beAdjusterID: beAdjusterID,\n      adjusterName: adjusterName,\n      nonBEAdjusterName: (formData === null || formData === void 0 ? void 0 : formData.adjuster) && (formData === null || formData === void 0 ? void 0 : formData.adjuster) === 'nonBeAdjuster' ? formData === null || formData === void 0 ? void 0 : formData.nonBeAdjuster : (formData === null || formData === void 0 ? void 0 : formData.adjuster) === 'beAdjuster' ? null : editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.nonBEAdjusterName,\n      adjusterReference: (formData === null || formData === void 0 ? void 0 : formData.adjusterReference) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.adjusterReference),\n      claimantName: (formData === null || formData === void 0 ? void 0 : (_formData$claimantNam = formData.claimantName) === null || _formData$claimantNam === void 0 ? void 0 : _formData$claimantNam.name) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.claimantName),\n      complexityBasis: (formData === null || formData === void 0 ? void 0 : (_formData$complexity = formData.complexity) === null || _formData$complexity === void 0 ? void 0 : _formData$complexity.complexityRulesID) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.complexityBasis),\n      complexityValueID: (formData === null || formData === void 0 ? void 0 : (_formData$complexity2 = formData.complexity) === null || _formData$complexity2 === void 0 ? void 0 : _formData$complexity2.complexityRulesID) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.complexityValueID),\n      location: (formData === null || formData === void 0 ? void 0 : formData.location) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.location),\n      fgunarrative: (formData === null || formData === void 0 ? void 0 : formData.fgunarrative) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.fgunarrative),\n      claimReceivedDate: (formData === null || formData === void 0 ? void 0 : formData.claimReceivedDate) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.claimReceivedDate),\n      lossQualifierID: parseInt(formData === null || formData === void 0 ? void 0 : (_formData$lossQualifi = formData.lossQualifierID) === null || _formData$lossQualifi === void 0 ? void 0 : _formData$lossQualifi.id) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.lossQualifierID),\n      lossQualifierName: (formData === null || formData === void 0 ? void 0 : (_formData$lossQualifi2 = formData.lossQualifierID) === null || _formData$lossQualifi2 === void 0 ? void 0 : _formData$lossQualifi2.name) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.lossQualifierName),\n      priorityID: parseInt(formData === null || formData === void 0 ? void 0 : (_formData$priority = formData.priority) === null || _formData$priority === void 0 ? void 0 : _formData$priority.id) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.priorityID),\n      referralValueID: (formData === null || formData === void 0 ? void 0 : (_formData$referral = formData.referral) === null || _formData$referral === void 0 ? void 0 : _formData$referral.complexityRulesID) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.referralValueID),\n      referralResponseID: (formData === null || formData === void 0 ? void 0 : (_formData$rfiResponse = formData.rfiResponse) === null || _formData$rfiResponse === void 0 ? void 0 : _formData$rfiResponse.id) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.referralResponseID),\n      lossFromDate: (formData === null || formData === void 0 ? void 0 : formData.fromDate) ? utils.date.toISOString(formData === null || formData === void 0 ? void 0 : formData.fromDate) : editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.lossFromDate,\n      lossToDate: (formData === null || formData === void 0 ? void 0 : formData.toDate) ? utils.date.toISOString(formData === null || formData === void 0 ? void 0 : formData.toDate) : editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.lossToDate,\n      bordereauClaim: (formData === null || formData === void 0 ? void 0 : formData.bordereauClaim) ? 1 : 0,\n      bordereauPeriod: (formData === null || formData === void 0 ? void 0 : (_formData$bordereauPe = formData.bordereauPeriod) === null || _formData$bordereauPe === void 0 ? void 0 : _formData$bordereauPe.id) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.bordereauPeriod),\n      certificateExpiryDate: utils.date.toISOString(formData === null || formData === void 0 ? void 0 : formData.certificateExpiryDate) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.certificateExpiryDate),\n      certificateInceptionDate: utils.date.toISOString(formData === null || formData === void 0 ? void 0 : formData.certificateInceptionDate) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.certificateInceptionDate),\n      certificateNumber: formData === null || formData === void 0 ? void 0 : formData.certificateNumber\n    });\n\n    return utils.api.put({\n      token: auth.accessToken,\n      endpoint: endpoint.claimService,\n      path: \"api/data/claims/\".concat(claimSubmissionId, \"/update\"),\n      data: data\n    }).then(function (response) {\n      return utils.api.handleResponse(response);\n    }).then(function (json) {\n      return utils.api.handleNewData(json);\n    }).then(function (data) {\n      dispatch(postEditClaimDetailsInformationSuccess(data.data));\n      dispatch(enqueueNotification('notification.claimEditDetails.success', 'success'));\n      dispatch(removeLoader('postEditClaimDetailsInformation'));\n      return data.data;\n    }).catch(function (err) {\n      var errorParams = _objectSpread(_objectSpread({}, defaultError), {}, {\n        message: 'API post error'\n      });\n\n      utils.api.handleError(err, errorParams);\n      utils.api.handleUnauthorized(err, dispatch, authLogout);\n      dispatch(postEditClaimDetailsInformationFailure(err));\n      dispatch(enqueueNotification('notification.claimEditDetails.fail', 'error'));\n      dispatch(removeLoader('postEditClaimDetailsInformation'));\n      return err;\n    });\n  };\n};\nexport var postEditClaimDetailsInformationRequest = function postEditClaimDetailsInformationRequest(data) {\n  return {\n    type: 'CLAIMS_DETAILS_INFORMATION_UPDATE_REQUEST',\n    payload: data\n  };\n};\nexport var postEditClaimDetailsInformationSuccess = function postEditClaimDetailsInformationSuccess(data) {\n  return {\n    type: 'CLAIMS_DETAILS_INFORMATION_UPDATE_SUCCESS',\n    payload: data\n  };\n};\nexport var postEditClaimDetailsInformationFailure = function postEditClaimDetailsInformationFailure(error) {\n  return {\n    type: 'CLAIMS_DETAILS_INFORMATION_UPDATE_FAILURE',\n    payload: error\n  };\n};","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/stores/claims/claims.actions.postEditClaimDetailsInformation.js"],"names":["get","authLogout","addLoader","enqueueNotification","removeLoader","utils","postEditClaimDetailsInformation","formData","dispatch","getState","auth","user","endpoint","config","vars","claims","defaultError","file","postEditClaimDetailsInformationRequest","claimSubmissionId","claimId","claimID","underWritingGroups","policyUnderWritingGroupDtoList","filter","ug","selected","editClaimDetails","beAdjusterID","adjuster","parseInt","beAdjuster","id","adjusterName","nonBeAdjuster","data","policyInterestID","interest","clientID","client","insuredID","insured","settlementCountry","countryCode","originalCurrency","originalCurrencyCode","currencyCd","settlementCurrencyCode","movementType","basisOfOrder","order","orderPercentage","nonBEAdjusterName","adjusterReference","claimantName","name","complexityBasis","complexity","complexityRulesID","complexityValueID","location","fgunarrative","claimReceivedDate","lossQualifierID","lossQualifierName","priorityID","priority","referralValueID","referral","referralResponseID","rfiResponse","lossFromDate","fromDate","date","toISOString","lossToDate","toDate","bordereauClaim","bordereauPeriod","certificateExpiryDate","certificateInceptionDate","certificateNumber","api","put","token","accessToken","claimService","path","then","response","handleResponse","json","handleNewData","postEditClaimDetailsInformationSuccess","catch","err","errorParams","message","handleError","handleUnauthorized","postEditClaimDetailsInformationFailure","type","payload","error"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,YAAhB;AAEA,SAASC,UAAT,EAAqBC,SAArB,EAAgCC,mBAAhC,EAAqDC,YAArD,QAAyE,QAAzE;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AAEA,OAAO,IAAMC,+BAA+B,GAAG,SAAlCA,+BAAkC,CAACC,QAAD;AAAA,SAAc,UAACC,QAAD,EAAWC,QAAX,EAAwB;AAAA;;AACnF;AADmF,oBAEhBA,QAAQ,EAFQ;AAAA,QAEnEC,IAFmE,aAE3EC,IAF2E,CAEnED,IAFmE;AAAA,QAEzCE,QAFyC,aAE3DC,MAF2D,CAEjDC,IAFiD,CAEzCF,QAFyC;AAAA,QAE3BG,MAF2B,aAE3BA,MAF2B;;AAInF,QAAMC,YAAY,GAAG;AACnBC,MAAAA,IAAI,EAAE;AADa,KAArB;AAIAT,IAAAA,QAAQ,CAACU,sCAAsC,CAACX,QAAD,CAAvC,CAAR;AACAC,IAAAA,QAAQ,CAACN,SAAS,CAAC,iCAAD,CAAV,CAAR;AACA,QAAMiB,iBAAiB,GAAGnB,GAAG,CAACe,MAAD,EAAS,WAAT,CAAH,CAAyBK,OAAzB,IAAoCpB,GAAG,CAACe,MAAD,EAAS,mBAAT,CAAH,CAAiCM,OAArE,IAAgF,EAA1G;AACA,QAAMC,kBAAkB,GAAGtB,GAAG,CAACe,MAAD,EAAS,0BAAT,CAA9B;AACA,QAAMQ,8BAA8B,GAAGD,kBAAkB,CAACE,MAAnB,CAA0B,UAACC,EAAD;AAAA,aAAQA,EAAE,CAACC,QAAX;AAAA,KAA1B,CAAvC;AACA,QAAMC,gBAAgB,GAAG3B,GAAG,CAACe,MAAD,EAAS,mBAAT,CAA5B;AACA,QAAMa,YAAY,GACf,CAAArB,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsB,QAAV,KAAsB,CAAAtB,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsB,QAAV,MAAuB,YAA9C,GAA8DC,QAAQ,CAACvB,QAAD,aAACA,QAAD,+CAACA,QAAQ,CAAEwB,UAAX,yDAAC,qBAAsBC,EAAvB,CAAtE,GACG,CAAAzB,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsB,QAAV,KAAsB,CAAAtB,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsB,QAAV,MAAuB,eAA9C,GAAiE,CAAjE,GAAqEF,gBAArE,aAAqEA,gBAArE,uBAAqEA,gBAAgB,CAAEC,YAF3F;AAGA,QAAMK,YAAY,GAChB,CAAA1B,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsB,QAAV,KAAsB,CAAAtB,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsB,QAAV,MAAuB,YAA7C,GAA4D,IAA5D,GAAmE,CAAAtB,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAE2B,aAAV,MAA2BP,gBAA3B,aAA2BA,gBAA3B,uBAA2BA,gBAAgB,CAAEM,YAA7C,CADrE;;AAEA,QAAME,IAAI,mCACLR,gBADK;AAERS,MAAAA,gBAAgB,EAAE,CAAA7B,QAAQ,SAAR,IAAAA,QAAQ,WAAR,kCAAAA,QAAQ,CAAE8B,QAAV,0EAAoBD,gBAApB,MAAwCT,gBAAxC,aAAwCA,gBAAxC,uBAAwCA,gBAAgB,CAAES,gBAA1D,CAFV;AAGRE,MAAAA,QAAQ,EAAER,QAAQ,CAACvB,QAAD,aAACA,QAAD,2CAACA,QAAQ,CAAEgC,MAAX,qDAAC,iBAAkBP,EAAnB,CAAR,KAAkCL,gBAAlC,aAAkCA,gBAAlC,uBAAkCA,gBAAgB,CAAEW,QAApD,CAHF;AAIRE,MAAAA,SAAS,EAAEV,QAAQ,CAACvB,QAAD,aAACA,QAAD,4CAACA,QAAQ,CAAEkC,OAAX,sDAAC,kBAAmBT,EAApB,CAAR,KAAmCL,gBAAnC,aAAmCA,gBAAnC,uBAAmCA,gBAAgB,CAAEa,SAArD,CAJH;AAKRE,MAAAA,iBAAiB,EAAE,CAAAnC,QAAQ,SAAR,IAAAA,QAAQ,WAAR,qCAAAA,QAAQ,CAAEoC,WAAV,gFAAuBA,WAAvB,MAAsChB,gBAAtC,aAAsCA,gBAAtC,uBAAsCA,gBAAgB,CAAEe,iBAAxD,CALX;AAMRE,MAAAA,gBAAgB,EAAE,CAAArC,QAAQ,SAAR,IAAAA,QAAQ,WAAR,qCAAAA,QAAQ,CAAEsC,oBAAV,gFAAgCC,UAAhC,MAA8CnB,gBAA9C,aAA8CA,gBAA9C,uBAA8CA,gBAAgB,CAAEiB,gBAAhE,CANV;AAORG,MAAAA,sBAAsB,EAAE,CAAAxC,QAAQ,SAAR,IAAAA,QAAQ,WAAR,qCAAAA,QAAQ,CAAEwC,sBAAV,gFAAkCD,UAAlC,MAAgDnB,gBAAhD,aAAgDA,gBAAhD,uBAAgDA,gBAAgB,CAAEoB,sBAAlE,CAPhB;AAQRC,MAAAA,YAAY,EAAE,CAAAzC,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEyC,YAAV,MAA0BrB,gBAA1B,aAA0BA,gBAA1B,uBAA0BA,gBAAgB,CAAEqB,YAA5C,CARN;AASRC,MAAAA,YAAY,EAAEnB,QAAQ,CAACvB,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAE2C,KAAX,CAAR,KAA6BvB,gBAA7B,aAA6BA,gBAA7B,uBAA6BA,gBAAgB,CAAEsB,YAA/C,CATN;AAURE,MAAAA,eAAe,EAAE,CAAA5C,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAE4C,eAAV,MAA6BxB,gBAA7B,aAA6BA,gBAA7B,uBAA6BA,gBAAgB,CAAEwB,eAA/C,CAVT;AAWR5B,MAAAA,8BAA8B,EAA9BA,8BAXQ;AAYRK,MAAAA,YAAY,EAAEA,YAZN;AAaRK,MAAAA,YAAY,EAAZA,YAbQ;AAcRmB,MAAAA,iBAAiB,EAAE,CAAA7C,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsB,QAAV,KAAsB,CAAAtB,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsB,QAAV,MAAuB,eAA7C,GAA+DtB,QAA/D,aAA+DA,QAA/D,uBAA+DA,QAAQ,CAAE2B,aAAzE,GAAyF,CAAA3B,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsB,QAAV,MAAuB,YAAvB,GAAsC,IAAtC,GAA6CF,gBAA7C,aAA6CA,gBAA7C,uBAA6CA,gBAAgB,CAAEyB,iBAdnK;AAeRC,MAAAA,iBAAiB,EAAE,CAAA9C,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAE8C,iBAAV,MAA+B1B,gBAA/B,aAA+BA,gBAA/B,uBAA+BA,gBAAgB,CAAE0B,iBAAjD,CAfX;AAgBRC,MAAAA,YAAY,EAAE,CAAA/C,QAAQ,SAAR,IAAAA,QAAQ,WAAR,qCAAAA,QAAQ,CAAE+C,YAAV,gFAAwBC,IAAxB,MAAgC5B,gBAAhC,aAAgCA,gBAAhC,uBAAgCA,gBAAgB,CAAE2B,YAAlD,CAhBN;AAiBRE,MAAAA,eAAe,EAAE,CAAAjD,QAAQ,SAAR,IAAAA,QAAQ,WAAR,oCAAAA,QAAQ,CAAEkD,UAAV,8EAAsBC,iBAAtB,MAA2C/B,gBAA3C,aAA2CA,gBAA3C,uBAA2CA,gBAAgB,CAAE6B,eAA7D,CAjBT;AAkBRG,MAAAA,iBAAiB,EAAE,CAAApD,QAAQ,SAAR,IAAAA,QAAQ,WAAR,qCAAAA,QAAQ,CAAEkD,UAAV,gFAAsBC,iBAAtB,MAA2C/B,gBAA3C,aAA2CA,gBAA3C,uBAA2CA,gBAAgB,CAAEgC,iBAA7D,CAlBX;AAmBRC,MAAAA,QAAQ,EAAE,CAAArD,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEqD,QAAV,MAAsBjC,gBAAtB,aAAsBA,gBAAtB,uBAAsBA,gBAAgB,CAAEiC,QAAxC,CAnBF;AAoBRC,MAAAA,YAAY,EAAE,CAAAtD,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsD,YAAV,MAA0BlC,gBAA1B,aAA0BA,gBAA1B,uBAA0BA,gBAAgB,CAAEkC,YAA5C,CApBN;AAqBRC,MAAAA,iBAAiB,EAAE,CAAAvD,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEuD,iBAAV,MAA+BnC,gBAA/B,aAA+BA,gBAA/B,uBAA+BA,gBAAgB,CAAEmC,iBAAjD,CArBX;AAsBRC,MAAAA,eAAe,EAAEjC,QAAQ,CAACvB,QAAD,aAACA,QAAD,gDAACA,QAAQ,CAAEwD,eAAX,0DAAC,sBAA2B/B,EAA5B,CAAR,KAA2CL,gBAA3C,aAA2CA,gBAA3C,uBAA2CA,gBAAgB,CAAEoC,eAA7D,CAtBT;AAuBRC,MAAAA,iBAAiB,EAAE,CAAAzD,QAAQ,SAAR,IAAAA,QAAQ,WAAR,sCAAAA,QAAQ,CAAEwD,eAAV,kFAA2BR,IAA3B,MAAmC5B,gBAAnC,aAAmCA,gBAAnC,uBAAmCA,gBAAgB,CAAEqC,iBAArD,CAvBX;AAwBRC,MAAAA,UAAU,EAAEnC,QAAQ,CAACvB,QAAD,aAACA,QAAD,6CAACA,QAAQ,CAAE2D,QAAX,uDAAC,mBAAoBlC,EAArB,CAAR,KAAoCL,gBAApC,aAAoCA,gBAApC,uBAAoCA,gBAAgB,CAAEsC,UAAtD,CAxBJ;AAyBRE,MAAAA,eAAe,EAAE,CAAA5D,QAAQ,SAAR,IAAAA,QAAQ,WAAR,kCAAAA,QAAQ,CAAE6D,QAAV,0EAAoBV,iBAApB,MAAyC/B,gBAAzC,aAAyCA,gBAAzC,uBAAyCA,gBAAgB,CAAEwC,eAA3D,CAzBT;AA0BRE,MAAAA,kBAAkB,EAAE,CAAA9D,QAAQ,SAAR,IAAAA,QAAQ,WAAR,qCAAAA,QAAQ,CAAE+D,WAAV,gFAAuBtC,EAAvB,MAA6BL,gBAA7B,aAA6BA,gBAA7B,uBAA6BA,gBAAgB,CAAE0C,kBAA/C,CA1BZ;AA2BRE,MAAAA,YAAY,EAAE,CAAAhE,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEiE,QAAV,IAAqBnE,KAAK,CAACoE,IAAN,CAAWC,WAAX,CAAuBnE,QAAvB,aAAuBA,QAAvB,uBAAuBA,QAAQ,CAAEiE,QAAjC,CAArB,GAAkE7C,gBAAlE,aAAkEA,gBAAlE,uBAAkEA,gBAAgB,CAAE4C,YA3B1F;AA4BRI,MAAAA,UAAU,EAAE,CAAApE,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEqE,MAAV,IAAmBvE,KAAK,CAACoE,IAAN,CAAWC,WAAX,CAAuBnE,QAAvB,aAAuBA,QAAvB,uBAAuBA,QAAQ,CAAEqE,MAAjC,CAAnB,GAA8DjD,gBAA9D,aAA8DA,gBAA9D,uBAA8DA,gBAAgB,CAAEgD,UA5BpF;AA6BRE,MAAAA,cAAc,EAAE,CAAAtE,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsE,cAAV,IAA2B,CAA3B,GAA+B,CA7BvC;AA8BRC,MAAAA,eAAe,EAAE,CAAAvE,QAAQ,SAAR,IAAAA,QAAQ,WAAR,qCAAAA,QAAQ,CAAEuE,eAAV,gFAA2B9C,EAA3B,MAAiCL,gBAAjC,aAAiCA,gBAAjC,uBAAiCA,gBAAgB,CAAEmD,eAAnD,CA9BT;AA+BRC,MAAAA,qBAAqB,EAAE1E,KAAK,CAACoE,IAAN,CAAWC,WAAX,CAAuBnE,QAAvB,aAAuBA,QAAvB,uBAAuBA,QAAQ,CAAEwE,qBAAjC,MAA2DpD,gBAA3D,aAA2DA,gBAA3D,uBAA2DA,gBAAgB,CAAEoD,qBAA7E,CA/Bf;AAgCRC,MAAAA,wBAAwB,EAAE3E,KAAK,CAACoE,IAAN,CAAWC,WAAX,CAAuBnE,QAAvB,aAAuBA,QAAvB,uBAAuBA,QAAQ,CAAEyE,wBAAjC,MAA8DrD,gBAA9D,aAA8DA,gBAA9D,uBAA8DA,gBAAgB,CAAEqD,wBAAhF,CAhClB;AAiCRC,MAAAA,iBAAiB,EAAE1E,QAAF,aAAEA,QAAF,uBAAEA,QAAQ,CAAE0E;AAjCrB,MAAV;;AAoCA,WAAO5E,KAAK,CAAC6E,GAAN,CACJC,GADI,CACA;AACHC,MAAAA,KAAK,EAAE1E,IAAI,CAAC2E,WADT;AAEHzE,MAAAA,QAAQ,EAAEA,QAAQ,CAAC0E,YAFhB;AAGHC,MAAAA,IAAI,4BAAqBpE,iBAArB,YAHD;AAIHgB,MAAAA,IAAI,EAAJA;AAJG,KADA,EAOJqD,IAPI,CAOC,UAACC,QAAD;AAAA,aAAcpF,KAAK,CAAC6E,GAAN,CAAUQ,cAAV,CAAyBD,QAAzB,CAAd;AAAA,KAPD,EAQJD,IARI,CAQC,UAACG,IAAD;AAAA,aAAUtF,KAAK,CAAC6E,GAAN,CAAUU,aAAV,CAAwBD,IAAxB,CAAV;AAAA,KARD,EASJH,IATI,CASC,UAACrD,IAAD,EAAU;AACd3B,MAAAA,QAAQ,CAACqF,sCAAsC,CAAC1D,IAAI,CAACA,IAAN,CAAvC,CAAR;AACA3B,MAAAA,QAAQ,CAACL,mBAAmB,CAAC,uCAAD,EAA0C,SAA1C,CAApB,CAAR;AACAK,MAAAA,QAAQ,CAACJ,YAAY,CAAC,iCAAD,CAAb,CAAR;AACA,aAAO+B,IAAI,CAACA,IAAZ;AACD,KAdI,EAeJ2D,KAfI,CAeE,UAACC,GAAD,EAAS;AACd,UAAMC,WAAW,mCACZhF,YADY;AAEfiF,QAAAA,OAAO,EAAE;AAFM,QAAjB;;AAKA5F,MAAAA,KAAK,CAAC6E,GAAN,CAAUgB,WAAV,CAAsBH,GAAtB,EAA2BC,WAA3B;AACA3F,MAAAA,KAAK,CAAC6E,GAAN,CAAUiB,kBAAV,CAA6BJ,GAA7B,EAAkCvF,QAAlC,EAA4CP,UAA5C;AACAO,MAAAA,QAAQ,CAAC4F,sCAAsC,CAACL,GAAD,CAAvC,CAAR;AACAvF,MAAAA,QAAQ,CAACL,mBAAmB,CAAC,oCAAD,EAAuC,OAAvC,CAApB,CAAR;AACAK,MAAAA,QAAQ,CAACJ,YAAY,CAAC,iCAAD,CAAb,CAAR;AACA,aAAO2F,GAAP;AACD,KA3BI,CAAP;AA4BD,GAnF8C;AAAA,CAAxC;AAqFP,OAAO,IAAM7E,sCAAsC,GAAG,SAAzCA,sCAAyC,CAACiB,IAAD,EAAU;AAC9D,SAAO;AACLkE,IAAAA,IAAI,EAAE,2CADD;AAELC,IAAAA,OAAO,EAAEnE;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,IAAM0D,sCAAsC,GAAG,SAAzCA,sCAAyC,CAAC1D,IAAD,EAAU;AAC9D,SAAO;AACLkE,IAAAA,IAAI,EAAE,2CADD;AAELC,IAAAA,OAAO,EAAEnE;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,IAAMiE,sCAAsC,GAAG,SAAzCA,sCAAyC,CAACG,KAAD,EAAW;AAC/D,SAAO;AACLF,IAAAA,IAAI,EAAE,2CADD;AAELC,IAAAA,OAAO,EAAEC;AAFJ,GAAP;AAID,CALM","sourcesContent":["import get from 'lodash/get';\r\n\r\nimport { authLogout, addLoader, enqueueNotification, removeLoader } from 'stores';\r\nimport * as utils from 'utils';\r\n\r\nexport const postEditClaimDetailsInformation = (formData) => (dispatch, getState) => {\r\n  // prettier-ignore\r\n  const { user: { auth }, config: { vars: { endpoint } }, claims } = getState();\r\n\r\n  const defaultError = {\r\n    file: 'stores/claims.actions.postEditClaimDetailsInformation',\r\n  };\r\n\r\n  dispatch(postEditClaimDetailsInformationRequest(formData));\r\n  dispatch(addLoader('postEditClaimDetailsInformation'));\r\n  const claimSubmissionId = get(claims, 'claimData').claimId || get(claims, 'claimsInformation').claimID || '';\r\n  const underWritingGroups = get(claims, 'underWritingGroups.items');\r\n  const policyUnderWritingGroupDtoList = underWritingGroups.filter((ug) => ug.selected);\r\n  const editClaimDetails = get(claims, 'claimsInformation');\r\n  const beAdjusterID =\r\n    (formData?.adjuster && formData?.adjuster === 'beAdjuster') ? parseInt(formData?.beAdjuster?.id) :\r\n      (formData?.adjuster && formData?.adjuster === \"nonBeAdjuster\") ? 0 : editClaimDetails?.beAdjusterID;\r\n  const adjusterName =\r\n    formData?.adjuster && formData?.adjuster === 'beAdjuster' ? null : formData?.nonBeAdjuster || editClaimDetails?.adjusterName;\r\n  const data = {\r\n    ...editClaimDetails,\r\n    policyInterestID: formData?.interest?.policyInterestID || editClaimDetails?.policyInterestID,\r\n    clientID: parseInt(formData?.client?.id) || editClaimDetails?.clientID,\r\n    insuredID: parseInt(formData?.insured?.id) || editClaimDetails?.insuredID,\r\n    settlementCountry: formData?.countryCode?.countryCode || editClaimDetails?.settlementCountry,\r\n    originalCurrency: formData?.originalCurrencyCode?.currencyCd || editClaimDetails?.originalCurrency,\r\n    settlementCurrencyCode: formData?.settlementCurrencyCode?.currencyCd || editClaimDetails?.settlementCurrencyCode,\r\n    movementType: formData?.movementType || editClaimDetails?.movementType,\r\n    basisOfOrder: parseInt(formData?.order) || editClaimDetails?.basisOfOrder,\r\n    orderPercentage: formData?.orderPercentage || editClaimDetails?.orderPercentage,\r\n    policyUnderWritingGroupDtoList,\r\n    beAdjusterID: beAdjusterID,\r\n    adjusterName,\r\n    nonBEAdjusterName: formData?.adjuster && formData?.adjuster === 'nonBeAdjuster' ? formData?.nonBeAdjuster : formData?.adjuster === 'beAdjuster' ? null : editClaimDetails?.nonBEAdjusterName,\r\n    adjusterReference: formData?.adjusterReference || editClaimDetails?.adjusterReference,\r\n    claimantName: formData?.claimantName?.name || editClaimDetails?.claimantName,\r\n    complexityBasis: formData?.complexity?.complexityRulesID || editClaimDetails?.complexityBasis,\r\n    complexityValueID: formData?.complexity?.complexityRulesID || editClaimDetails?.complexityValueID,\r\n    location: formData?.location || editClaimDetails?.location,\r\n    fgunarrative: formData?.fgunarrative || editClaimDetails?.fgunarrative,\r\n    claimReceivedDate: formData?.claimReceivedDate || editClaimDetails?.claimReceivedDate,\r\n    lossQualifierID: parseInt(formData?.lossQualifierID?.id) || editClaimDetails?.lossQualifierID,\r\n    lossQualifierName: formData?.lossQualifierID?.name || editClaimDetails?.lossQualifierName,\r\n    priorityID: parseInt(formData?.priority?.id) || editClaimDetails?.priorityID,\r\n    referralValueID: formData?.referral?.complexityRulesID || editClaimDetails?.referralValueID,\r\n    referralResponseID: formData?.rfiResponse?.id || editClaimDetails?.referralResponseID,\r\n    lossFromDate: formData?.fromDate ? utils.date.toISOString(formData?.fromDate) : editClaimDetails?.lossFromDate,\r\n    lossToDate: formData?.toDate ? utils.date.toISOString(formData?.toDate) : editClaimDetails?.lossToDate,\r\n    bordereauClaim: formData?.bordereauClaim ? 1 : 0,\r\n    bordereauPeriod: formData?.bordereauPeriod?.id || editClaimDetails?.bordereauPeriod,\r\n    certificateExpiryDate: utils.date.toISOString(formData?.certificateExpiryDate) || editClaimDetails?.certificateExpiryDate,\r\n    certificateInceptionDate: utils.date.toISOString(formData?.certificateInceptionDate) || editClaimDetails?.certificateInceptionDate,\r\n    certificateNumber: formData?.certificateNumber,\r\n  };\r\n\r\n  return utils.api\r\n    .put({\r\n      token: auth.accessToken,\r\n      endpoint: endpoint.claimService,\r\n      path: `api/data/claims/${claimSubmissionId}/update`,\r\n      data,\r\n    })\r\n    .then((response) => utils.api.handleResponse(response))\r\n    .then((json) => utils.api.handleNewData(json))\r\n    .then((data) => {\r\n      dispatch(postEditClaimDetailsInformationSuccess(data.data));\r\n      dispatch(enqueueNotification('notification.claimEditDetails.success', 'success'));\r\n      dispatch(removeLoader('postEditClaimDetailsInformation'));\r\n      return data.data;\r\n    })\r\n    .catch((err) => {\r\n      const errorParams = {\r\n        ...defaultError,\r\n        message: 'API post error',\r\n      };\r\n\r\n      utils.api.handleError(err, errorParams);\r\n      utils.api.handleUnauthorized(err, dispatch, authLogout);\r\n      dispatch(postEditClaimDetailsInformationFailure(err));\r\n      dispatch(enqueueNotification('notification.claimEditDetails.fail', 'error'));\r\n      dispatch(removeLoader('postEditClaimDetailsInformation'));\r\n      return err;\r\n    });\r\n};\r\n\r\nexport const postEditClaimDetailsInformationRequest = (data) => {\r\n  return {\r\n    type: 'CLAIMS_DETAILS_INFORMATION_UPDATE_REQUEST',\r\n    payload: data,\r\n  };\r\n};\r\n\r\nexport const postEditClaimDetailsInformationSuccess = (data) => {\r\n  return {\r\n    type: 'CLAIMS_DETAILS_INFORMATION_UPDATE_SUCCESS',\r\n    payload: data,\r\n  };\r\n};\r\n\r\nexport const postEditClaimDetailsInformationFailure = (error) => {\r\n  return {\r\n    type: 'CLAIMS_DETAILS_INFORMATION_UPDATE_FAILURE',\r\n    payload: error,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}