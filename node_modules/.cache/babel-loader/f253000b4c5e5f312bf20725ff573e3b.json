{"ast":null,"code":"var _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\pages\\\\QuoteBind\\\\QuoteBindDraftRisk.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Helmet } from 'react-helmet';\nimport get from 'lodash/get'; // app\n\nimport { QuoteBindDraftRiskView } from './QuoteBindDraftRisk.view';\nimport { getDraftList, selectProductsSorted, showModal, deleteDraft, selectDraftListItems, selectDraftListPagination, selectDraftListSort, selectDraftRiskListLoading } from 'stores';\nimport { usePagination } from 'hooks';\nimport * as utils from 'utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function QuoteBindDraftRisk() {\n  _s();\n\n  var dispatch = useDispatch();\n  var brand = useSelector(function (state) {\n    return state.ui.brand;\n  });\n  var riskProducts = useSelector(selectProductsSorted);\n  var draftItems = useSelector(selectDraftListItems);\n  var draftRiskListLoading = useSelector(selectDraftRiskListLoading);\n  var riskDraftPagination = useSelector(selectDraftListPagination);\n  var draftSort = useSelector(selectDraftListSort);\n  var draftList = useSelector(function (state) {\n    return state.risk.draftList;\n  }); // draft pagination\n\n  var handleDraftChangePage = function handleDraftChangePage(newPage) {\n    dispatch(getDraftList({\n      page: newPage + 1\n    }));\n  };\n\n  var handleDraftChangeRowsPerPage = function handleDraftChangeRowsPerPage(rowsPerPage) {\n    dispatch(getDraftList({\n      size: rowsPerPage\n    }));\n  };\n\n  var draftPagination = usePagination(draftItems, riskDraftPagination, handleDraftChangePage, handleDraftChangeRowsPerPage);\n  useEffect(function () {\n    dispatch(getDraftList());\n  }, [] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  var popoverActions = [{\n    id: 'edit-draft-risk',\n    label: 'app.edit',\n    callback: function callback(popoverData) {\n      return handleEditdraftRisk(popoverData);\n    }\n  }, {\n    id: 'delete-draft-risk',\n    label: 'app.delete',\n    callback: function callback(popoverData) {\n      return handleDeleteDraftRisk(popoverData);\n    }\n  }];\n\n  var handleDeleteDraftRisk = function handleDeleteDraftRisk(popoverData) {\n    dispatch(showModal({\n      component: 'CONFIRM_DELETE',\n      props: {\n        title: 'products.tabs.draftRisks.deleteDraftRisk',\n        fullWidth: true,\n        maxWidth: 'xs',\n        disableAutoFocus: true,\n        componentProps: {\n          submitHandler: function submitHandler() {\n            dispatch(deleteDraft(get(popoverData, 'id'), false));\n          }\n        }\n      }\n    }));\n  };\n\n  var handleEditdraftRisk = function handleEditdraftRisk(popoverData) {\n    var draftId = popoverData.id;\n    var riskData = popoverData.risk;\n    var product = {};\n    riskProducts.forEach(function (rp) {\n      if (rp.value.toLowerCase() === riskData.riskType.toLowerCase()) {\n        product = rp;\n      }\n    });\n    dispatch(showModal({\n      component: 'ADD_EDIT_QUOTE_BIND',\n      props: {\n        title: product.label,\n        fullWidth: true,\n        disableBackdropClick: true,\n        enableFullScreen: true,\n        maxWidth: 'xl',\n        componentProps: {\n          product: product,\n          riskData: riskData,\n          draftId: draftId\n        }\n      }\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"\".concat(utils.string.t('products.title'), \" - \").concat(utils.app.getAppName(brand), \" - \").concat(utils.string.t('products.tabs.draftRisks.label'))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(QuoteBindDraftRiskView, {\n      pagination: draftPagination.obj,\n      listDraftRisk: draftList,\n      draftRiskListLoading: draftRiskListLoading,\n      popoverActions: popoverActions,\n      riskProducts: riskProducts,\n      sort: draftSort,\n      handlers: {\n        handleDoubleClickRow: handleEditdraftRisk,\n        changePage: draftPagination.handlers.handleChangePage,\n        changeRowsPerPage: draftPagination.handlers.handleChangeRowsPerPage\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(QuoteBindDraftRisk, \"X+Dt+hasmkBzPWssSFBg4d4bax0=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, usePagination];\n});\n\n_c = QuoteBindDraftRisk;\nQuoteBindDraftRisk.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [],\n  \"displayName\": \"QuoteBindDraftRisk\"\n};\n\nif (typeof STORYBOOK_REACT_CLASSES !== \"undefined\") {\n  STORYBOOK_REACT_CLASSES[\"src\\\\pages\\\\QuoteBind\\\\QuoteBindDraftRisk.js\"] = {\n    name: \"QuoteBindDraftRisk\",\n    docgenInfo: QuoteBindDraftRisk.__docgenInfo,\n    path: \"src\\\\pages\\\\QuoteBind\\\\QuoteBindDraftRisk.js\"\n  };\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"QuoteBindDraftRisk\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/pages/QuoteBind/QuoteBindDraftRisk.js"],"names":["React","useEffect","useSelector","useDispatch","Helmet","get","QuoteBindDraftRiskView","getDraftList","selectProductsSorted","showModal","deleteDraft","selectDraftListItems","selectDraftListPagination","selectDraftListSort","selectDraftRiskListLoading","usePagination","utils","QuoteBindDraftRisk","dispatch","brand","state","ui","riskProducts","draftItems","draftRiskListLoading","riskDraftPagination","draftSort","draftList","risk","handleDraftChangePage","newPage","page","handleDraftChangeRowsPerPage","rowsPerPage","size","draftPagination","popoverActions","id","label","callback","popoverData","handleEditdraftRisk","handleDeleteDraftRisk","component","props","title","fullWidth","maxWidth","disableAutoFocus","componentProps","submitHandler","draftId","riskData","product","forEach","rp","value","toLowerCase","riskType","disableBackdropClick","enableFullScreen","string","t","app","getAppName","obj","handleDoubleClickRow","changePage","handlers","handleChangePage","changeRowsPerPage","handleChangeRowsPerPage"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Helmet } from 'react-helmet';\r\nimport get from 'lodash/get';\r\n\r\n// app\r\nimport { QuoteBindDraftRiskView } from './QuoteBindDraftRisk.view';\r\nimport {\r\n  getDraftList,\r\n  selectProductsSorted,\r\n  showModal,\r\n  deleteDraft,\r\n  selectDraftListItems,\r\n  selectDraftListPagination,\r\n  selectDraftListSort,\r\n  selectDraftRiskListLoading,\r\n} from 'stores';\r\nimport { usePagination } from 'hooks';\r\nimport * as utils from 'utils';\r\n\r\nexport default function QuoteBindDraftRisk() {\r\n  const dispatch = useDispatch();\r\n  const brand = useSelector((state) => state.ui.brand);\r\n  const riskProducts = useSelector(selectProductsSorted);\r\n  const draftItems = useSelector(selectDraftListItems);\r\n  const draftRiskListLoading = useSelector(selectDraftRiskListLoading);\r\n  const riskDraftPagination = useSelector(selectDraftListPagination);\r\n  const draftSort = useSelector(selectDraftListSort);\r\n  const draftList = useSelector((state) => state.risk.draftList);\r\n\r\n  // draft pagination\r\n  const handleDraftChangePage = (newPage) => {\r\n    dispatch(getDraftList({ page: newPage + 1 }));\r\n  };\r\n\r\n  const handleDraftChangeRowsPerPage = (rowsPerPage) => {\r\n    dispatch(getDraftList({ size: rowsPerPage }));\r\n  };\r\n\r\n  const draftPagination = usePagination(draftItems, riskDraftPagination, handleDraftChangePage, handleDraftChangeRowsPerPage);\r\n\r\n  useEffect(\r\n    () => {\r\n      dispatch(getDraftList());\r\n    },\r\n    [] // eslint-disable-line react-hooks/exhaustive-deps\r\n  );\r\n\r\n  const popoverActions = [\r\n    {\r\n      id: 'edit-draft-risk',\r\n      label: 'app.edit',\r\n      callback: (popoverData) => handleEditdraftRisk(popoverData),\r\n    },\r\n    {\r\n      id: 'delete-draft-risk',\r\n      label: 'app.delete',\r\n      callback: (popoverData) => handleDeleteDraftRisk(popoverData),\r\n    },\r\n  ];\r\n\r\n  const handleDeleteDraftRisk = (popoverData) => {\r\n    dispatch(\r\n      showModal({\r\n        component: 'CONFIRM_DELETE',\r\n        props: {\r\n          title: 'products.tabs.draftRisks.deleteDraftRisk',\r\n          fullWidth: true,\r\n          maxWidth: 'xs',\r\n          disableAutoFocus: true,\r\n          componentProps: {\r\n            submitHandler: () => {\r\n              dispatch(deleteDraft(get(popoverData, 'id'), false));\r\n            },\r\n          },\r\n        },\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleEditdraftRisk = (popoverData) => {\r\n    const draftId = popoverData.id;\r\n    const riskData = popoverData.risk;\r\n    let product = {};\r\n    riskProducts.forEach((rp) => {\r\n      if (rp.value.toLowerCase() === riskData.riskType.toLowerCase()) {\r\n        product = rp;\r\n      }\r\n    });\r\n    dispatch(\r\n      showModal({\r\n        component: 'ADD_EDIT_QUOTE_BIND',\r\n        props: {\r\n          title: product.label,\r\n          fullWidth: true,\r\n          disableBackdropClick: true,\r\n          enableFullScreen: true,\r\n          maxWidth: 'xl',\r\n          componentProps: {\r\n            product,\r\n            riskData,\r\n            draftId,\r\n          },\r\n        },\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{`${utils.string.t('products.title')} - ${utils.app.getAppName(brand)} - ${utils.string.t(\r\n          'products.tabs.draftRisks.label'\r\n        )}`}</title>\r\n      </Helmet>\r\n      <QuoteBindDraftRiskView\r\n        pagination={draftPagination.obj}\r\n        listDraftRisk={draftList}\r\n        draftRiskListLoading={draftRiskListLoading}\r\n        popoverActions={popoverActions}\r\n        riskProducts={riskProducts}\r\n        sort={draftSort}\r\n        handlers={{\r\n          handleDoubleClickRow: handleEditdraftRisk,\r\n          changePage: draftPagination.handlers.handleChangePage,\r\n          changeRowsPerPage: draftPagination.handlers.handleChangeRowsPerPage,\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}