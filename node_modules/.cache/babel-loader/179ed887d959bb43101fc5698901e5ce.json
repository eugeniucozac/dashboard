{"ast":null,"code":"import _regeneratorRuntime from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\ClaimsManageDocuments\\\\ClaimsManageDocuments.view.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux'; // app\n\nimport styles from './ClaimsManageDocuments.styles';\nimport { ClaimsManageDocumentsTable } from './ClaimsManageDocumentsTable';\nimport { DmsSearch, Accordion, TableHead, TableCell, Button, FilterBar } from 'components';\nimport { RegisterNewLossFixedBottomBar } from 'modules';\nimport { selectClaimsPolicyInformation } from 'stores';\nimport * as constants from 'consts';\nimport * as utils from 'utils'; // mui\n\nimport { makeStyles, Grid, Box, Typography, Checkbox, FormControlLabel, Table, TableBody, TableRow } from '@material-ui/core';\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nClaimsManageDocumentsView.propTypes = {\n  activeStep: PropTypes.number.isRequired,\n  isAllStepsCompleted: PropTypes.bool.isRequired,\n  index: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n  cols: PropTypes.array.isRequired,\n  fields: PropTypes.array.isRequired,\n  formControls: PropTypes.object.isRequired,\n  popoverActions: PropTypes.array.isRequired,\n  searchFields: PropTypes.array.isRequired,\n  searchActions: PropTypes.array.isRequired,\n  claimDocuments: PropTypes.array.isRequired,\n  lossDocuments: PropTypes.array.isRequired,\n  selectAll: PropTypes.bool,\n  isDmsFileViewGridDataLoading: PropTypes.bool,\n  handlers: PropTypes.shape({\n    back: PropTypes.func.isRequired,\n    next: PropTypes.func.isRequired,\n    save: PropTypes.func.isRequired,\n    formStatus: PropTypes.func.isRequired,\n    sendDocumentToGXB: PropTypes.func.isRequired,\n    setSelectAll: PropTypes.func.isRequired,\n    updateClaimFileListAfterLinking: PropTypes.func.isRequired,\n    viewDocLauncher: PropTypes.func.isRequired\n  }).isRequired\n};\nexport function ClaimsManageDocumentsView(_ref) {\n  _s();\n\n  var _fields$filter;\n\n  var activeStep = _ref.activeStep,\n      isAllStepsCompleted = _ref.isAllStepsCompleted,\n      index = _ref.index,\n      cols = _ref.cols,\n      fields = _ref.fields,\n      formControls = _ref.formControls,\n      popoverActions = _ref.popoverActions,\n      searchFields = _ref.searchFields,\n      searchActions = _ref.searchActions,\n      claimDocuments = _ref.claimDocuments,\n      lossDocuments = _ref.lossDocuments,\n      selectAll = _ref.selectAll,\n      isDmsFileViewGridDataLoading = _ref.isDmsFileViewGridDataLoading,\n      handlers = _ref.handlers;\n  var classes = makeStyles(styles, {\n    name: 'ClaimsManageDocuments'\n  })();\n  var policyInformation = useSelector(selectClaimsPolicyInformation);\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLossAccordionExpanded = _useState2[0],\n      setLossAccordionExpanded = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isClaimAccordionExpanded = _useState4[0],\n      setClaimAccordionExpanded = _useState4[1];\n\n  var control = formControls.control,\n      register = formControls.register,\n      watch = formControls.watch,\n      setValue = formControls.setValue;\n  var dms = {\n    context: constants.DMS_CONTEXT_POLICY,\n    source: policyInformation === null || policyInformation === void 0 ? void 0 : policyInformation.sourceId,\n    refData: _objectSpread({}, policyInformation),\n    isFnolDmsSearch: true,\n    updateClaimFileListAfterLinking: handlers.updateClaimFileListAfterLinking,\n    documentTypeKey: constants.DMS_DOCUMENT_TYPE_SECTION_KEYS.claim\n  };\n  var formValues = watch();\n  var allFields = fields === null || fields === void 0 ? void 0 : (_fields$filter = fields.filter(function (field) {\n    return (field === null || field === void 0 ? void 0 : field.type) === 'checkbox';\n  })) === null || _fields$filter === void 0 ? void 0 : _fields$filter.map(function (field) {\n    return field === null || field === void 0 ? void 0 : field.name;\n  });\n\n  var updateSelectAll = function updateSelectAll(status) {\n    allFields.forEach(function (grp) {\n      return setValue(grp, status);\n    });\n    handlers.setSelectAll(status);\n    handlers.formStatus();\n  };\n\n  var saveHandle = function saveHandle() {\n    function sendDocument() {\n      return _sendDocument.apply(this, arguments);\n    }\n\n    function _sendDocument() {\n      _sendDocument = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                handlers.sendDocumentToGXB(formValues);\n                _context.next = 3;\n                return handlers.save(index);\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _sendDocument.apply(this, arguments);\n    }\n\n    sendDocument();\n  };\n\n  var nextHandle = function nextHandle() {\n    function sendDocument() {\n      return _sendDocument2.apply(this, arguments);\n    }\n\n    function _sendDocument2() {\n      _sendDocument2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                handlers.sendDocumentToGXB(formValues);\n                _context2.next = 3;\n                return handlers.next(index);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n      return _sendDocument2.apply(this, arguments);\n    }\n\n    sendDocument();\n  };\n\n  var referenceId = policyInformation === null || policyInformation === void 0 ? void 0 : policyInformation.policyRef;\n  var tableProps = {\n    control: control,\n    register: register,\n    watch: watch,\n    fields: fields,\n    allFields: allFields,\n    cols: cols,\n    popoverActions: popoverActions,\n    isDmsFileViewGridDataLoading: isDmsFileViewGridDataLoading,\n    handlers: _objectSpread({}, handlers)\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    overflow: \"hidden\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      flex: \"1 1 auto\",\n      className: classes.container,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        mt: 3,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 4,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(DmsSearch, _objectSpread(_objectSpread({}, dms), {}, {\n              referenceId: referenceId,\n              isAutoSearchScreen: true,\n              handleFormStatus: handlers.formStatus\n            }), void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              mt: 1,\n              ml: 2,\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                alignItems: \"center\",\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  children: [/*#__PURE__*/_jsxDEV(DescriptionOutlinedIcon, {\n                    className: classes.icon\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    className: classes.title,\n                    children: utils.string.t('claims.manageDocumentLabels.claimFile')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  width: '50%',\n                  marginLeft: \"auto\",\n                  children: [/*#__PURE__*/_jsxDEV(FilterBar, {\n                    id: \"userFilter\",\n                    fields: searchFields,\n                    actions: searchActions\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 138,\n                    columnNumber: 21\n                  }, this), ' ']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Table, {\n                size: \"small\",\n                children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                  columns: cols\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                  children: [/*#__PURE__*/_jsxDEV(TableRow, {\n                    children: /*#__PURE__*/_jsxDEV(TableCell, {\n                      colSpan: 4,\n                      children: /*#__PURE__*/_jsxDEV(Accordion, {\n                        icon: false,\n                        expanded: isLossAccordionExpanded,\n                        defaultHeader: false,\n                        actions: [{\n                          id: 'manageLossDocs',\n                          text: utils.string.t('claims.manageDocumentLabels.loss'),\n                          icon: KeyboardArrowUpIcon,\n                          iconPosition: 'left',\n                          color: 'primary',\n                          onClick: function onClick() {\n                            setLossAccordionExpanded(!isLossAccordionExpanded);\n                          }\n                        }],\n                        children: /*#__PURE__*/_jsxDEV(ClaimsManageDocumentsTable, _objectSpread({\n                          documents: lossDocuments\n                        }, tableProps), void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 164,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 147,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 146,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: /*#__PURE__*/_jsxDEV(TableCell, {\n                      colSpan: 4,\n                      children: /*#__PURE__*/_jsxDEV(Accordion, {\n                        icon: false,\n                        expanded: isClaimAccordionExpanded,\n                        defaultHeader: false,\n                        actions: [{\n                          id: 'manageLossDocs',\n                          text: utils.string.t('claims.manageDocumentLabels.claim'),\n                          icon: KeyboardArrowUpIcon,\n                          iconPosition: 'left',\n                          color: 'primary',\n                          onClick: function onClick() {\n                            setClaimAccordionExpanded(!isClaimAccordionExpanded);\n                          }\n                        }],\n                        children: /*#__PURE__*/_jsxDEV(ClaimsManageDocumentsTable, _objectSpread({\n                          documents: claimDocuments\n                        }, tableProps), void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 188,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 171,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 170,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 17\n              }, this), false &&\n              /*#__PURE__*/\n              //adding false temporary to hide the Select All\n              _jsxDEV(Box, {\n                mt: 10,\n                ml: 5,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  color: \"primary\",\n                  size: \"xsmall\",\n                  variant: \"outlined\",\n                  disabled: false,\n                  text: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                    control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                      checked: selectAll\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 202,\n                      columnNumber: 56\n                    }, this),\n                    label: \"SELECT ALL\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 29\n                  }, this),\n                  \"data-testid\": \"bulk-button\",\n                  onClick: function onClick() {\n                    updateSelectAll(!selectAll);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      flex: \"0 1 auto\",\n      children: /*#__PURE__*/_jsxDEV(RegisterNewLossFixedBottomBar, {\n        activeStep: activeStep,\n        isAllStepsCompleted: isAllStepsCompleted,\n        handleBack: function handleBack() {\n          handlers.back(index);\n        },\n        handleSave: function handleSave() {\n          saveHandle();\n        },\n        handleNextSubmit: function handleNextSubmit() {\n          return nextHandle();\n        },\n        save: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ClaimsManageDocumentsView, \"sd0IUKaiFKJQrzrRFPAYCgcj2DI=\", false, function () {\n  return [useSelector];\n});\n\n_c = ClaimsManageDocumentsView;\n\nvar _c;\n\n$RefreshReg$(_c, \"ClaimsManageDocumentsView\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/ClaimsManageDocuments/ClaimsManageDocuments.view.js"],"names":["React","useState","PropTypes","useSelector","styles","ClaimsManageDocumentsTable","DmsSearch","Accordion","TableHead","TableCell","Button","FilterBar","RegisterNewLossFixedBottomBar","selectClaimsPolicyInformation","constants","utils","makeStyles","Grid","Box","Typography","Checkbox","FormControlLabel","Table","TableBody","TableRow","KeyboardArrowUpIcon","DescriptionOutlinedIcon","ClaimsManageDocumentsView","propTypes","activeStep","number","isRequired","isAllStepsCompleted","bool","index","oneOfType","string","cols","array","fields","formControls","object","popoverActions","searchFields","searchActions","claimDocuments","lossDocuments","selectAll","isDmsFileViewGridDataLoading","handlers","shape","back","func","next","save","formStatus","sendDocumentToGXB","setSelectAll","updateClaimFileListAfterLinking","viewDocLauncher","classes","name","policyInformation","isLossAccordionExpanded","setLossAccordionExpanded","isClaimAccordionExpanded","setClaimAccordionExpanded","control","register","watch","setValue","dms","context","DMS_CONTEXT_POLICY","source","sourceId","refData","isFnolDmsSearch","documentTypeKey","DMS_DOCUMENT_TYPE_SECTION_KEYS","claim","formValues","allFields","filter","field","type","map","updateSelectAll","status","forEach","grp","saveHandle","sendDocument","nextHandle","referenceId","policyRef","tableProps","container","icon","title","t","id","text","iconPosition","color","onClick"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useSelector } from 'react-redux';\r\n\r\n// app\r\nimport styles from './ClaimsManageDocuments.styles';\r\nimport { ClaimsManageDocumentsTable } from './ClaimsManageDocumentsTable';\r\nimport { DmsSearch, Accordion, TableHead, TableCell, Button, FilterBar } from 'components';\r\nimport { RegisterNewLossFixedBottomBar } from 'modules';\r\nimport { selectClaimsPolicyInformation } from 'stores';\r\nimport * as constants from 'consts';\r\nimport * as utils from 'utils';\r\n\r\n// mui\r\nimport { makeStyles, Grid, Box, Typography, Checkbox, FormControlLabel, Table, TableBody, TableRow } from '@material-ui/core';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\n\r\nClaimsManageDocumentsView.propTypes = {\r\n  activeStep: PropTypes.number.isRequired,\r\n  isAllStepsCompleted: PropTypes.bool.isRequired,\r\n  index: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\r\n  cols: PropTypes.array.isRequired,\r\n  fields: PropTypes.array.isRequired,\r\n  formControls: PropTypes.object.isRequired,\r\n  popoverActions: PropTypes.array.isRequired,\r\n  searchFields: PropTypes.array.isRequired,\r\n  searchActions: PropTypes.array.isRequired,\r\n  claimDocuments: PropTypes.array.isRequired,\r\n  lossDocuments: PropTypes.array.isRequired,\r\n  selectAll: PropTypes.bool,\r\n  isDmsFileViewGridDataLoading: PropTypes.bool,\r\n  handlers: PropTypes.shape({\r\n    back: PropTypes.func.isRequired,\r\n    next: PropTypes.func.isRequired,\r\n    save: PropTypes.func.isRequired,\r\n    formStatus: PropTypes.func.isRequired,\r\n    sendDocumentToGXB: PropTypes.func.isRequired,\r\n    setSelectAll: PropTypes.func.isRequired,\r\n    updateClaimFileListAfterLinking: PropTypes.func.isRequired,\r\n    viewDocLauncher: PropTypes.func.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nexport function ClaimsManageDocumentsView({\r\n  activeStep,\r\n  isAllStepsCompleted,\r\n  index,\r\n  cols,\r\n  fields,\r\n  formControls,\r\n  popoverActions,\r\n  searchFields,\r\n  searchActions,\r\n  claimDocuments,\r\n  lossDocuments,\r\n  selectAll,\r\n  isDmsFileViewGridDataLoading,\r\n  handlers,\r\n}) {\r\n  const classes = makeStyles(styles, { name: 'ClaimsManageDocuments' })();\r\n\r\n  const policyInformation = useSelector(selectClaimsPolicyInformation);\r\n\r\n  const [isLossAccordionExpanded, setLossAccordionExpanded] = useState(true);\r\n  const [isClaimAccordionExpanded, setClaimAccordionExpanded] = useState(true);\r\n\r\n  const { control, register, watch, setValue } = formControls;\r\n\r\n  const dms = {\r\n    context: constants.DMS_CONTEXT_POLICY,\r\n    source: policyInformation?.sourceId,\r\n    refData: { ...policyInformation },\r\n    isFnolDmsSearch: true,\r\n    updateClaimFileListAfterLinking: handlers.updateClaimFileListAfterLinking,\r\n    documentTypeKey: constants.DMS_DOCUMENT_TYPE_SECTION_KEYS.claim,\r\n  };\r\n\r\n  const formValues = watch();\r\n  const allFields = fields?.filter((field) => field?.type === 'checkbox')?.map((field) => field?.name);\r\n\r\n  const updateSelectAll = (status) => {\r\n    allFields.forEach((grp) => setValue(grp, status));\r\n    handlers.setSelectAll(status);\r\n    handlers.formStatus();\r\n  };\r\n\r\n  const saveHandle = () => {\r\n    async function sendDocument() {\r\n      handlers.sendDocumentToGXB(formValues);\r\n      await handlers.save(index);\r\n    }\r\n    sendDocument();\r\n  };\r\n\r\n  const nextHandle = () => {\r\n    async function sendDocument() {\r\n      handlers.sendDocumentToGXB(formValues);\r\n      await handlers.next(index);\r\n    }\r\n    sendDocument();\r\n  };\r\n\r\n  const referenceId = policyInformation?.policyRef;\r\n\r\n  const tableProps = {\r\n    control,\r\n    register,\r\n    watch,\r\n    fields,\r\n    allFields,\r\n    cols,\r\n    popoverActions,\r\n    isDmsFileViewGridDataLoading,\r\n    handlers: { ...handlers },\r\n  };\r\n\r\n  return (\r\n    <Box overflow=\"hidden\" display=\"flex\" flexDirection=\"column\">\r\n      <Box flex=\"1 1 auto\" className={classes.container}>\r\n        <Box mt={3}>\r\n          <Grid container spacing={4}>\r\n            <Grid item xs={12} sm={6}>\r\n              <DmsSearch {...dms} referenceId={referenceId} isAutoSearchScreen handleFormStatus={handlers.formStatus} />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={6}>\r\n              <Box mt={1} ml={2}>\r\n                <Box display=\"flex\" alignItems=\"center\">\r\n                  <Box display=\"flex\" alignItems=\"center\">\r\n                    <DescriptionOutlinedIcon className={classes.icon} />\r\n\r\n                    <Typography variant=\"body2\" className={classes.title}>\r\n                      {utils.string.t('claims.manageDocumentLabels.claimFile')}\r\n                    </Typography>\r\n                  </Box>\r\n                  <Box width={'50%'} marginLeft=\"auto\">\r\n                    <FilterBar id=\"userFilter\" fields={searchFields} actions={searchActions} />{' '}\r\n                  </Box>\r\n                </Box>\r\n\r\n                <Table size=\"small\">\r\n                  <TableHead columns={cols} />\r\n                  <TableBody>\r\n                    <TableRow>\r\n                      <TableCell colSpan={4}>\r\n                        <Accordion\r\n                          icon={false}\r\n                          expanded={isLossAccordionExpanded}\r\n                          defaultHeader={false}\r\n                          actions={[\r\n                            {\r\n                              id: 'manageLossDocs',\r\n                              text: utils.string.t('claims.manageDocumentLabels.loss'),\r\n                              icon: KeyboardArrowUpIcon,\r\n                              iconPosition: 'left',\r\n                              color: 'primary',\r\n                              onClick: () => {\r\n                                setLossAccordionExpanded(!isLossAccordionExpanded);\r\n                              },\r\n                            },\r\n                          ]}\r\n                        >\r\n                          <ClaimsManageDocumentsTable documents={lossDocuments} {...tableProps} />\r\n                        </Accordion>\r\n                      </TableCell>\r\n                    </TableRow>\r\n\r\n                    <TableRow>\r\n                      <TableCell colSpan={4}>\r\n                        <Accordion\r\n                          icon={false}\r\n                          expanded={isClaimAccordionExpanded}\r\n                          defaultHeader={false}\r\n                          actions={[\r\n                            {\r\n                              id: 'manageLossDocs',\r\n                              text: utils.string.t('claims.manageDocumentLabels.claim'),\r\n                              icon: KeyboardArrowUpIcon,\r\n                              iconPosition: 'left',\r\n                              color: 'primary',\r\n                              onClick: () => {\r\n                                setClaimAccordionExpanded(!isClaimAccordionExpanded);\r\n                              },\r\n                            },\r\n                          ]}\r\n                        >\r\n                          <ClaimsManageDocumentsTable documents={claimDocuments} {...tableProps} />\r\n                        </Accordion>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  </TableBody>\r\n                </Table>\r\n\r\n                {false && ( //adding false temporary to hide the Select All\r\n                  <Box mt={10} ml={5}>\r\n                    <Button\r\n                      color=\"primary\"\r\n                      size=\"xsmall\"\r\n                      variant=\"outlined\"\r\n                      disabled={false}\r\n                      text={<FormControlLabel control={<Checkbox checked={selectAll} />} label=\"SELECT ALL\" />}\r\n                      data-testid=\"bulk-button\"\r\n                      onClick={() => {\r\n                        updateSelectAll(!selectAll);\r\n                      }}\r\n                    />\r\n                  </Box>\r\n                )}\r\n              </Box>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </Box>\r\n\r\n      <Box flex=\"0 1 auto\">\r\n        <RegisterNewLossFixedBottomBar\r\n          activeStep={activeStep}\r\n          isAllStepsCompleted={isAllStepsCompleted}\r\n          handleBack={() => {\r\n            handlers.back(index);\r\n          }}\r\n          handleSave={() => {\r\n            saveHandle();\r\n          }}\r\n          handleNextSubmit={() => nextHandle()}\r\n          save={true}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}