{"ast":null,"code":"import _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\ClaimsUnderwritingGroups\\\\ClaimsUnderwritingGroups.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types'; //app\n\nimport { ClaimsUnderwritingGroupsView } from './ClaimsUnderwritingGroups.view';\nimport { getUnderwritingGroupsBySection, selectClaimsUnderwritingGroups, selectSectionEnabledUG, sortingUnderwritingGroups } from 'stores';\nimport * as utils from 'utils';\nimport { useFlexiColumns, useSort } from 'hooks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nClaimsUnderwritingGroups.prototypes = {\n  fields: PropTypes.array.isRequired,\n  claimForm: PropTypes.object,\n  uwResetKey: PropTypes.number,\n  hasClaimRef: PropTypes.bool\n};\nexport default function ClaimsUnderwritingGroups(_ref) {\n  _s();\n\n  var fields = _ref.fields,\n      claimForm = _ref.claimForm,\n      uwResetKey = _ref.uwResetKey,\n      hasClaimRef = _ref.hasClaimRef;\n  var dispatch = useDispatch();\n  var underWritingGroups = useSelector(selectClaimsUnderwritingGroups);\n  var facilityKeys = underWritingGroups.items.map(function (item) {\n    return item.id;\n  });\n\n  var ugSortData = _objectSpread(_objectSpread({}, underWritingGroups.sort), {}, {\n    type: 'numeric'\n  });\n\n  var isSectionEnabled = useSelector(selectSectionEnabledUG);\n  useEffect(function () {\n    if (hasClaimRef) {\n      utils.generic.isInvalidOrEmptyArray(underWritingGroups === null || underWritingGroups === void 0 ? void 0 : underWritingGroups.items) && dispatch(getUnderwritingGroupsBySection());\n    } else {\n      dispatch(getUnderwritingGroupsBySection());\n    }\n  }, [uwResetKey]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  var handleSort = function handleSort(by, dir) {\n    dispatch(getUnderwritingGroupsBySection({\n      sortBy: by,\n      direction: dir.toUpperCase()\n    }));\n  };\n\n  var columns = [{\n    id: 'id',\n    empty: true,\n    visible: true\n  }, {\n    id: 'groupRef',\n    label: utils.string.t('claims.underWritingGroups.groupRef'),\n    sort: {\n      type: 'lexical',\n      direction: 'asc'\n    },\n    visible: true\n  }, {\n    id: 'percentage',\n    label: utils.string.t('claims.underWritingGroups.percentage'),\n    visible: true\n  }, {\n    id: 'facility',\n    label: utils.string.t('claims.underWritingGroups.facility'),\n    visible: true\n  }, {\n    id: 'facilityRef',\n    label: utils.string.t('claims.underWritingGroups.facilityRef'),\n    visible: true\n  }, {\n    id: 'slipLeader',\n    label: utils.string.t('claims.underWritingGroups.slipLeader'),\n    visible: true\n  }, {\n    id: 'narrative',\n    label: utils.string.t('claims.underWritingGroups.narrative'),\n    visible: true\n  }, {\n    id: 'dateValidFrom',\n    label: utils.string.t('claims.underWritingGroups.dateValidFrom'),\n    sort: {\n      type: 'date',\n      direction: 'asc'\n    },\n    visible: true\n  }, {\n    id: 'dateValidTo',\n    label: utils.string.t('claims.underWritingGroups.dateValidTo'),\n    sort: {\n      type: 'date',\n      direction: 'asc'\n    },\n    visible: true\n  }];\n\n  var _useFlexiColumns = useFlexiColumns(columns),\n      columnsArray = _useFlexiColumns.columns;\n\n  var _useSort = useSort(columnsArray, ugSortData, handleSort),\n      cols = _useSort.cols,\n      sort = _useSort.sort;\n\n  return /*#__PURE__*/_jsxDEV(ClaimsUnderwritingGroupsView, {\n    isSectionEnabled: isSectionEnabled,\n    claimFields: fields,\n    claimForm: claimForm,\n    uwResetKey: uwResetKey,\n    underWritingGroups: underWritingGroups,\n    sortingUnderwritingGroups: sortingUnderwritingGroups,\n    cols: cols,\n    sort: sort,\n    handleSort: handleSort,\n    facilityKeys: facilityKeys\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ClaimsUnderwritingGroups, \"P2j+2/zDda3c2PhmWd9Yc+wDKzM=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useFlexiColumns, useSort];\n});\n\n_c = ClaimsUnderwritingGroups;\n\nvar _c;\n\n$RefreshReg$(_c, \"ClaimsUnderwritingGroups\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/ClaimsUnderwritingGroups/ClaimsUnderwritingGroups.js"],"names":["React","useEffect","useDispatch","useSelector","PropTypes","ClaimsUnderwritingGroupsView","getUnderwritingGroupsBySection","selectClaimsUnderwritingGroups","selectSectionEnabledUG","sortingUnderwritingGroups","utils","useFlexiColumns","useSort","ClaimsUnderwritingGroups","prototypes","fields","array","isRequired","claimForm","object","uwResetKey","number","hasClaimRef","bool","dispatch","underWritingGroups","facilityKeys","items","map","item","id","ugSortData","sort","type","isSectionEnabled","generic","isInvalidOrEmptyArray","handleSort","by","dir","sortBy","direction","toUpperCase","columns","empty","visible","label","string","t","columnsArray","cols"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\n//app\r\nimport { ClaimsUnderwritingGroupsView } from './ClaimsUnderwritingGroups.view';\r\nimport { getUnderwritingGroupsBySection, selectClaimsUnderwritingGroups, selectSectionEnabledUG, sortingUnderwritingGroups } from 'stores';\r\nimport * as utils from 'utils';\r\nimport { useFlexiColumns, useSort } from 'hooks';\r\n\r\nClaimsUnderwritingGroups.prototypes = {\r\n  fields: PropTypes.array.isRequired,\r\n  claimForm: PropTypes.object,\r\n  uwResetKey: PropTypes.number,\r\n  hasClaimRef: PropTypes.bool,\r\n};\r\nexport default function ClaimsUnderwritingGroups({ fields, claimForm, uwResetKey, hasClaimRef }) {\r\n  const dispatch = useDispatch();\r\n  const underWritingGroups = useSelector(selectClaimsUnderwritingGroups);\r\n  const facilityKeys = underWritingGroups.items.map((item) => item.id);\r\n  const ugSortData = { ...underWritingGroups.sort, type: 'numeric' };\r\n  const isSectionEnabled = useSelector(selectSectionEnabledUG);\r\n  \r\n  useEffect(() => {\r\n    if (hasClaimRef) {\r\n      utils.generic.isInvalidOrEmptyArray(underWritingGroups?.items) && dispatch(getUnderwritingGroupsBySection());\r\n    } else {\r\n      dispatch(getUnderwritingGroupsBySection());\r\n    }\r\n  }, [uwResetKey]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const handleSort = (by, dir) => {\r\n    dispatch(getUnderwritingGroupsBySection({ sortBy: by, direction: dir.toUpperCase() }));\r\n  };\r\n\r\n  const columns = [\r\n    { id: 'id', empty: true, visible: true },\r\n    {\r\n      id: 'groupRef',\r\n      label: utils.string.t('claims.underWritingGroups.groupRef'),\r\n      sort: { type: 'lexical', direction: 'asc' },\r\n      visible: true,\r\n    },\r\n    { id: 'percentage', label: utils.string.t('claims.underWritingGroups.percentage'), visible: true },\r\n    { id: 'facility', label: utils.string.t('claims.underWritingGroups.facility'), visible: true },\r\n    { id: 'facilityRef', label: utils.string.t('claims.underWritingGroups.facilityRef'), visible: true },\r\n    { id: 'slipLeader', label: utils.string.t('claims.underWritingGroups.slipLeader'), visible: true },\r\n    { id: 'narrative', label: utils.string.t('claims.underWritingGroups.narrative'), visible: true },\r\n    {\r\n      id: 'dateValidFrom',\r\n      label: utils.string.t('claims.underWritingGroups.dateValidFrom'),\r\n      sort: { type: 'date', direction: 'asc' },\r\n      visible: true,\r\n    },\r\n    {\r\n      id: 'dateValidTo',\r\n      label: utils.string.t('claims.underWritingGroups.dateValidTo'),\r\n      sort: { type: 'date', direction: 'asc' },\r\n      visible: true,\r\n    },\r\n  ];\r\n\r\n  const { columns: columnsArray } = useFlexiColumns(columns);\r\n  const { cols, sort } = useSort(columnsArray, ugSortData, handleSort);\r\n\r\n  return (\r\n    <ClaimsUnderwritingGroupsView\r\n      isSectionEnabled={isSectionEnabled}\r\n      claimFields={fields}\r\n      claimForm={claimForm}\r\n      uwResetKey={uwResetKey}\r\n      underWritingGroups={underWritingGroups}\r\n      sortingUnderwritingGroups={sortingUnderwritingGroups}\r\n      cols={cols}\r\n      sort={sort}\r\n      handleSort={handleSort}\r\n      facilityKeys={facilityKeys}\r\n    />\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}