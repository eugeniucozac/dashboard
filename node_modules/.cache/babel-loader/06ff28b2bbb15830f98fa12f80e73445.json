{"ast":null,"code":"import _slicedToArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\components\\\\App\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport get from 'lodash/get'; // app\n\nimport { AppView } from './App.view';\nimport { setBrand, selectUser, selectUserIsExtended, selectIsAdmin, selectUserIsCurrent } from 'stores';\nimport * as utils from 'utils';\nimport { HOTJAR_ID, HOTJAR_VERSION } from 'consts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      userIsLoaded = _useState2[0],\n      setUserIsLoaded = _useState2[1];\n\n  var dispatch = useDispatch();\n  var user = useSelector(selectUser);\n  var userIsAdmin = useSelector(selectIsAdmin);\n  var userIsExtendedEdge = useSelector(selectUserIsExtended);\n  var userIsCurrentEdge = useSelector(selectUserIsCurrent);\n  var uiBrand = useSelector(function (state) {\n    return get(state, 'ui.brand');\n  });\n  var uiLoaderQueue = useSelector(function (state) {\n    return get(state, 'ui.loader.queue', []);\n  });\n  var configVars = useSelector(function (state) {\n    return get(state, 'config.vars');\n  });\n  var isServiceWorkerUpdated = useSelector(function (state) {\n    return get(state, 'ui.serviceWorkerUpdated');\n  });\n  var serviceWorkerRegistration = useSelector(function (state) {\n    return get(state, 'ui.serviceWorkerRegistration');\n  });\n\n  var updateServiceWorker = function updateServiceWorker() {\n    var registrationWaiting = serviceWorkerRegistration.waiting;\n\n    if (registrationWaiting) {\n      registrationWaiting.postMessage({\n        type: 'SKIP_WAITING'\n      });\n      registrationWaiting.addEventListener('statechange', function (e) {\n        if (e.target.state === 'activated') {\n          window.location.reload();\n        }\n      });\n    }\n  };\n\n  useEffect(function () {\n    var _user$auth;\n\n    (user === null || user === void 0 ? void 0 : user.id) && (user === null || user === void 0 ? void 0 : (_user$auth = user.auth) === null || _user$auth === void 0 ? void 0 : _user$auth.accessToken) && setUserIsLoaded(true);\n  }, [user]);\n  useEffect(function () {\n    if (!uiBrand) {\n      dispatch(setBrand(utils.app.getHostName()));\n    }\n\n    document.title = utils.app.getAppName(uiBrand);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(function () {\n    if (utils.app.isPriceForbesProduction()) {\n      utils.app.hotjar(HOTJAR_ID, HOTJAR_VERSION);\n    }\n  }, []);\n  return userIsLoaded ? /*#__PURE__*/_jsxDEV(AppView, {\n    isBroker: utils.user.isBroker(user),\n    isUnderwriter: utils.user.isUnderwriter(user),\n    isAdmin: userIsAdmin,\n    isExtendedEdge: userIsExtendedEdge,\n    isCurrentEdge: userIsCurrentEdge,\n    isUserLoaded: utils.user.isLoaded(user),\n    isDev: utils.app.isDevelopment(configVars),\n    landingPage: utils.user.getLandingPage(user),\n    hasLoader: uiLoaderQueue.length > 0,\n    sw: {\n      isServiceWorkerUpdated: isServiceWorkerUpdated,\n      updateServiceWorker: updateServiceWorker\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this) : null;\n}\n\n_s(App, \"hkYUFFczJAaxQ/Fu8rMFIcihc6w=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/components/App/App.js"],"names":["React","useState","useEffect","useDispatch","useSelector","get","AppView","setBrand","selectUser","selectUserIsExtended","selectIsAdmin","selectUserIsCurrent","utils","HOTJAR_ID","HOTJAR_VERSION","App","userIsLoaded","setUserIsLoaded","dispatch","user","userIsAdmin","userIsExtendedEdge","userIsCurrentEdge","uiBrand","state","uiLoaderQueue","configVars","isServiceWorkerUpdated","serviceWorkerRegistration","updateServiceWorker","registrationWaiting","waiting","postMessage","type","addEventListener","e","target","window","location","reload","id","auth","accessToken","app","getHostName","document","title","getAppName","isPriceForbesProduction","hotjar","isBroker","isUnderwriter","isLoaded","isDevelopment","getLandingPage","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport get from 'lodash/get';\r\n\r\n// app\r\nimport { AppView } from './App.view';\r\nimport { setBrand, selectUser, selectUserIsExtended, selectIsAdmin, selectUserIsCurrent } from 'stores';\r\nimport * as utils from 'utils';\r\nimport { HOTJAR_ID, HOTJAR_VERSION } from 'consts';\r\n\r\nexport default function App() {\r\n  const [userIsLoaded, setUserIsLoaded] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const user = useSelector(selectUser);\r\n\r\n  const userIsAdmin = useSelector(selectIsAdmin);\r\n  const userIsExtendedEdge = useSelector(selectUserIsExtended);\r\n  const userIsCurrentEdge = useSelector(selectUserIsCurrent);\r\n  const uiBrand = useSelector((state) => get(state, 'ui.brand'));\r\n  const uiLoaderQueue = useSelector((state) => get(state, 'ui.loader.queue', []));\r\n  const configVars = useSelector((state) => get(state, 'config.vars'));\r\n\r\n  const isServiceWorkerUpdated = useSelector((state) => get(state, 'ui.serviceWorkerUpdated'));\r\n  const serviceWorkerRegistration = useSelector((state) => get(state, 'ui.serviceWorkerRegistration'));\r\n\r\n  const updateServiceWorker = () => {\r\n    const registrationWaiting = serviceWorkerRegistration.waiting;\r\n\r\n    if (registrationWaiting) {\r\n      registrationWaiting.postMessage({ type: 'SKIP_WAITING' });\r\n\r\n      registrationWaiting.addEventListener('statechange', (e) => {\r\n        if (e.target.state === 'activated') {\r\n          window.location.reload();\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    user?.id && user?.auth?.accessToken && setUserIsLoaded(true);\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (!uiBrand) {\r\n      dispatch(setBrand(utils.app.getHostName()));\r\n    }\r\n\r\n    document.title = utils.app.getAppName(uiBrand);\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  useEffect(() => {\r\n    if (utils.app.isPriceForbesProduction()) {\r\n      utils.app.hotjar(HOTJAR_ID, HOTJAR_VERSION);\r\n    }\r\n  }, []);\r\n\r\n  return userIsLoaded ? (\r\n    <AppView\r\n      isBroker={utils.user.isBroker(user)}\r\n      isUnderwriter={utils.user.isUnderwriter(user)}\r\n      isAdmin={userIsAdmin}\r\n      isExtendedEdge={userIsExtendedEdge}\r\n      isCurrentEdge={userIsCurrentEdge}\r\n      isUserLoaded={utils.user.isLoaded(user)}\r\n      isDev={utils.app.isDevelopment(configVars)}\r\n      landingPage={utils.user.getLandingPage(user)}\r\n      hasLoader={uiLoaderQueue.length > 0}\r\n      sw={{ isServiceWorkerUpdated: isServiceWorkerUpdated, updateServiceWorker: updateServiceWorker }}\r\n    />\r\n  ) : null;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}