{"ast":null,"code":"import _defineProperty from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\components\\\\Sticky\\\\Sticky.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames'; // app\n\nimport styles from './Sticky.styles'; // mui\n\nimport { makeStyles } from '@material-ui/core'; // context\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var StickyContext = /*#__PURE__*/React.createContext({});\nSticky.propTypes = {\n  parent: PropTypes.object,\n  top: PropTypes.number,\n  zIndex: PropTypes.number,\n  border: PropTypes.bool,\n  shadow: PropTypes.bool,\n  nestedClasses: PropTypes.object\n};\nSticky.defaultProps = {\n  top: 0,\n  zIndex: 3,\n  shadow: true,\n  nestedClasses: {}\n};\nexport default function Sticky(_ref) {\n  _s();\n\n  var _classesSticky, _classesBorder;\n\n  var parent = _ref.parent,\n      top = _ref.top,\n      zIndex = _ref.zIndex,\n      border = _ref.border,\n      shadow = _ref.shadow,\n      children = _ref.children,\n      nestedClasses = _ref.nestedClasses;\n  var classes = makeStyles(styles, {\n    name: 'Sticky'\n  })();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      sticky = _useState2[0],\n      setSticky = _useState2[1];\n\n  var refObserver = useRef(null);\n  useEffect(function () {\n    addObserver(); // cleanup\n\n    return function () {\n      refObserver.current.disconnect();\n    };\n  }, [] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  useEffect(function () {\n    if (top) {\n      addObserver();\n    }\n  }, [top] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  var addObserver = function addObserver() {\n    var options = {\n      root: parent || null,\n      threshold: 1\n    }; // disconnect any previous observer\n\n    if (refObserver.current) {\n      refObserver.current.disconnect();\n    }\n\n    refObserver.current = new IntersectionObserver(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 1),\n          entry = _ref3[0];\n\n      if (entry.intersectionRatio < 1) {\n        setSticky(true);\n      } else {\n        setSticky(false);\n      }\n    }, options);\n    refObserver.current.observe(document.querySelector('.sticky-observer'));\n  };\n\n  var elemStyles = {\n    top: top,\n    zIndex: zIndex\n  };\n  var classesSticky = (_classesSticky = {}, _defineProperty(_classesSticky, classes.root, true), _defineProperty(_classesSticky, classes.shadow, sticky && shadow), _defineProperty(_classesSticky, nestedClasses.root, Boolean(nestedClasses.root)), _defineProperty(_classesSticky, nestedClasses.rootSticky, sticky && Boolean(nestedClasses.rootSticky)), _classesSticky);\n  var classesBorder = (_classesBorder = {}, _defineProperty(_classesBorder, classes.border, true), _defineProperty(_classesBorder, classes.borderVisible, border && sticky), _classesBorder);\n  return /*#__PURE__*/_jsxDEV(StickyContext.Provider, {\n    value: {\n      sticky: sticky\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classnames(classesSticky),\n      style: elemStyles,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classnames(['sticky-observer', classes.observer]),\n        style: {\n          top: -(top + 2)\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), children, border && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classnames(classesBorder)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 20\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Sticky, \"QEEs+QsQBuBT4JP2pQnU6RqRggg=\");\n\n_c = Sticky;\nSticky.displayName = \"Sticky\";\nSticky.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [],\n  \"displayName\": \"Sticky\",\n  \"props\": {\n    \"top\": {\n      \"defaultValue\": {\n        \"value\": \"0\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"zIndex\": {\n      \"defaultValue\": {\n        \"value\": \"3\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"shadow\": {\n      \"defaultValue\": {\n        \"value\": \"true\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"nestedClasses\": {\n      \"defaultValue\": {\n        \"value\": \"{}\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"object\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"parent\": {\n      \"type\": {\n        \"name\": \"object\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"border\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    }\n  }\n};\n\nif (typeof STORYBOOK_REACT_CLASSES !== \"undefined\") {\n  STORYBOOK_REACT_CLASSES[\"src\\\\components\\\\Sticky\\\\Sticky.js\"] = {\n    name: \"Sticky\",\n    docgenInfo: Sticky.__docgenInfo,\n    path: \"src\\\\components\\\\Sticky\\\\Sticky.js\"\n  };\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Sticky\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/components/Sticky/Sticky.js"],"names":["React","useState","useEffect","useRef","PropTypes","classnames","styles","makeStyles","StickyContext","createContext","Sticky","propTypes","parent","object","top","number","zIndex","border","bool","shadow","nestedClasses","defaultProps","children","classes","name","sticky","setSticky","refObserver","addObserver","current","disconnect","options","root","threshold","IntersectionObserver","entry","intersectionRatio","observe","document","querySelector","elemStyles","classesSticky","Boolean","rootSticky","classesBorder","borderVisible","observer"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\n\r\n// app\r\nimport styles from './Sticky.styles';\r\n\r\n// mui\r\nimport { makeStyles } from '@material-ui/core';\r\n\r\n// context\r\nexport const StickyContext = React.createContext({});\r\n\r\nSticky.propTypes = {\r\n  parent: PropTypes.object,\r\n  top: PropTypes.number,\r\n  zIndex: PropTypes.number,\r\n  border: PropTypes.bool,\r\n  shadow: PropTypes.bool,\r\n  nestedClasses: PropTypes.object,\r\n};\r\n\r\nSticky.defaultProps = {\r\n  top: 0,\r\n  zIndex: 3,\r\n  shadow: true,\r\n  nestedClasses: {},\r\n};\r\n\r\nexport default function Sticky({ parent, top, zIndex, border, shadow, children, nestedClasses }) {\r\n  const classes = makeStyles(styles, { name: 'Sticky' })();\r\n\r\n  const [sticky, setSticky] = useState(false);\r\n  const refObserver = useRef(null);\r\n\r\n  useEffect(\r\n    () => {\r\n      addObserver();\r\n\r\n      // cleanup\r\n      return () => {\r\n        refObserver.current.disconnect();\r\n      };\r\n    },\r\n    [] // eslint-disable-line react-hooks/exhaustive-deps\r\n  );\r\n\r\n  useEffect(\r\n    () => {\r\n      if (top) {\r\n        addObserver();\r\n      }\r\n    },\r\n    [top] // eslint-disable-line react-hooks/exhaustive-deps\r\n  );\r\n\r\n  const addObserver = () => {\r\n    const options = {\r\n      root: parent || null,\r\n      threshold: 1,\r\n    };\r\n\r\n    // disconnect any previous observer\r\n    if (refObserver.current) {\r\n      refObserver.current.disconnect();\r\n    }\r\n\r\n    refObserver.current = new IntersectionObserver(([entry]) => {\r\n      if (entry.intersectionRatio < 1) {\r\n        setSticky(true);\r\n      } else {\r\n        setSticky(false);\r\n      }\r\n    }, options);\r\n\r\n    refObserver.current.observe(document.querySelector('.sticky-observer'));\r\n  };\r\n\r\n  const elemStyles = {\r\n    top: top,\r\n    zIndex: zIndex,\r\n  };\r\n\r\n  const classesSticky = {\r\n    [classes.root]: true,\r\n    [classes.shadow]: sticky && shadow,\r\n    [nestedClasses.root]: Boolean(nestedClasses.root),\r\n    [nestedClasses.rootSticky]: sticky && Boolean(nestedClasses.rootSticky),\r\n  };\r\n\r\n  const classesBorder = {\r\n    [classes.border]: true,\r\n    [classes.borderVisible]: border && sticky,\r\n  };\r\n\r\n  return (\r\n    <StickyContext.Provider value={{ sticky }}>\r\n      <div className={classnames(classesSticky)} style={elemStyles}>\r\n        <div className={classnames(['sticky-observer', classes.observer])} style={{ top: -(top + 2) }} />\r\n        {children}\r\n        {border && <div className={classnames(classesBorder)} />}\r\n      </div>\r\n    </StickyContext.Provider>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}