{"ast":null,"code":"import _defineProperty from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\PlacementSummary\\\\PlacementSummary.js\";\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport classnames from 'classnames';\nimport kebabCase from 'lodash/kebabCase'; // app\n\nimport styles from './PlacementSummary.styles';\nimport { selectIsBroker } from 'stores';\nimport { AvatarGroup, Summary, Info, SeparatedList, Translate, DocumentAutoUpload, PopoverMenu } from 'components';\nimport { LayerAccordion, PolicyAccordion } from 'modules';\nimport * as utils from 'utils';\nimport config from 'config'; // mui\n\nimport { withStyles, Collapse, Fade } from '@material-ui/core';\nimport ApartmentIcon from '@material-ui/icons/Apartment';\nimport TodayIcon from '@material-ui/icons/Today';\nimport PeopleIcon from '@material-ui/icons/People';\nimport AddIcon from '@material-ui/icons/Add';\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\nimport uniqBy from 'lodash/uniqBy';\nimport * as constants from '../../consts'; // state\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    referenceDataDepartments: state.referenceData.departments,\n    referenceDataStatusesPlacement: state.referenceData.statuses.placement,\n    isBroker: selectIsBroker(state)\n  };\n};\n\nexport var PlacementSummary = /*#__PURE__*/function (_PureComponent) {\n  _inherits(PlacementSummary, _PureComponent);\n\n  var _super = _createSuper(PlacementSummary);\n\n  function PlacementSummary() {\n    var _this;\n\n    _classCallCheck(this, PlacementSummary);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.renderSummaryActions = function () {\n      var _this$props = _this.props,\n          showActions = _this$props.showActions,\n          placement = _this$props.placement,\n          isBroker = _this$props.isBroker;\n\n      if (showActions) {\n        var items = [];\n        utils.placement.isPhysicalLoss(placement) && items.push({\n          id: 'overview',\n          label: utils.string.t('placement.overview.title'),\n          linkTo: \"\".concat(config.routes.placement.overview, \"/\").concat(placement.id)\n        });\n        items.push({\n          id: 'marketing',\n          label: utils.string.t('placement.marketing.title'),\n          linkTo: \"\".concat(config.routes.placement.marketing.markets, \"/\").concat(placement.id)\n        });\n        isBroker && items.push({\n          id: 'modelling',\n          label: utils.string.t('placement.modelling.title'),\n          linkTo: \"\".concat(config.routes.placement.modelling, \"/\").concat(placement.id)\n        });\n        isBroker && items.push({\n          id: 'openingMemo',\n          label: utils.string.t('placement.openingMemo.title'),\n          linkTo: \"\".concat(config.routes.placement.checklist, \"/\").concat(placement.id)\n        });\n        items.push({\n          id: 'documents',\n          label: utils.string.t('placement.document.title'),\n          linkTo: \"\".concat(config.routes.placement.documents, \"/\").concat(placement.id)\n        });\n        return /*#__PURE__*/_jsxDEV(PopoverMenu, {\n          color: \"primary\",\n          size: \"small\",\n          anchorOrigin: {\n            vertical: 'bottom',\n            horizontal: 'center'\n          },\n          transformOrigin: {\n            vertical: 'top',\n            horizontal: 'center'\n          },\n          id: \"summary-actions\",\n          items: items\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }, _assertThisInitialized(_this));\n      }\n\n      return null;\n    };\n\n    _this.renderSummaryInfos = function () {\n      var _classesBoxes;\n\n      var _this$props2 = _this.props,\n          placement = _this$props2.placement,\n          users = _this$props2.users,\n          classes = _this$props2.classes;\n      var _placement$locations = placement.locations,\n          locations = _placement$locations === void 0 ? [] : _placement$locations;\n      var hasLocations = locations && locations.length > 0;\n      var clients = utils.placement.getClients(placement).map(function (client, index) {\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: classes.clients,\n          children: client\n        }, \"\".concat(kebabCase(client), \"-\").concat(index), false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 9\n        }, _assertThisInitialized(_this));\n      });\n      var brokers = utils.users.getBrokers(users, {\n        gxbUsersIncluded: true\n      });\n      var cobrokersPlacement = utils.users.getCobrokers(users);\n      var cobrokersOffice = utils.placement.getOfficeCobrokers(placement);\n      var cobrokers = uniqBy([].concat(_toConsumableArray(cobrokersPlacement), _toConsumableArray(cobrokersOffice)));\n      var classesBoxes = (_classesBoxes = {}, _defineProperty(_classesBoxes, classes.boxes, true), _defineProperty(_classesBoxes, classes.boxesEmpty, !hasLocations), _classesBoxes);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classnames(classes.info),\n        children: [placement.clients && placement.clients.length > 0 && /*#__PURE__*/_jsxDEV(Info, {\n          title: utils.string.t('app.client', {\n            count: placement.clients.length\n          }),\n          avatarIcon: ApartmentIcon,\n          description: clients,\n          nestedClasses: {\n            root: classes.boxes\n          },\n          \"data-testid\": \"summary-clients\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, _assertThisInitialized(_this)), placement.inceptionDate && /*#__PURE__*/_jsxDEV(Info, {\n          title: utils.string.t('app.inceptionDate'),\n          avatarIcon: TodayIcon,\n          description: /*#__PURE__*/_jsxDEV(Translate, {\n            label: \"format.date\",\n            options: {\n              value: {\n                date: placement.inceptionDate,\n                format: config.ui.format.date.text\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, _assertThisInitialized(_this)),\n          nestedClasses: {\n            root: classes.boxes\n          },\n          \"data-testid\": \"summary-inceptiondate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, _assertThisInitialized(_this)), brokers && brokers.length > 0 && /*#__PURE__*/_jsxDEV(Info, {\n          title: utils.string.t('app.broker', {\n            count: brokers.length\n          }),\n          avatarIcon: PeopleIcon,\n          content: /*#__PURE__*/_jsxDEV(AvatarGroup, {\n            users: brokers,\n            max: 3,\n            testid: \"summary-brokers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 22\n          }, _assertThisInitialized(_this)),\n          nestedClasses: {\n            root: classes.boxes\n          },\n          \"data-testid\": \"summary-brokers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, _assertThisInitialized(_this)), cobrokers && cobrokers.length > 0 && /*#__PURE__*/_jsxDEV(Info, {\n          title: utils.string.t('app.cobroker', {\n            count: cobrokers.length\n          }),\n          avatarIcon: PeopleIcon,\n          content: /*#__PURE__*/_jsxDEV(AvatarGroup, {\n            users: cobrokers,\n            max: 3,\n            testid: \"summary-cobrokers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 22\n          }, _assertThisInitialized(_this)),\n          nestedClasses: {\n            root: classes.boxes\n          },\n          \"data-testid\": \"summary-cobrokers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, _assertThisInitialized(_this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classnames(classesBoxes),\n          children: /*#__PURE__*/_jsxDEV(Fade, {\n            in: hasLocations,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Collapse, {\n                in: hasLocations,\n                children: /*#__PURE__*/_jsxDEV(Info, {\n                  title: utils.string.t('app.totalInsurableValue'),\n                  avatarIcon: AddIcon,\n                  description: /*#__PURE__*/_jsxDEV(Translate, {\n                    label: \"format.currency\",\n                    options: {\n                      value: {\n                        number: utils.location.getTiv(locations),\n                        currency: 'USD'\n                      }\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 21\n                  }, _assertThisInitialized(_this)),\n                  \"data-testid\": \"summary-locations-tiv\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 17\n                }, _assertThisInitialized(_this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 15\n              }, _assertThisInitialized(_this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 13\n            }, _assertThisInitialized(_this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 11\n          }, _assertThisInitialized(_this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 9\n        }, _assertThisInitialized(_this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classnames(classesBoxes),\n          children: /*#__PURE__*/_jsxDEV(Fade, {\n            in: hasLocations,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Collapse, {\n                in: hasLocations,\n                children: /*#__PURE__*/_jsxDEV(Info, {\n                  title: utils.string.t('app.locationsCount'),\n                  avatarIcon: LocationOnIcon,\n                  description: locations.length,\n                  \"data-testid\": \"summary-locations-count\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 17\n                }, _assertThisInitialized(_this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 15\n              }, _assertThisInitialized(_this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 13\n            }, _assertThisInitialized(_this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 11\n          }, _assertThisInitialized(_this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 9\n        }, _assertThisInitialized(_this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 7\n      }, _assertThisInitialized(_this));\n    };\n\n    return _this;\n  }\n\n  _createClass(PlacementSummary, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          placement = _this$props3.placement,\n          showToggle = _this$props3.showToggle,\n          expanded = _this$props3.expanded,\n          expandToggle = _this$props3.expandToggle,\n          collapseActions = _this$props3.collapseActions,\n          collapseTitle = _this$props3.collapseTitle,\n          collapseSubtitle = _this$props3.collapseSubtitle,\n          collapseDescription = _this$props3.collapseDescription,\n          collapseContent = _this$props3.collapseContent,\n          handleExpand = _this$props3.handleExpand,\n          handleClickExpand = _this$props3.handleClickExpand,\n          isBroker = _this$props3.isBroker,\n          referenceDataDepartments = _this$props3.referenceDataDepartments,\n          referenceDataStatusesPlacement = _this$props3.referenceDataStatusesPlacement,\n          testid = _this$props3.testid; // abort\n\n      if (!placement || !placement.id) return null;\n      var department = utils.referenceData.departments.getById(referenceDataDepartments, placement.departmentId) || {};\n      var statusBoundId = utils.referenceData.status.getIdByCode(referenceDataStatusesPlacement, constants.STATUS_PLACEMENT_BOUND);\n      var statusLabel = utils.referenceData.status.getLabelById(referenceDataStatusesPlacement, placement.statusId);\n      var isBound = utils.placement.isBound(placement, statusBoundId);\n      return /*#__PURE__*/_jsxDEV(Summary, {\n        status: statusLabel,\n        title: /*#__PURE__*/_jsxDEV(SeparatedList, {\n          list: placement.insureds,\n          flag: \"isProvisional\",\n          flagSize: \"80%\",\n          flagIcon: InfoOutlinedIcon,\n          flagTooltip: /*#__PURE__*/_jsxDEV(Translate, {\n            label: \"renewals.provisionalInsuredTooltip\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 26\n          }, this),\n          hover: true,\n          hoverWeight: \"regular\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this),\n        subtitle: department.name,\n        description: placement.description,\n        actions: this.renderSummaryActions(),\n        infos: this.renderSummaryInfos(),\n        showToggle: showToggle,\n        expanded: expanded,\n        expandToggle: expandToggle,\n        collapseActions: collapseActions,\n        collapseTitle: collapseTitle,\n        collapseSubtitle: collapseSubtitle,\n        collapseDescription: collapseDescription,\n        collapseContent: collapseContent,\n        handleExpand: handleExpand,\n        handleClickExpand: handleClickExpand,\n        testid: testid,\n        children: [isBound ? /*#__PURE__*/_jsxDEV(PolicyAccordion, {\n          placement: placement\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 20\n        }, this) : /*#__PURE__*/_jsxDEV(LayerAccordion, {\n          placement: placement\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 64\n        }, this), isBroker && expanded !== false && /*#__PURE__*/_jsxDEV(DocumentAutoUpload, {\n          divider: true,\n          link: \"\".concat(config.routes.placement.documents, \"/\").concat(placement.id),\n          placement: placement\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return PlacementSummary;\n}(PureComponent);\nPlacementSummary.propTypes = {\n  placement: PropTypes.object,\n  users: PropTypes.array,\n  showActions: PropTypes.bool,\n  showToggle: PropTypes.bool,\n  expanded: PropTypes.bool,\n  expandedToggle: PropTypes.oneOf(['btn', 'card']),\n  collapseActions: PropTypes.bool,\n  collapseTitle: PropTypes.bool,\n  collapseSubtitle: PropTypes.bool,\n  collapseDescription: PropTypes.bool,\n  collapseContent: PropTypes.bool,\n  handleExpand: PropTypes.func,\n  handleClickExpand: PropTypes.func,\n  testid: PropTypes.string\n};\nexport default compose(connect(mapStateToProps, null), withStyles(styles))(PlacementSummary);","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/PlacementSummary/PlacementSummary.js"],"names":["React","PureComponent","PropTypes","connect","compose","classnames","kebabCase","styles","selectIsBroker","AvatarGroup","Summary","Info","SeparatedList","Translate","DocumentAutoUpload","PopoverMenu","LayerAccordion","PolicyAccordion","utils","config","withStyles","Collapse","Fade","ApartmentIcon","TodayIcon","PeopleIcon","AddIcon","LocationOnIcon","InfoOutlinedIcon","uniqBy","constants","mapStateToProps","state","referenceDataDepartments","referenceData","departments","referenceDataStatusesPlacement","statuses","placement","isBroker","PlacementSummary","renderSummaryActions","props","showActions","items","isPhysicalLoss","push","id","label","string","t","linkTo","routes","overview","marketing","markets","modelling","checklist","documents","vertical","horizontal","renderSummaryInfos","users","classes","locations","hasLocations","length","clients","getClients","map","client","index","brokers","getBrokers","gxbUsersIncluded","cobrokersPlacement","getCobrokers","cobrokersOffice","getOfficeCobrokers","cobrokers","classesBoxes","boxes","boxesEmpty","info","count","root","inceptionDate","value","date","format","ui","text","number","location","getTiv","currency","showToggle","expanded","expandToggle","collapseActions","collapseTitle","collapseSubtitle","collapseDescription","collapseContent","handleExpand","handleClickExpand","testid","department","getById","departmentId","statusBoundId","status","getIdByCode","STATUS_PLACEMENT_BOUND","statusLabel","getLabelById","statusId","isBound","insureds","name","description","propTypes","object","array","bool","expandedToggle","oneOf","func"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,SAAP,MAAsB,kBAAtB,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,SAASC,cAAT,QAA+B,QAA/B;AACA,SAASC,WAAT,EAAsBC,OAAtB,EAA+BC,IAA/B,EAAqCC,aAArC,EAAoDC,SAApD,EAA+DC,kBAA/D,EAAmFC,WAAnF,QAAsG,YAAtG;AACA,SAASC,cAAT,EAAyBC,eAAzB,QAAgD,SAAhD;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,OAAOC,MAAP,MAAmB,QAAnB,C,CAEA;;AACA,SAASC,UAAT,EAAqBC,QAArB,EAA+BC,IAA/B,QAA2C,mBAA3C;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAO,KAAKC,SAAZ,MAA2B,cAA3B,C,CAEA;;;;AACA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD;AAAA,SAAY;AAClCC,IAAAA,wBAAwB,EAAED,KAAK,CAACE,aAAN,CAAoBC,WADZ;AAElCC,IAAAA,8BAA8B,EAAEJ,KAAK,CAACE,aAAN,CAAoBG,QAApB,CAA6BC,SAF3B;AAGlCC,IAAAA,QAAQ,EAAE/B,cAAc,CAACwB,KAAD;AAHU,GAAZ;AAAA,CAAxB;;AAMA,WAAaQ,gBAAb;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA,UAkBEC,oBAlBF,GAkByB,YAAM;AAAA,wBACkB,MAAKC,KADvB;AAAA,UACnBC,WADmB,eACnBA,WADmB;AAAA,UACNL,SADM,eACNA,SADM;AAAA,UACKC,QADL,eACKA,QADL;;AAG3B,UAAII,WAAJ,EAAiB;AACf,YAAMC,KAAK,GAAG,EAAd;AAEA1B,QAAAA,KAAK,CAACoB,SAAN,CAAgBO,cAAhB,CAA+BP,SAA/B,KACEM,KAAK,CAACE,IAAN,CAAW;AACTC,UAAAA,EAAE,EAAE,UADK;AAETC,UAAAA,KAAK,EAAE9B,KAAK,CAAC+B,MAAN,CAAaC,CAAb,CAAe,0BAAf,CAFE;AAGTC,UAAAA,MAAM,YAAKhC,MAAM,CAACiC,MAAP,CAAcd,SAAd,CAAwBe,QAA7B,cAAyCf,SAAS,CAACS,EAAnD;AAHG,SAAX,CADF;AAOAH,QAAAA,KAAK,CAACE,IAAN,CAAW;AACTC,UAAAA,EAAE,EAAE,WADK;AAETC,UAAAA,KAAK,EAAE9B,KAAK,CAAC+B,MAAN,CAAaC,CAAb,CAAe,2BAAf,CAFE;AAGTC,UAAAA,MAAM,YAAKhC,MAAM,CAACiC,MAAP,CAAcd,SAAd,CAAwBgB,SAAxB,CAAkCC,OAAvC,cAAkDjB,SAAS,CAACS,EAA5D;AAHG,SAAX;AAMAR,QAAAA,QAAQ,IACNK,KAAK,CAACE,IAAN,CAAW;AACTC,UAAAA,EAAE,EAAE,WADK;AAETC,UAAAA,KAAK,EAAE9B,KAAK,CAAC+B,MAAN,CAAaC,CAAb,CAAe,2BAAf,CAFE;AAGTC,UAAAA,MAAM,YAAKhC,MAAM,CAACiC,MAAP,CAAcd,SAAd,CAAwBkB,SAA7B,cAA0ClB,SAAS,CAACS,EAApD;AAHG,SAAX,CADF;AAOAR,QAAAA,QAAQ,IACNK,KAAK,CAACE,IAAN,CAAW;AACTC,UAAAA,EAAE,EAAE,aADK;AAETC,UAAAA,KAAK,EAAE9B,KAAK,CAAC+B,MAAN,CAAaC,CAAb,CAAe,6BAAf,CAFE;AAGTC,UAAAA,MAAM,YAAKhC,MAAM,CAACiC,MAAP,CAAcd,SAAd,CAAwBmB,SAA7B,cAA0CnB,SAAS,CAACS,EAApD;AAHG,SAAX,CADF;AAOAH,QAAAA,KAAK,CAACE,IAAN,CAAW;AACTC,UAAAA,EAAE,EAAE,WADK;AAETC,UAAAA,KAAK,EAAE9B,KAAK,CAAC+B,MAAN,CAAaC,CAAb,CAAe,0BAAf,CAFE;AAGTC,UAAAA,MAAM,YAAKhC,MAAM,CAACiC,MAAP,CAAcd,SAAd,CAAwBoB,SAA7B,cAA0CpB,SAAS,CAACS,EAApD;AAHG,SAAX;AAMA,4BACE,QAAC,WAAD;AACE,UAAA,KAAK,EAAC,SADR;AAEE,UAAA,IAAI,EAAC,OAFP;AAGE,UAAA,YAAY,EAAE;AACZY,YAAAA,QAAQ,EAAE,QADE;AAEZC,YAAAA,UAAU,EAAE;AAFA,WAHhB;AAOE,UAAA,eAAe,EAAE;AACfD,YAAAA,QAAQ,EAAE,KADK;AAEfC,YAAAA,UAAU,EAAE;AAFG,WAPnB;AAWE,UAAA,EAAE,EAAC,iBAXL;AAYE,UAAA,KAAK,EAAEhB;AAZT;AAAA;AAAA;AAAA;AAAA,yCADF;AAgBD;;AAED,aAAO,IAAP;AACD,KA5EH;;AAAA,UA8EEiB,kBA9EF,GA8EuB,YAAM;AAAA;;AAAA,yBACa,MAAKnB,KADlB;AAAA,UACjBJ,SADiB,gBACjBA,SADiB;AAAA,UACNwB,KADM,gBACNA,KADM;AAAA,UACCC,OADD,gBACCA,OADD;AAAA,iCAEEzB,SAFF,CAEjB0B,SAFiB;AAAA,UAEjBA,SAFiB,qCAEL,EAFK;AAIzB,UAAMC,YAAY,GAAGD,SAAS,IAAIA,SAAS,CAACE,MAAV,GAAmB,CAArD;AAEA,UAAMC,OAAO,GAAGjD,KAAK,CAACoB,SAAN,CAAgB8B,UAAhB,CAA2B9B,SAA3B,EAAsC+B,GAAtC,CAA0C,UAACC,MAAD,EAASC,KAAT,EAAmB;AAC3E,4BACE;AAA4C,UAAA,SAAS,EAAER,OAAO,CAACI,OAA/D;AAAA,oBACGG;AADH,qBAAchE,SAAS,CAACgE,MAAD,CAAvB,cAAmCC,KAAnC;AAAA;AAAA;AAAA;AAAA,yCADF;AAKD,OANe,CAAhB;AAQA,UAAMC,OAAO,GAAGtD,KAAK,CAAC4C,KAAN,CAAYW,UAAZ,CAAuBX,KAAvB,EAA8B;AAAEY,QAAAA,gBAAgB,EAAE;AAApB,OAA9B,CAAhB;AACA,UAAMC,kBAAkB,GAAGzD,KAAK,CAAC4C,KAAN,CAAYc,YAAZ,CAAyBd,KAAzB,CAA3B;AACA,UAAMe,eAAe,GAAG3D,KAAK,CAACoB,SAAN,CAAgBwC,kBAAhB,CAAmCxC,SAAnC,CAAxB;AACA,UAAMyC,SAAS,GAAGlD,MAAM,8BAAK8C,kBAAL,sBAA4BE,eAA5B,GAAxB;AAEA,UAAMG,YAAY,uDACfjB,OAAO,CAACkB,KADO,EACC,IADD,kCAEflB,OAAO,CAACmB,UAFO,EAEM,CAACjB,YAFP,iBAAlB;AAKA,0BACE;AAAK,QAAA,SAAS,EAAE5D,UAAU,CAAC0D,OAAO,CAACoB,IAAT,CAA1B;AAAA,mBACG7C,SAAS,CAAC6B,OAAV,IAAqB7B,SAAS,CAAC6B,OAAV,CAAkBD,MAAlB,GAA2B,CAAhD,iBACC,QAAC,IAAD;AACE,UAAA,KAAK,EAAEhD,KAAK,CAAC+B,MAAN,CAAaC,CAAb,CAAe,YAAf,EAA6B;AAAEkC,YAAAA,KAAK,EAAE9C,SAAS,CAAC6B,OAAV,CAAkBD;AAA3B,WAA7B,CADT;AAEE,UAAA,UAAU,EAAE3C,aAFd;AAGE,UAAA,WAAW,EAAE4C,OAHf;AAIE,UAAA,aAAa,EAAE;AAAEkB,YAAAA,IAAI,EAAEtB,OAAO,CAACkB;AAAhB,WAJjB;AAKE,yBAAY;AALd;AAAA;AAAA;AAAA;AAAA,yCAFJ,EAWG3C,SAAS,CAACgD,aAAV,iBACC,QAAC,IAAD;AACE,UAAA,KAAK,EAAEpE,KAAK,CAAC+B,MAAN,CAAaC,CAAb,CAAe,mBAAf,CADT;AAEE,UAAA,UAAU,EAAE1B,SAFd;AAGE,UAAA,WAAW,eACT,QAAC,SAAD;AAAW,YAAA,KAAK,EAAC,aAAjB;AAA+B,YAAA,OAAO,EAAE;AAAE+D,cAAAA,KAAK,EAAE;AAAEC,gBAAAA,IAAI,EAAElD,SAAS,CAACgD,aAAlB;AAAiCG,gBAAAA,MAAM,EAAEtE,MAAM,CAACuE,EAAP,CAAUD,MAAV,CAAiBD,IAAjB,CAAsBG;AAA/D;AAAT;AAAxC;AAAA;AAAA;AAAA;AAAA,2CAJJ;AAME,UAAA,aAAa,EAAE;AAAEN,YAAAA,IAAI,EAAEtB,OAAO,CAACkB;AAAhB,WANjB;AAOE,yBAAY;AAPd;AAAA;AAAA;AAAA;AAAA,yCAZJ,EAuBGT,OAAO,IAAIA,OAAO,CAACN,MAAR,GAAiB,CAA5B,iBACC,QAAC,IAAD;AACE,UAAA,KAAK,EAAEhD,KAAK,CAAC+B,MAAN,CAAaC,CAAb,CAAe,YAAf,EAA6B;AAAEkC,YAAAA,KAAK,EAAEZ,OAAO,CAACN;AAAjB,WAA7B,CADT;AAEE,UAAA,UAAU,EAAEzC,UAFd;AAGE,UAAA,OAAO,eAAE,QAAC,WAAD;AAAa,YAAA,KAAK,EAAE+C,OAApB;AAA6B,YAAA,GAAG,EAAE,CAAlC;AAAqC,YAAA,MAAM,EAAC;AAA5C;AAAA;AAAA;AAAA;AAAA,2CAHX;AAIE,UAAA,aAAa,EAAE;AAAEa,YAAAA,IAAI,EAAEtB,OAAO,CAACkB;AAAhB,WAJjB;AAKE,yBAAY;AALd;AAAA;AAAA;AAAA;AAAA,yCAxBJ,EAiCGF,SAAS,IAAIA,SAAS,CAACb,MAAV,GAAmB,CAAhC,iBACC,QAAC,IAAD;AACE,UAAA,KAAK,EAAEhD,KAAK,CAAC+B,MAAN,CAAaC,CAAb,CAAe,cAAf,EAA+B;AAAEkC,YAAAA,KAAK,EAAEL,SAAS,CAACb;AAAnB,WAA/B,CADT;AAEE,UAAA,UAAU,EAAEzC,UAFd;AAGE,UAAA,OAAO,eAAE,QAAC,WAAD;AAAa,YAAA,KAAK,EAAEsD,SAApB;AAA+B,YAAA,GAAG,EAAE,CAApC;AAAuC,YAAA,MAAM,EAAC;AAA9C;AAAA;AAAA;AAAA;AAAA,2CAHX;AAIE,UAAA,aAAa,EAAE;AAAEM,YAAAA,IAAI,EAAEtB,OAAO,CAACkB;AAAhB,WAJjB;AAKE,yBAAY;AALd;AAAA;AAAA;AAAA;AAAA,yCAlCJ,eA2CE;AAAK,UAAA,SAAS,EAAE5E,UAAU,CAAC2E,YAAD,CAA1B;AAAA,iCACE,QAAC,IAAD;AAAM,YAAA,EAAE,EAAEf,YAAV;AAAA,mCACE;AAAA,qCACE,QAAC,QAAD;AAAU,gBAAA,EAAE,EAAEA,YAAd;AAAA,uCACE,QAAC,IAAD;AACE,kBAAA,KAAK,EAAE/C,KAAK,CAAC+B,MAAN,CAAaC,CAAb,CAAe,yBAAf,CADT;AAEE,kBAAA,UAAU,EAAExB,OAFd;AAGE,kBAAA,WAAW,eACT,QAAC,SAAD;AAAW,oBAAA,KAAK,EAAC,iBAAjB;AAAmC,oBAAA,OAAO,EAAE;AAAE6D,sBAAAA,KAAK,EAAE;AAAEK,wBAAAA,MAAM,EAAE1E,KAAK,CAAC2E,QAAN,CAAeC,MAAf,CAAsB9B,SAAtB,CAAV;AAA4C+B,wBAAAA,QAAQ,EAAE;AAAtD;AAAT;AAA5C;AAAA;AAAA;AAAA;AAAA,mDAJJ;AAME,iCAAY;AANd;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,yCA3CF,eA4DE;AAAK,UAAA,SAAS,EAAE1F,UAAU,CAAC2E,YAAD,CAA1B;AAAA,iCACE,QAAC,IAAD;AAAM,YAAA,EAAE,EAAEf,YAAV;AAAA,mCACE;AAAA,qCACE,QAAC,QAAD;AAAU,gBAAA,EAAE,EAAEA,YAAd;AAAA,uCACE,QAAC,IAAD;AACE,kBAAA,KAAK,EAAE/C,KAAK,CAAC+B,MAAN,CAAaC,CAAb,CAAe,oBAAf,CADT;AAEE,kBAAA,UAAU,EAAEvB,cAFd;AAGE,kBAAA,WAAW,EAAEqC,SAAS,CAACE,MAHzB;AAIE,iCAAY;AAJd;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,yCA5DF;AAAA;AAAA;AAAA;AAAA;AAAA,uCADF;AA6ED,KAnLH;;AAAA;AAAA;;AAAA;AAAA;AAAA,WAqLE,kBAAS;AAAA,yBAiBH,KAAKxB,KAjBF;AAAA,UAELJ,SAFK,gBAELA,SAFK;AAAA,UAGL0D,UAHK,gBAGLA,UAHK;AAAA,UAILC,QAJK,gBAILA,QAJK;AAAA,UAKLC,YALK,gBAKLA,YALK;AAAA,UAMLC,eANK,gBAMLA,eANK;AAAA,UAOLC,aAPK,gBAOLA,aAPK;AAAA,UAQLC,gBARK,gBAQLA,gBARK;AAAA,UASLC,mBATK,gBASLA,mBATK;AAAA,UAULC,eAVK,gBAULA,eAVK;AAAA,UAWLC,YAXK,gBAWLA,YAXK;AAAA,UAYLC,iBAZK,gBAYLA,iBAZK;AAAA,UAaLlE,QAbK,gBAaLA,QAbK;AAAA,UAcLN,wBAdK,gBAcLA,wBAdK;AAAA,UAeLG,8BAfK,gBAeLA,8BAfK;AAAA,UAgBLsE,MAhBK,gBAgBLA,MAhBK,EAmBP;;AACA,UAAI,CAACpE,SAAD,IAAc,CAACA,SAAS,CAACS,EAA7B,EAAiC,OAAO,IAAP;AAEjC,UAAM4D,UAAU,GAAGzF,KAAK,CAACgB,aAAN,CAAoBC,WAApB,CAAgCyE,OAAhC,CAAwC3E,wBAAxC,EAAkEK,SAAS,CAACuE,YAA5E,KAA6F,EAAhH;AACA,UAAMC,aAAa,GAAG5F,KAAK,CAACgB,aAAN,CAAoB6E,MAApB,CAA2BC,WAA3B,CAAuC5E,8BAAvC,EAAuEN,SAAS,CAACmF,sBAAjF,CAAtB;AACA,UAAMC,WAAW,GAAGhG,KAAK,CAACgB,aAAN,CAAoB6E,MAApB,CAA2BI,YAA3B,CAAwC/E,8BAAxC,EAAwEE,SAAS,CAAC8E,QAAlF,CAApB;AACA,UAAMC,OAAO,GAAGnG,KAAK,CAACoB,SAAN,CAAgB+E,OAAhB,CAAwB/E,SAAxB,EAAmCwE,aAAnC,CAAhB;AAEA,0BACE,QAAC,OAAD;AACE,QAAA,MAAM,EAAEI,WADV;AAEE,QAAA,KAAK,eACH,QAAC,aAAD;AACE,UAAA,IAAI,EAAE5E,SAAS,CAACgF,QADlB;AAEE,UAAA,IAAI,EAAC,eAFP;AAGE,UAAA,QAAQ,EAAC,KAHX;AAIE,UAAA,QAAQ,EAAE1F,gBAJZ;AAKE,UAAA,WAAW,eAAE,QAAC,SAAD;AAAW,YAAA,KAAK,EAAC;AAAjB;AAAA;AAAA;AAAA;AAAA,kBALf;AAME,UAAA,KAAK,MANP;AAOE,UAAA,WAAW,EAAC;AAPd;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAaE,QAAA,QAAQ,EAAE+E,UAAU,CAACY,IAbvB;AAcE,QAAA,WAAW,EAAEjF,SAAS,CAACkF,WAdzB;AAeE,QAAA,OAAO,EAAE,KAAK/E,oBAAL,EAfX;AAgBE,QAAA,KAAK,EAAE,KAAKoB,kBAAL,EAhBT;AAiBE,QAAA,UAAU,EAAEmC,UAjBd;AAkBE,QAAA,QAAQ,EAAEC,QAlBZ;AAmBE,QAAA,YAAY,EAAEC,YAnBhB;AAoBE,QAAA,eAAe,EAAEC,eApBnB;AAqBE,QAAA,aAAa,EAAEC,aArBjB;AAsBE,QAAA,gBAAgB,EAAEC,gBAtBpB;AAuBE,QAAA,mBAAmB,EAAEC,mBAvBvB;AAwBE,QAAA,eAAe,EAAEC,eAxBnB;AAyBE,QAAA,YAAY,EAAEC,YAzBhB;AA0BE,QAAA,iBAAiB,EAAEC,iBA1BrB;AA2BE,QAAA,MAAM,EAAEC,MA3BV;AAAA,mBA6BGW,OAAO,gBAAG,QAAC,eAAD;AAAiB,UAAA,SAAS,EAAE/E;AAA5B;AAAA;AAAA;AAAA;AAAA,gBAAH,gBAA+C,QAAC,cAAD;AAAgB,UAAA,SAAS,EAAEA;AAA3B;AAAA;AAAA;AAAA;AAAA,gBA7BzD,EA8BGC,QAAQ,IAAI0D,QAAQ,KAAK,KAAzB,iBACC,QAAC,kBAAD;AAAoB,UAAA,OAAO,EAAE,IAA7B;AAAmC,UAAA,IAAI,YAAK9E,MAAM,CAACiC,MAAP,CAAcd,SAAd,CAAwBoB,SAA7B,cAA0CpB,SAAS,CAACS,EAApD,CAAvC;AAAiG,UAAA,SAAS,EAAET;AAA5G;AAAA;AAAA;AAAA;AAAA,gBA/BJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAoCD;AApPH;;AAAA;AAAA,EAAsCrC,aAAtC;AAAauC,gB,CACJiF,S,GAAY;AACjBnF,EAAAA,SAAS,EAAEpC,SAAS,CAACwH,MADJ;AAEjB5D,EAAAA,KAAK,EAAE5D,SAAS,CAACyH,KAFA;AAGjBhF,EAAAA,WAAW,EAAEzC,SAAS,CAAC0H,IAHN;AAIjB5B,EAAAA,UAAU,EAAE9F,SAAS,CAAC0H,IAJL;AAKjB3B,EAAAA,QAAQ,EAAE/F,SAAS,CAAC0H,IALH;AAMjBC,EAAAA,cAAc,EAAE3H,SAAS,CAAC4H,KAAV,CAAgB,CAAC,KAAD,EAAQ,MAAR,CAAhB,CANC;AAOjB3B,EAAAA,eAAe,EAAEjG,SAAS,CAAC0H,IAPV;AAQjBxB,EAAAA,aAAa,EAAElG,SAAS,CAAC0H,IARR;AASjBvB,EAAAA,gBAAgB,EAAEnG,SAAS,CAAC0H,IATX;AAUjBtB,EAAAA,mBAAmB,EAAEpG,SAAS,CAAC0H,IAVd;AAWjBrB,EAAAA,eAAe,EAAErG,SAAS,CAAC0H,IAXV;AAYjBpB,EAAAA,YAAY,EAAEtG,SAAS,CAAC6H,IAZP;AAajBtB,EAAAA,iBAAiB,EAAEvG,SAAS,CAAC6H,IAbZ;AAcjBrB,EAAAA,MAAM,EAAExG,SAAS,CAAC+C;AAdD,C;AAsPrB,eAAe7C,OAAO,CAACD,OAAO,CAAC4B,eAAD,EAAkB,IAAlB,CAAR,EAAiCX,UAAU,CAACb,MAAD,CAA3C,CAAP,CAA4DiC,gBAA5D,CAAf","sourcesContent":["import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport classnames from 'classnames';\r\nimport kebabCase from 'lodash/kebabCase';\r\n\r\n// app\r\nimport styles from './PlacementSummary.styles';\r\nimport { selectIsBroker } from 'stores';\r\nimport { AvatarGroup, Summary, Info, SeparatedList, Translate, DocumentAutoUpload, PopoverMenu } from 'components';\r\nimport { LayerAccordion, PolicyAccordion } from 'modules';\r\nimport * as utils from 'utils';\r\nimport config from 'config';\r\n\r\n// mui\r\nimport { withStyles, Collapse, Fade } from '@material-ui/core';\r\nimport ApartmentIcon from '@material-ui/icons/Apartment';\r\nimport TodayIcon from '@material-ui/icons/Today';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\r\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\r\nimport uniqBy from 'lodash/uniqBy';\r\nimport * as constants from '../../consts';\r\n\r\n// state\r\nconst mapStateToProps = (state) => ({\r\n  referenceDataDepartments: state.referenceData.departments,\r\n  referenceDataStatusesPlacement: state.referenceData.statuses.placement,\r\n  isBroker: selectIsBroker(state),\r\n});\r\n\r\nexport class PlacementSummary extends PureComponent {\r\n  static propTypes = {\r\n    placement: PropTypes.object,\r\n    users: PropTypes.array,\r\n    showActions: PropTypes.bool,\r\n    showToggle: PropTypes.bool,\r\n    expanded: PropTypes.bool,\r\n    expandedToggle: PropTypes.oneOf(['btn', 'card']),\r\n    collapseActions: PropTypes.bool,\r\n    collapseTitle: PropTypes.bool,\r\n    collapseSubtitle: PropTypes.bool,\r\n    collapseDescription: PropTypes.bool,\r\n    collapseContent: PropTypes.bool,\r\n    handleExpand: PropTypes.func,\r\n    handleClickExpand: PropTypes.func,\r\n    testid: PropTypes.string,\r\n  };\r\n\r\n  renderSummaryActions = () => {\r\n    const { showActions, placement, isBroker } = this.props;\r\n\r\n    if (showActions) {\r\n      const items = [];\r\n\r\n      utils.placement.isPhysicalLoss(placement) &&\r\n        items.push({\r\n          id: 'overview',\r\n          label: utils.string.t('placement.overview.title'),\r\n          linkTo: `${config.routes.placement.overview}/${placement.id}`,\r\n        });\r\n\r\n      items.push({\r\n        id: 'marketing',\r\n        label: utils.string.t('placement.marketing.title'),\r\n        linkTo: `${config.routes.placement.marketing.markets}/${placement.id}`,\r\n      });\r\n\r\n      isBroker &&\r\n        items.push({\r\n          id: 'modelling',\r\n          label: utils.string.t('placement.modelling.title'),\r\n          linkTo: `${config.routes.placement.modelling}/${placement.id}`,\r\n        });\r\n\r\n      isBroker &&\r\n        items.push({\r\n          id: 'openingMemo',\r\n          label: utils.string.t('placement.openingMemo.title'),\r\n          linkTo: `${config.routes.placement.checklist}/${placement.id}`,\r\n        });\r\n\r\n      items.push({\r\n        id: 'documents',\r\n        label: utils.string.t('placement.document.title'),\r\n        linkTo: `${config.routes.placement.documents}/${placement.id}`,\r\n      });\r\n\r\n      return (\r\n        <PopoverMenu\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'center',\r\n          }}\r\n          transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'center',\r\n          }}\r\n          id=\"summary-actions\"\r\n          items={items}\r\n        />\r\n      );\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  renderSummaryInfos = () => {\r\n    const { placement, users, classes } = this.props;\r\n    const { locations = [] } = placement;\r\n\r\n    const hasLocations = locations && locations.length > 0;\r\n\r\n    const clients = utils.placement.getClients(placement).map((client, index) => {\r\n      return (\r\n        <span key={`${kebabCase(client)}-${index}`} className={classes.clients}>\r\n          {client}\r\n        </span>\r\n      );\r\n    });\r\n\r\n    const brokers = utils.users.getBrokers(users, { gxbUsersIncluded: true });\r\n    const cobrokersPlacement = utils.users.getCobrokers(users);\r\n    const cobrokersOffice = utils.placement.getOfficeCobrokers(placement);\r\n    const cobrokers = uniqBy([...cobrokersPlacement, ...cobrokersOffice]);\r\n\r\n    const classesBoxes = {\r\n      [classes.boxes]: true,\r\n      [classes.boxesEmpty]: !hasLocations,\r\n    };\r\n\r\n    return (\r\n      <div className={classnames(classes.info)}>\r\n        {placement.clients && placement.clients.length > 0 && (\r\n          <Info\r\n            title={utils.string.t('app.client', { count: placement.clients.length })}\r\n            avatarIcon={ApartmentIcon}\r\n            description={clients}\r\n            nestedClasses={{ root: classes.boxes }}\r\n            data-testid=\"summary-clients\"\r\n          />\r\n        )}\r\n\r\n        {placement.inceptionDate && (\r\n          <Info\r\n            title={utils.string.t('app.inceptionDate')}\r\n            avatarIcon={TodayIcon}\r\n            description={\r\n              <Translate label=\"format.date\" options={{ value: { date: placement.inceptionDate, format: config.ui.format.date.text } }} />\r\n            }\r\n            nestedClasses={{ root: classes.boxes }}\r\n            data-testid=\"summary-inceptiondate\"\r\n          />\r\n        )}\r\n\r\n        {brokers && brokers.length > 0 && (\r\n          <Info\r\n            title={utils.string.t('app.broker', { count: brokers.length })}\r\n            avatarIcon={PeopleIcon}\r\n            content={<AvatarGroup users={brokers} max={3} testid=\"summary-brokers\" />}\r\n            nestedClasses={{ root: classes.boxes }}\r\n            data-testid=\"summary-brokers\"\r\n          />\r\n        )}\r\n\r\n        {cobrokers && cobrokers.length > 0 && (\r\n          <Info\r\n            title={utils.string.t('app.cobroker', { count: cobrokers.length })}\r\n            avatarIcon={PeopleIcon}\r\n            content={<AvatarGroup users={cobrokers} max={3} testid=\"summary-cobrokers\" />}\r\n            nestedClasses={{ root: classes.boxes }}\r\n            data-testid=\"summary-cobrokers\"\r\n          />\r\n        )}\r\n\r\n        <div className={classnames(classesBoxes)}>\r\n          <Fade in={hasLocations}>\r\n            <div>\r\n              <Collapse in={hasLocations}>\r\n                <Info\r\n                  title={utils.string.t('app.totalInsurableValue')}\r\n                  avatarIcon={AddIcon}\r\n                  description={\r\n                    <Translate label=\"format.currency\" options={{ value: { number: utils.location.getTiv(locations), currency: 'USD' } }} />\r\n                  }\r\n                  data-testid=\"summary-locations-tiv\"\r\n                />\r\n              </Collapse>\r\n            </div>\r\n          </Fade>\r\n        </div>\r\n\r\n        <div className={classnames(classesBoxes)}>\r\n          <Fade in={hasLocations}>\r\n            <div>\r\n              <Collapse in={hasLocations}>\r\n                <Info\r\n                  title={utils.string.t('app.locationsCount')}\r\n                  avatarIcon={LocationOnIcon}\r\n                  description={locations.length}\r\n                  data-testid=\"summary-locations-count\"\r\n                />\r\n              </Collapse>\r\n            </div>\r\n          </Fade>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      placement,\r\n      showToggle,\r\n      expanded,\r\n      expandToggle,\r\n      collapseActions,\r\n      collapseTitle,\r\n      collapseSubtitle,\r\n      collapseDescription,\r\n      collapseContent,\r\n      handleExpand,\r\n      handleClickExpand,\r\n      isBroker,\r\n      referenceDataDepartments,\r\n      referenceDataStatusesPlacement,\r\n      testid,\r\n    } = this.props;\r\n\r\n    // abort\r\n    if (!placement || !placement.id) return null;\r\n\r\n    const department = utils.referenceData.departments.getById(referenceDataDepartments, placement.departmentId) || {};\r\n    const statusBoundId = utils.referenceData.status.getIdByCode(referenceDataStatusesPlacement, constants.STATUS_PLACEMENT_BOUND);\r\n    const statusLabel = utils.referenceData.status.getLabelById(referenceDataStatusesPlacement, placement.statusId);\r\n    const isBound = utils.placement.isBound(placement, statusBoundId);\r\n\r\n    return (\r\n      <Summary\r\n        status={statusLabel}\r\n        title={\r\n          <SeparatedList\r\n            list={placement.insureds}\r\n            flag=\"isProvisional\"\r\n            flagSize=\"80%\"\r\n            flagIcon={InfoOutlinedIcon}\r\n            flagTooltip={<Translate label=\"renewals.provisionalInsuredTooltip\" />}\r\n            hover\r\n            hoverWeight=\"regular\"\r\n          />\r\n        }\r\n        subtitle={department.name}\r\n        description={placement.description}\r\n        actions={this.renderSummaryActions()}\r\n        infos={this.renderSummaryInfos()}\r\n        showToggle={showToggle}\r\n        expanded={expanded}\r\n        expandToggle={expandToggle}\r\n        collapseActions={collapseActions}\r\n        collapseTitle={collapseTitle}\r\n        collapseSubtitle={collapseSubtitle}\r\n        collapseDescription={collapseDescription}\r\n        collapseContent={collapseContent}\r\n        handleExpand={handleExpand}\r\n        handleClickExpand={handleClickExpand}\r\n        testid={testid}\r\n      >\r\n        {isBound ? <PolicyAccordion placement={placement} /> : <LayerAccordion placement={placement} />}\r\n        {isBroker && expanded !== false && (\r\n          <DocumentAutoUpload divider={true} link={`${config.routes.placement.documents}/${placement.id}`} placement={placement} />\r\n        )}\r\n      </Summary>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, null), withStyles(styles))(PlacementSummary);\r\n"]},"metadata":{},"sourceType":"module"}