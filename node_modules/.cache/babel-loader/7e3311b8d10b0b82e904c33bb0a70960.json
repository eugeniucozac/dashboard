{"ast":null,"code":"import _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\LossesTab\\\\LossesTab.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useForm } from 'react-hook-form';\nimport PropTypes from 'prop-types'; //app\n\nimport { LossesTabView } from './LossesTab.view';\nimport { useFlexiColumns } from 'hooks';\nimport { getSearchLosses, resetClaims, selectClaims, selectClaimsStatuses, updateClaimLossFilters, postClaimsLossFilters, resetClaimLossFilters, getStatuses, selectLossesData, getLossesTabData, resetLossesTabData } from 'stores';\nimport { MultiSelect, FormDate } from 'components';\nimport * as utils from 'utils';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nLossesTab.prototypes = {\n  handleCreateClaim: PropTypes.func.isRequired\n};\nexport default function LossesTab(_ref) {\n  _s();\n\n  var handleCreateClaim = _ref.handleCreateClaim;\n  var dispatch = useDispatch();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchTerm = _useState2[0],\n      setSearchTerm = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      anchorEl = _useState4[0],\n      setAnchorEl = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isTblLoader = _useState6[0],\n      setIsTblLoader = _useState6[1];\n\n  var claims = useSelector(selectClaims);\n  var claimsStatuses = useSelector(selectClaimsStatuses);\n  var lossesData = useSelector(selectLossesData);\n  var defaultFormFields = [{\n    name: 'lossDateFrom',\n    type: 'datepicker',\n    value: null\n  }, {\n    name: 'lossDateTo',\n    type: 'datepicker',\n    value: null\n  }, {\n    name: 'firstContactDate',\n    type: 'datepicker',\n    value: null\n  }];\n  var defaultValues = utils.form.getInitialValues(defaultFormFields);\n\n  var _useForm = useForm({\n    defaultValues: defaultValues\n  }),\n      control = _useForm.control,\n      reset = _useForm.reset,\n      watch = _useForm.watch;\n\n  var lossDateFrom = watch('lossDateFrom');\n  var tableFilterFields = [{\n    id: 'lossDateFrom',\n    type: 'datepicker',\n    label: utils.string.t('claims.columns.claimsList.dateFrom'),\n    value: '',\n    content: /*#__PURE__*/_jsxDEV(FormDate, _objectSpread(_objectSpread({\n      control: control\n    }, utils.form.getFieldProps(defaultFormFields, 'lossDateFrom')), {}, {\n      id: \"datepicker\",\n      label: '',\n      plainText: true,\n      plainTextIcon: true,\n      placeholder: utils.string.t('app.selectDate'),\n      muiComponentProps: {\n        fullWidth: false,\n        margin: 'dense'\n      },\n      muiPickerProps: {\n        clearable: false,\n        variant: 'inline',\n        format: 'DD-MM-YYYY'\n      }\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this)\n  }, {\n    id: 'lossDateTo',\n    type: 'datepicker',\n    label: utils.string.t('claims.columns.claimsList.dateTo'),\n    placeholder: utils.string.t('claims.filterPlaceHolderText'),\n    value: '',\n    content: /*#__PURE__*/_jsxDEV(FormDate, _objectSpread(_objectSpread({\n      control: control\n    }, utils.form.getFieldProps(defaultFormFields, 'lossDateTo')), {}, {\n      id: \"datepicker\",\n      label: '',\n      plainText: true,\n      plainTextIcon: true,\n      placeholder: utils.string.t('app.selectDate'),\n      muiComponentProps: {\n        fullWidth: false,\n        margin: 'dense'\n      },\n      muiPickerProps: {\n        minDate: lossDateFrom !== null && lossDateFrom !== void 0 ? lossDateFrom : undefined,\n        clearable: false,\n        variant: 'inline',\n        format: 'DD-MM-YYYY'\n      }\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this)\n  }, {\n    id: 'firstContactDate',\n    type: 'datepicker',\n    label: utils.string.t('claims.columns.claimsList.firstContactDateTime'),\n    value: '',\n    content: /*#__PURE__*/_jsxDEV(FormDate, _objectSpread(_objectSpread({\n      control: control\n    }, utils.form.getFieldProps(defaultFormFields, 'firstContactDate')), {}, {\n      id: \"datepicker\",\n      label: '',\n      plainText: true,\n      plainTextIcon: true,\n      placeholder: utils.string.t('app.selectDate'),\n      muiComponentProps: {\n        fullWidth: false,\n        margin: 'dense'\n      },\n      muiPickerProps: {\n        clearable: false,\n        variant: 'inline',\n        format: 'DD-MM-YYYY'\n      }\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }, this)\n  }, {\n    id: 'catCode',\n    type: 'multiSelect',\n    label: utils.string.t('claims.columns.claimsList.catCodesID'),\n    placeholder: utils.string.t('claims.filterPlaceHolderText'),\n    value: [],\n    options: [],\n    content: /*#__PURE__*/_jsxDEV(MultiSelect, {\n      id: \"catCode\",\n      search: true,\n      options: []\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 16\n    }, this)\n  }, {\n    id: 'lossStatus',\n    type: 'multiSelect',\n    label: utils.string.t('claims.columns.claimsList.lossStatus'),\n    placeholder: utils.string.t('claims.filterPlaceHolderText'),\n    value: [],\n    options: [],\n    content: /*#__PURE__*/_jsxDEV(MultiSelect, {\n      id: \"lossStatus\",\n      search: true,\n      options: []\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 16\n    }, this)\n  }];\n  var searchOptions = [{\n    id: 'lossRef',\n    name: utils.string.t('claims.columns.claimsList.lossRef')\n  }, {\n    id: 'lossName',\n    name: utils.string.t('claims.columns.claimsList.lossName')\n  }, {\n    id: 'lossDetails',\n    name: utils.string.t('claims.columns.claimsList.lossDetails')\n  }, {\n    id: 'catCodesID',\n    name: utils.string.t('claims.columns.claimsList.catCodesID')\n  }];\n  useEffect(function () {\n    if (utils.generic.isInvalidOrEmptyArray(claimsStatuses)) {\n      dispatch(getStatuses());\n    }\n  }, [] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  var handleSearch = function handleSearch(queryObject) {\n    if (queryObject.search) {\n      setIsTblLoader(true);\n      setSearchTerm(queryObject.search);\n      dispatch(getLossesTabData({\n        searchText: queryObject.search\n      }));\n      dispatch(postClaimsLossFilters({\n        term: queryObject.search,\n        searchBy: queryObject.searchBy\n      }));\n      dispatch(getSearchLosses({\n        term: queryObject.search,\n        direction: 'desc',\n        searchBy: queryObject.searchBy\n      })).then(function (resp) {\n        if (resp.status === 'OK') setIsTblLoader(false);\n      });\n    }\n  };\n\n  var handleChangePage = function handleChangePage(newPage) {\n    setIsTblLoader(true);\n    dispatch(getSearchLosses({\n      page: newPage,\n      term: searchTerm\n    })).then(function (resp) {\n      if (resp.status === 'OK') setIsTblLoader(false);\n    });\n  };\n\n  var onResetFilter = function onResetFilter() {\n    setIsTblLoader(true);\n    reset();\n    dispatch(resetClaimLossFilters());\n    dispatch(getSearchLosses({\n      term: searchTerm,\n      filterTerm: ''\n    })).then(function (resp) {\n      if (resp.status === 'OK') setIsTblLoader(false);\n    });\n  };\n\n  var handleSearchFilter = function handleSearchFilter(data) {\n    var filters = data.filters;\n    setIsTblLoader(true);\n    dispatch(updateClaimLossFilters({\n      search: searchTerm,\n      filters: filters\n    }));\n    return dispatch(getSearchLosses({\n      term: searchTerm,\n      filterTerm: filters\n    })).then(function (resp) {\n      if (resp.status === 'OK') setIsTblLoader(false);\n    });\n  };\n\n  var handleChangeRowsPerPage = function handleChangeRowsPerPage(rowsPerPage) {\n    setIsTblLoader(true);\n    dispatch(getSearchLosses({\n      size: rowsPerPage,\n      term: searchTerm\n    })).then(function (resp) {\n      if (resp.status === 'OK') setIsTblLoader(false);\n    });\n  };\n\n  var handleSort = function handleSort(by, dir) {\n    setIsTblLoader(true);\n    dispatch(getSearchLosses({\n      sortBy: by,\n      direction: dir.toUpperCase(),\n      term: searchTerm\n    })).then(function (resp) {\n      if (resp.status === 'OK') setIsTblLoader(false);\n    });\n  };\n\n  var columns = [{\n    id: 'lossRef',\n    label: utils.string.t('claims.columns.claimsList.reference'),\n    nowrap: true,\n    visible: true\n  }, {\n    id: 'lossName',\n    label: utils.string.t('claims.columns.claimsList.lossName'),\n    nowrap: true,\n    visible: true\n  }, {\n    id: 'lossDetails',\n    label: utils.string.t('claims.columns.claimsList.lossDetails'),\n    nowrap: true,\n    visible: true\n  }, {\n    id: 'dateFrom',\n    label: utils.string.t('claims.columns.claimsList.dateFrom'),\n    nowrap: true,\n    visible: true\n  }, {\n    id: 'dateTo',\n    label: utils.string.t('claims.columns.claimsList.dateTo'),\n    nowrap: true,\n    visible: true\n  }, {\n    id: 'firstContactDateTime',\n    label: utils.string.t('claims.columns.claimsList.firstContactDateTime'),\n    nowrap: true\n  }, {\n    id: 'catCodesID',\n    label: utils.string.t('claims.columns.claimsList.catCodesID'),\n    visible: true,\n    nowrap: true\n  }, {\n    id: 'lossStatus',\n    label: utils.string.t('claims.columns.claimsList.lossStatus'),\n    visible: true,\n    nowrap: true\n  }];\n  var searchField = [{\n    name: 'searchBy',\n    type: 'autocompletemui',\n    options: searchOptions,\n    optionKey: 'id',\n    optionLabel: 'name',\n    value: (lossesData === null || lossesData === void 0 ? void 0 : lossesData.searchBy) !== '' ? searchOptions === null || searchOptions === void 0 ? void 0 : searchOptions.find(function (item) {\n      return (item === null || item === void 0 ? void 0 : item.name) === (lossesData === null || lossesData === void 0 ? void 0 : lossesData.searchBy);\n    }) : (searchOptions === null || searchOptions === void 0 ? void 0 : searchOptions.find(function (item) {\n      return (item === null || item === void 0 ? void 0 : item.name) === utils.string.t('claims.columns.claimsList.lossName');\n    })) || null,\n    callback: function callback(evt, value) {\n      dispatch(getLossesTabData({\n        searchBy: value === null || value === void 0 ? void 0 : value.name\n      }));\n    }\n  } // {\n  //   name: 'search',\n  //   defaultValue: '',\n  //   type: 'text',\n  //   placeholder: 'Search',\n  //   icon: SearchIcon,\n  //   value: '',\n  // },\n  ];\n  var actions = [{\n    name: 'filter',\n    label: utils.string.t('app.searchLabel'),\n    handler: function handler(values) {\n      setAnchorEl(values);\n      console.log('Search Values............', values); //setBack(false);\n      //setSearchVal(values.fullName);\n    }\n  }, {\n    name: 'reset',\n    label: utils.string.t('app.reset'),\n    handler: function handler() {\n      console.log('Reset ..................'); //setBack(true);\n      //setSearchVal('');\n    }\n  }];\n  var fields = [{\n    //gridSize: { xs: 12 },\n    name: 'fullName',\n    type: 'text',\n    placeholder: utils.string.t('admin.searchByFullName'),\n    value: 'ksdj',\n    muiComponentProps: {\n      'data-testid': 'fullName'\n    }\n  }];\n\n  var _useFlexiColumns = useFlexiColumns(columns),\n      columnsArray = _useFlexiColumns.columns,\n      isTableHidden = _useFlexiColumns.isTableHidden,\n      columnProps = _useFlexiColumns.columnProps,\n      toggleColumn = _useFlexiColumns.toggleColumn;\n\n  return /*#__PURE__*/_jsxDEV(LossesTabView, {\n    claims: claims,\n    searchTerm: lossesData === null || lossesData === void 0 ? void 0 : lossesData.searchText,\n    searchField: searchField,\n    sort: _objectSpread(_objectSpread({}, claims.sort), {}, {\n      type: 'numeric'\n    }),\n    columnsArray: columnsArray,\n    columnProps: columnProps,\n    isTableHidden: isTableHidden,\n    handleSearch: handleSearch,\n    handleSort: handleSort,\n    handleChangePage: handleChangePage,\n    handleChangeRowsPerPage: handleChangeRowsPerPage,\n    handleSearchFilter: handleSearchFilter,\n    handleCreateClaim: handleCreateClaim,\n    tableFilterFields: tableFilterFields,\n    onResetFilter: onResetFilter,\n    toggleColumn: toggleColumn,\n    anchorEl: anchorEl,\n    setAnchorEl: setAnchorEl,\n    actions: actions,\n    fields: fields,\n    isTblLoader: isTblLoader\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 350,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LossesTab, \"rzw0Jtw/tNU1wkqvshd1Y7YJfk4=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useForm, useFlexiColumns];\n});\n\n_c = LossesTab;\n\nvar _c;\n\n$RefreshReg$(_c, \"LossesTab\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/LossesTab/LossesTab.js"],"names":["React","useState","useEffect","useDispatch","useSelector","useForm","PropTypes","LossesTabView","useFlexiColumns","getSearchLosses","resetClaims","selectClaims","selectClaimsStatuses","updateClaimLossFilters","postClaimsLossFilters","resetClaimLossFilters","getStatuses","selectLossesData","getLossesTabData","resetLossesTabData","MultiSelect","FormDate","utils","SearchIcon","LossesTab","prototypes","handleCreateClaim","func","isRequired","dispatch","searchTerm","setSearchTerm","anchorEl","setAnchorEl","isTblLoader","setIsTblLoader","claims","claimsStatuses","lossesData","defaultFormFields","name","type","value","defaultValues","form","getInitialValues","control","reset","watch","lossDateFrom","tableFilterFields","id","label","string","t","content","getFieldProps","fullWidth","margin","clearable","variant","format","placeholder","minDate","undefined","options","searchOptions","generic","isInvalidOrEmptyArray","handleSearch","queryObject","search","searchText","term","searchBy","direction","then","resp","status","handleChangePage","newPage","page","onResetFilter","filterTerm","handleSearchFilter","data","filters","handleChangeRowsPerPage","rowsPerPage","size","handleSort","by","dir","sortBy","toUpperCase","columns","nowrap","visible","searchField","optionKey","optionLabel","find","item","callback","evt","actions","handler","values","console","log","fields","muiComponentProps","columnsArray","isTableHidden","columnProps","toggleColumn","sort"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useForm } from 'react-hook-form';\r\nimport PropTypes from 'prop-types';\r\n\r\n//app\r\nimport { LossesTabView } from './LossesTab.view';\r\nimport { useFlexiColumns } from 'hooks';\r\nimport {\r\n  getSearchLosses,\r\n  resetClaims,\r\n  selectClaims,\r\n  selectClaimsStatuses,\r\n  updateClaimLossFilters,\r\n  postClaimsLossFilters,\r\n  resetClaimLossFilters,\r\n  getStatuses,\r\n  selectLossesData,\r\n  getLossesTabData,\r\n  resetLossesTabData,\r\n} from 'stores';\r\nimport { MultiSelect, FormDate } from 'components';\r\nimport * as utils from 'utils';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nLossesTab.prototypes = {\r\n  handleCreateClaim: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default function LossesTab({ handleCreateClaim }) {\r\n  const dispatch = useDispatch();\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [isTblLoader, setIsTblLoader] = useState(false);\r\n\r\n  const claims = useSelector(selectClaims);\r\n  const claimsStatuses = useSelector(selectClaimsStatuses);\r\n  const lossesData = useSelector(selectLossesData);\r\n  const defaultFormFields = [\r\n    {\r\n      name: 'lossDateFrom',\r\n      type: 'datepicker',\r\n      value: null,\r\n    },\r\n    {\r\n      name: 'lossDateTo',\r\n      type: 'datepicker',\r\n      value: null,\r\n    },\r\n    {\r\n      name: 'firstContactDate',\r\n      type: 'datepicker',\r\n      value: null,\r\n    },\r\n  ];\r\n\r\n  const defaultValues = utils.form.getInitialValues(defaultFormFields);\r\n  const { control, reset, watch } = useForm({ defaultValues });\r\n  const lossDateFrom = watch('lossDateFrom');\r\n\r\n  \r\n\r\n  const tableFilterFields = [\r\n    {\r\n      id: 'lossDateFrom',\r\n      type: 'datepicker',\r\n      label: utils.string.t('claims.columns.claimsList.dateFrom'),\r\n      value: '',\r\n      content: (\r\n        <FormDate\r\n          control={control}\r\n          {...utils.form.getFieldProps(defaultFormFields, 'lossDateFrom')}\r\n          id=\"datepicker\"\r\n          label={''}\r\n          plainText\r\n          plainTextIcon\r\n          placeholder={utils.string.t('app.selectDate')}\r\n          muiComponentProps={{\r\n            fullWidth: false,\r\n            margin: 'dense',\r\n          }}\r\n          muiPickerProps={{\r\n            clearable: false,\r\n            variant: 'inline',\r\n            format: 'DD-MM-YYYY',\r\n          }}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      id: 'lossDateTo',\r\n      type: 'datepicker',\r\n      label: utils.string.t('claims.columns.claimsList.dateTo'),\r\n      placeholder: utils.string.t('claims.filterPlaceHolderText'),\r\n      value: '',\r\n      content: (\r\n        <FormDate\r\n          control={control}\r\n          {...utils.form.getFieldProps(defaultFormFields, 'lossDateTo')}\r\n          id=\"datepicker\"\r\n          label={''}\r\n          plainText\r\n          plainTextIcon\r\n          placeholder={utils.string.t('app.selectDate')}\r\n          muiComponentProps={{\r\n            fullWidth: false,\r\n            margin: 'dense',\r\n          }}\r\n          muiPickerProps={{\r\n            minDate: lossDateFrom ?? undefined,\r\n            clearable: false,\r\n            variant: 'inline',\r\n            format: 'DD-MM-YYYY',\r\n          }}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      id: 'firstContactDate',\r\n      type: 'datepicker',\r\n      label: utils.string.t('claims.columns.claimsList.firstContactDateTime'),\r\n      value: '',\r\n      content: (\r\n        <FormDate\r\n          control={control}\r\n          {...utils.form.getFieldProps(defaultFormFields, 'firstContactDate')}\r\n          id=\"datepicker\"\r\n          label={''}\r\n          plainText\r\n          plainTextIcon\r\n          placeholder={utils.string.t('app.selectDate')}\r\n          muiComponentProps={{\r\n            fullWidth: false,\r\n            margin: 'dense',\r\n          }}\r\n          muiPickerProps={{\r\n            clearable: false,\r\n            variant: 'inline',\r\n            format: 'DD-MM-YYYY',\r\n          }}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      id: 'catCode',\r\n      type: 'multiSelect',\r\n      label: utils.string.t('claims.columns.claimsList.catCodesID'),\r\n      placeholder: utils.string.t('claims.filterPlaceHolderText'),\r\n      value: [],\r\n      options: [],\r\n      content: <MultiSelect id=\"catCode\" search options={[]} />,\r\n    },\r\n    {\r\n      id: 'lossStatus',\r\n      type: 'multiSelect',\r\n      label: utils.string.t('claims.columns.claimsList.lossStatus'),\r\n      placeholder: utils.string.t('claims.filterPlaceHolderText'),\r\n      value: [],\r\n      options: [],\r\n      content: <MultiSelect id=\"lossStatus\" search options={[]} />,\r\n    },\r\n  ];\r\n\r\n  const searchOptions = [\r\n    { id: 'lossRef', name: utils.string.t('claims.columns.claimsList.lossRef') },\r\n    { id: 'lossName', name: utils.string.t('claims.columns.claimsList.lossName') },\r\n    { id: 'lossDetails', name: utils.string.t('claims.columns.claimsList.lossDetails') },\r\n    { id: 'catCodesID', name: utils.string.t('claims.columns.claimsList.catCodesID') },\r\n  ];\r\n\r\n  useEffect(\r\n    () => {\r\n      if (utils.generic.isInvalidOrEmptyArray(claimsStatuses)) {\r\n        dispatch(getStatuses());\r\n      }\r\n    },\r\n    [] // eslint-disable-line react-hooks/exhaustive-deps\r\n  );\r\n\r\n  const handleSearch = (queryObject) => {\r\n    if (queryObject.search) {\r\n      setIsTblLoader(true);\r\n      setSearchTerm(queryObject.search);\r\n      dispatch(getLossesTabData({searchText: queryObject.search }));\r\n      dispatch(postClaimsLossFilters({ term: queryObject.search, searchBy: queryObject.searchBy }));\r\n      dispatch(getSearchLosses({ term: queryObject.search, direction: 'desc', searchBy: queryObject.searchBy })).then((resp)=>{\r\n        if(resp.status==='OK')\r\n          setIsTblLoader(false);\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleChangePage = (newPage) => {\r\n    setIsTblLoader(true);\r\n    dispatch(getSearchLosses({ page: newPage, term: searchTerm })).then((resp)=>{\r\n      if(resp.status==='OK')\r\n        setIsTblLoader(false);\r\n    });\r\n  };\r\n\r\n  const onResetFilter = () => {\r\n    setIsTblLoader(true);\r\n    reset();\r\n    dispatch(resetClaimLossFilters());\r\n    dispatch(getSearchLosses({ term: searchTerm, filterTerm: '' })).then((resp)=>{\r\n      if(resp.status==='OK')\r\n        setIsTblLoader(false);\r\n    });\r\n  };\r\n\r\n  const handleSearchFilter = (data) => {\r\n    const { filters } = data;\r\n    setIsTblLoader(true);\r\n    dispatch(updateClaimLossFilters({ search: searchTerm, filters }));\r\n    return dispatch(getSearchLosses({ term: searchTerm, filterTerm: filters })).then((resp)=>{\r\n      if(resp.status==='OK')\r\n        setIsTblLoader(false);\r\n    });\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (rowsPerPage) => {\r\n    setIsTblLoader(true);\r\n    dispatch(getSearchLosses({ size: rowsPerPage, term: searchTerm })).then((resp)=>{\r\n      if(resp.status==='OK')\r\n        setIsTblLoader(false);\r\n    });\r\n  };\r\n\r\n  const handleSort = (by, dir) => {\r\n    setIsTblLoader(true);\r\n    dispatch(getSearchLosses({ sortBy: by, direction: dir.toUpperCase(), term: searchTerm })).then((resp)=>{\r\n      if(resp.status==='OK')\r\n        setIsTblLoader(false);\r\n    });\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      id: 'lossRef',\r\n      label: utils.string.t('claims.columns.claimsList.reference'),\r\n      nowrap: true,\r\n      visible: true,\r\n    },\r\n    {\r\n      id: 'lossName',\r\n      label: utils.string.t('claims.columns.claimsList.lossName'),\r\n      nowrap: true,\r\n      visible: true,\r\n    },\r\n    {\r\n      id: 'lossDetails',\r\n      label: utils.string.t('claims.columns.claimsList.lossDetails'),\r\n      nowrap: true,\r\n      visible: true,\r\n    },\r\n    {\r\n      id: 'dateFrom',\r\n      label: utils.string.t('claims.columns.claimsList.dateFrom'),\r\n      nowrap: true,\r\n      visible: true,\r\n    },\r\n    {\r\n      id: 'dateTo',\r\n      label: utils.string.t('claims.columns.claimsList.dateTo'),\r\n      nowrap: true,\r\n      visible: true,\r\n    },\r\n    {\r\n      id: 'firstContactDateTime',\r\n      label: utils.string.t('claims.columns.claimsList.firstContactDateTime'),\r\n      nowrap: true,\r\n    },\r\n    {\r\n      id: 'catCodesID',\r\n      label: utils.string.t('claims.columns.claimsList.catCodesID'),\r\n      visible: true,\r\n      nowrap: true,\r\n    },\r\n    {\r\n      id: 'lossStatus',\r\n      label: utils.string.t('claims.columns.claimsList.lossStatus'),\r\n      visible: true,\r\n      nowrap: true,\r\n    },\r\n  ];\r\n\r\n  const searchField = [\r\n    {\r\n      name: 'searchBy',\r\n      type: 'autocompletemui',\r\n      options: searchOptions,\r\n      optionKey: 'id',\r\n      optionLabel: 'name',\r\n      value: lossesData?.searchBy !== '' ? \r\n              searchOptions?.find((item) => item?.name === lossesData?.searchBy) :\r\n              (searchOptions?.find((item) =>\r\n                item?.name === utils.string.t('claims.columns.claimsList.lossName')) || null),\r\n      callback: (evt, value) => {\r\n        dispatch(getLossesTabData({searchBy: value?.name }));\r\n      }\r\n    },\r\n    // {\r\n    //   name: 'search',\r\n    //   defaultValue: '',\r\n    //   type: 'text',\r\n    //   placeholder: 'Search',\r\n    //   icon: SearchIcon,\r\n    //   value: '',\r\n    // },\r\n  ];\r\n\r\n  const actions = [\r\n    {\r\n      name: 'filter',\r\n      label: utils.string.t('app.searchLabel'),\r\n      handler: (values) => {\r\n        setAnchorEl(values);\r\n        console.log('Search Values............', values);\r\n        //setBack(false);\r\n        //setSearchVal(values.fullName);\r\n      },\r\n    },\r\n    {\r\n      name: 'reset',\r\n      label: utils.string.t('app.reset'),\r\n      handler: () => {\r\n        console.log('Reset ..................');\r\n        //setBack(true);\r\n        //setSearchVal('');\r\n      },\r\n    },\r\n  ];\r\n\r\n  const fields = [\r\n    {\r\n      //gridSize: { xs: 12 },\r\n      name: 'fullName',\r\n      type: 'text',\r\n      placeholder: utils.string.t('admin.searchByFullName'),\r\n      value: 'ksdj',\r\n      muiComponentProps: {\r\n        'data-testid': 'fullName',\r\n      },\r\n    },\r\n  ];\r\n\r\n  const { columns: columnsArray, isTableHidden, columnProps, toggleColumn } = useFlexiColumns(columns);\r\n\r\n  return (\r\n    <LossesTabView\r\n      claims={claims}\r\n      searchTerm={lossesData?.searchText}\r\n      searchField={searchField}\r\n      sort={{\r\n        ...claims.sort,\r\n        type: 'numeric',\r\n      }}\r\n      columnsArray={columnsArray}\r\n      columnProps={columnProps}\r\n      isTableHidden={isTableHidden}\r\n      handleSearch={handleSearch}\r\n      handleSort={handleSort}\r\n      handleChangePage={handleChangePage}\r\n      handleChangeRowsPerPage={handleChangeRowsPerPage}\r\n      handleSearchFilter={handleSearchFilter}\r\n      handleCreateClaim={handleCreateClaim}\r\n      tableFilterFields={tableFilterFields}\r\n      onResetFilter={onResetFilter}\r\n      toggleColumn={toggleColumn}\r\n      anchorEl={anchorEl}\r\n      setAnchorEl={setAnchorEl}\r\n      actions={actions}\r\n      fields={fields}\r\n      isTblLoader={isTblLoader}\r\n    />\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}