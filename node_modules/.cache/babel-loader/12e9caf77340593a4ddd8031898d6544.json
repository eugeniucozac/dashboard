{"ast":null,"code":"import isString from 'lodash/isString'; // app\n\nimport { FILE_EXTENSION } from 'consts';\nimport * as utils from 'utils';\nvar utilsFile = {\n  download: function download(blob, filename) {\n    if (!blob || !filename) return;\n    var url = window.URL.createObjectURL(blob);\n    var link = window.document.createElement('a');\n    link.href = url;\n    link.download = filename;\n    window.document.body.appendChild(link);\n    link.click();\n    link.parentNode.removeChild(link);\n  },\n  getFilenameFromHeadersBlob: function getFilenameFromHeadersBlob(headers, blob, defaultName) {\n    var fallbackExtension = utilsFile.getFileExtensionFromBlobType(blob);\n    var fallbackFilename = defaultName && isString(defaultName) && fallbackExtension ? \"\".concat(defaultName, \".\").concat(fallbackExtension) : undefined;\n\n    if (headers && utils.generic.isFunction(headers.get)) {\n      var contentDisposition = headers.get('Content-Disposition') || '';\n      var filenameParts = contentDisposition.split('filename=');\n      var filenameStringParts = filenameParts && filenameParts[1] ? filenameParts[1].split(';') : '';\n      var filename = filenameStringParts && filenameStringParts[0];\n      return filename || fallbackFilename;\n    }\n\n    return fallbackFilename;\n  },\n  getFileExtensionFromBlobType: function getFileExtensionFromBlobType(blob) {\n    if (!blob || !blob.type) return;\n    return FILE_EXTENSION[blob.type];\n  },\n  truncate: function truncate(n, len) {\n    var ext = n.lastIndexOf('.') > -1 ? n.substring(n.lastIndexOf('.') - 2, n.length).toLowerCase() : '';\n    var filename = n.replace('.' + ext, '');\n\n    if (filename.length <= len) {\n      return n;\n    }\n\n    filename = filename.substr(0, len) + (n.length > len ? '..' : '');\n    return filename + '.' + ext;\n  },\n  getFileExtensionFromFilename: function getFileExtensionFromFilename(filename) {\n    if (!filename || typeof filename !== 'string' || !filename.includes('.')) return '';\n    return filename.split('.').pop();\n  },\n  getFilenameWithoutExtensionFromFilename: function getFilenameWithoutExtensionFromFilename(filename) {\n    if (!filename || typeof filename !== 'string') return '';\n    return filename.replace(/\\.[^/.]+$/, '');\n  }\n};\nexport default utilsFile;","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/utils/file/file.js"],"names":["isString","FILE_EXTENSION","utils","utilsFile","download","blob","filename","url","window","URL","createObjectURL","link","document","createElement","href","body","appendChild","click","parentNode","removeChild","getFilenameFromHeadersBlob","headers","defaultName","fallbackExtension","getFileExtensionFromBlobType","fallbackFilename","undefined","generic","isFunction","get","contentDisposition","filenameParts","split","filenameStringParts","type","truncate","n","len","ext","lastIndexOf","substring","length","toLowerCase","replace","substr","getFileExtensionFromFilename","includes","pop","getFilenameWithoutExtensionFromFilename"],"mappings":"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","sourcesContent":["import isString from 'lodash/isString';\r\n\r\n// app\r\nimport { FILE_EXTENSION } from 'consts';\r\nimport * as utils from 'utils';\r\n\r\nconst utilsFile = {\r\n  download: (blob, filename) => {\r\n    if (!blob || !filename) return;\r\n\r\n    const url = window.URL.createObjectURL(blob);\r\n    const link = window.document.createElement('a');\r\n\r\n    link.href = url;\r\n    link.download = filename;\r\n    window.document.body.appendChild(link);\r\n    link.click();\r\n    link.parentNode.removeChild(link);\r\n  },\r\n\r\n  getFilenameFromHeadersBlob: (headers, blob, defaultName) => {\r\n    const fallbackExtension = utilsFile.getFileExtensionFromBlobType(blob);\r\n    const fallbackFilename = defaultName && isString(defaultName) && fallbackExtension ? `${defaultName}.${fallbackExtension}` : undefined;\r\n\r\n    if (headers && utils.generic.isFunction(headers.get)) {\r\n      const contentDisposition = headers.get('Content-Disposition') || '';\r\n      const filenameParts = contentDisposition.split('filename=');\r\n      const filenameStringParts = filenameParts && filenameParts[1] ? filenameParts[1].split(';') : '';\r\n      const filename = filenameStringParts && filenameStringParts[0];\r\n\r\n      return filename || fallbackFilename;\r\n    }\r\n\r\n    return fallbackFilename;\r\n  },\r\n\r\n  getFileExtensionFromBlobType: (blob) => {\r\n    if (!blob || !blob.type) return;\r\n\r\n    return FILE_EXTENSION[blob.type];\r\n  },\r\n\r\n  truncate: (n, len) => {\r\n    const ext = n.lastIndexOf('.') > -1 ? n.substring(n.lastIndexOf('.') - 2, n.length).toLowerCase() : '';\r\n    let filename = n.replace('.' + ext, '');\r\n    if (filename.length <= len) {\r\n      return n;\r\n    }\r\n    filename = filename.substr(0, len) + (n.length > len ? '..' : '');\r\n    return filename + '.' + ext;\r\n  },\r\n  getFileExtensionFromFilename: (filename) => {\r\n    if (!filename || typeof filename !== 'string' || !filename.includes('.')) return '';\r\n\r\n    return filename.split('.').pop();\r\n  },\r\n\r\n  getFilenameWithoutExtensionFromFilename: (filename) => {\r\n    if (!filename || typeof filename !== 'string') return '';\r\n\r\n    return filename.replace(/\\.[^/.]+$/, '');\r\n  },\r\n};\r\n\r\nexport default utilsFile;\r\n"]},"metadata":{},"sourceType":"module"}