{"ast":null,"code":"import _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\EnterClaimInformation\\\\EnterClaimInformation.view.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport PropTypes from 'prop-types'; //app\n\nimport { Layout } from 'components';\nimport { ClaimsFixedBottomBar, ClaimsUnderwritingGroups, ClaimsMovementType, EnterClaimCardInformation, ClaimsUploadViewSearchDocs } from 'modules';\nimport styles from './EnterClaimInformation.styles';\nimport * as utils from 'utils';\nimport * as constants from 'consts'; //mui\n\nimport { makeStyles, Grid, Box, Divider } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nEnterClaimInformationView.propTypes = {\n  catCodes: PropTypes.array.isRequired,\n  lossInformation: PropTypes.object.isRequired,\n  lossQualifiers: PropTypes.array.isRequired,\n  policyInformation: PropTypes.object.isRequired,\n  claimantNames: PropTypes.array.isRequired,\n  interest: PropTypes.object.isRequired,\n  underWritingGroups: PropTypes.object.isRequired,\n  complexityValues: PropTypes.array.isRequired,\n  referralValues: PropTypes.array.isRequired,\n  fields: PropTypes.array.isRequired,\n  isBordereauFlag: PropTypes.bool.isRequired,\n  isComplexFlag: PropTypes.bool.isRequired,\n  handleNext: PropTypes.func.isRequired,\n  handleSave: PropTypes.func.isRequired,\n  handleCancel: PropTypes.func.isRequired,\n  handleBack: PropTypes.func.isRequired,\n  existingClaimInfo: PropTypes.object.isRequired,\n  claimData: PropTypes.object.isRequired,\n  hasClaimRef: PropTypes.bool.isRequired,\n  currencies: PropTypes.array.isRequired,\n  resetKey: PropTypes.number,\n  uwResetKey: PropTypes.number,\n  isBordereauChecked: PropTypes.bool.isRequired\n};\nexport function EnterClaimInformationView(props) {\n  _s();\n\n  var catCodes = props.catCodes,\n      lossInformation = props.lossInformation,\n      lossQualifiers = props.lossQualifiers,\n      policyInformation = props.policyInformation,\n      claimantNames = props.claimantNames,\n      interest = props.interest,\n      underWritingGroups = props.underWritingGroups,\n      complexityValues = props.complexityValues,\n      referralValues = props.referralValues,\n      fields = props.fields,\n      isBordereauFlag = props.isBordereauFlag,\n      isComplexFlag = props.isComplexFlag,\n      handleNext = props.handleNext,\n      handleSave = props.handleSave,\n      handleCancel = props.handleCancel,\n      handleBack = props.handleBack,\n      validation = props.validation,\n      setValidation = props.setValidation,\n      existingClaimInfo = props.existingClaimInfo,\n      hasClaimRef = props.hasClaimRef,\n      currencies = props.currencies,\n      resetKey = props.resetKey,\n      uwResetKey = props.uwResetKey,\n      isBordereauChecked = props.isBordereauChecked,\n      claimData = props.claimData;\n  var classes = makeStyles(styles, {\n    name: 'EnterClaimInformation'\n  })();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isSaving = _useState2[0],\n      setIsSaving = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      currentContextActive = _useState4[0],\n      setCurrentContextActive = _useState4[1];\n\n  var defaultValues = utils.form.getInitialValues(fields);\n  var validationSchema = utils.form.getValidationSchema(fields);\n  var claimForm = useForm(_objectSpread({\n    defaultValues: defaultValues\n  }, validationSchema && {\n    resolver: yupResolver(validationSchema),\n    context: {\n      validation: validation\n    }\n  }));\n  var handleSubmit = claimForm.handleSubmit,\n      setValue = claimForm.setValue;\n\n  var onHandleSave = function onHandleSave() {\n    setIsSaving(true);\n    setValidation(false);\n  };\n\n  useEffect(function () {\n    if (validation) {\n      handleSubmit(handleNext)();\n    }\n\n    setValidation(false);\n  }, [validation]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(function () {\n    if (isSaving) {\n      handleSubmit(handleSave)();\n      setIsSaving(false);\n    }\n\n    if (underWritingGroups.percentageOfSelected) {\n      setValue('orderPercentage', underWritingGroups.percentageOfSelected);\n    } else {\n      setValue('order', '100');\n    }\n  }, [isSaving, underWritingGroups]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.wrapper,\n      children: /*#__PURE__*/_jsxDEV(Layout, {\n        main: true,\n        padding: true,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          className: classes.claimsContainer,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(EnterClaimCardInformation, {\n                  resetKey: resetKey,\n                  policyInformation: policyInformation,\n                  claimantNames: claimantNames,\n                  interest: interest,\n                  fields: fields,\n                  claimForm: claimForm,\n                  complexityValues: complexityValues,\n                  referralValues: referralValues,\n                  isBordereauFlag: isBordereauFlag,\n                  isComplexFlag: isComplexFlag,\n                  existingClaimInfo: existingClaimInfo,\n                  currencies: currencies,\n                  isBordereauChecked: isBordereauChecked\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                md: 9,\n                children: /*#__PURE__*/_jsxDEV(ClaimsUnderwritingGroups, {\n                  fields: fields,\n                  claimForm: claimForm,\n                  uwResetKey: uwResetKey,\n                  hasClaimRef: hasClaimRef\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                md: 3,\n                children: /*#__PURE__*/_jsxDEV(ClaimsMovementType, {\n                  fields: fields,\n                  claimForm: claimForm,\n                  underWritingGroups: underWritingGroups,\n                  enforceValueSet: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          className: classes.claimsContainer,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: hasClaimRef && currentContextActive && /*#__PURE__*/_jsxDEV(ClaimsUploadViewSearchDocs, {\n                refData: claimData,\n                refIdName: (claimData === null || claimData === void 0 ? void 0 : claimData.claimRef) ? 'claimRef' : 'claimReference' //added temp condition as claimRef and claimReference keys are inconsistent, need to be fixed permanently later\n                ,\n                dmsContext: constants.DMS_CONTEXT_CLAIM,\n                documentTypeKey: constants.DMS_DOCUMENT_TYPE_SECTION_KEYS.type.claims\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ClaimsFixedBottomBar, _objectSpread(_objectSpread({}, props), {}, {\n      onSave: onHandleSave,\n      handleNextSubmit: function handleNextSubmit() {\n        return setValidation(true);\n      },\n      handleBack: handleBack,\n      handleCancel: handleCancel,\n      save: true,\n      next: true\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(EnterClaimInformationView, \"+KRs2Jo72HPOg8Q3DUn7QeFrZNw=\", false, function () {\n  return [useForm];\n});\n\n_c = EnterClaimInformationView;\n\nvar _c;\n\n$RefreshReg$(_c, \"EnterClaimInformationView\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/EnterClaimInformation/EnterClaimInformation.view.js"],"names":["React","useEffect","useState","useForm","yupResolver","PropTypes","Layout","ClaimsFixedBottomBar","ClaimsUnderwritingGroups","ClaimsMovementType","EnterClaimCardInformation","ClaimsUploadViewSearchDocs","styles","utils","constants","makeStyles","Grid","Box","Divider","EnterClaimInformationView","propTypes","catCodes","array","isRequired","lossInformation","object","lossQualifiers","policyInformation","claimantNames","interest","underWritingGroups","complexityValues","referralValues","fields","isBordereauFlag","bool","isComplexFlag","handleNext","func","handleSave","handleCancel","handleBack","existingClaimInfo","claimData","hasClaimRef","currencies","resetKey","number","uwResetKey","isBordereauChecked","props","validation","setValidation","classes","name","isSaving","setIsSaving","currentContextActive","setCurrentContextActive","defaultValues","form","getInitialValues","validationSchema","getValidationSchema","claimForm","resolver","context","handleSubmit","setValue","onHandleSave","percentageOfSelected","wrapper","claimsContainer","claimRef","DMS_CONTEXT_CLAIM","DMS_DOCUMENT_TYPE_SECTION_KEYS","type","claims"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport PropTypes from 'prop-types';\r\n\r\n//app\r\nimport { Layout } from 'components';\r\nimport {\r\n  ClaimsFixedBottomBar,\r\n  ClaimsUnderwritingGroups,\r\n  ClaimsMovementType,\r\n  EnterClaimCardInformation,\r\n  ClaimsUploadViewSearchDocs,\r\n} from 'modules';\r\nimport styles from './EnterClaimInformation.styles';\r\nimport * as utils from 'utils';\r\nimport * as constants from 'consts';\r\n\r\n//mui\r\nimport { makeStyles, Grid, Box, Divider } from '@material-ui/core';\r\n\r\nEnterClaimInformationView.propTypes = {\r\n  catCodes: PropTypes.array.isRequired,\r\n  lossInformation: PropTypes.object.isRequired,\r\n  lossQualifiers: PropTypes.array.isRequired,\r\n  policyInformation: PropTypes.object.isRequired,\r\n  claimantNames: PropTypes.array.isRequired,\r\n  interest: PropTypes.object.isRequired,\r\n  underWritingGroups: PropTypes.object.isRequired,\r\n  complexityValues: PropTypes.array.isRequired,\r\n  referralValues: PropTypes.array.isRequired,\r\n  fields: PropTypes.array.isRequired,\r\n  isBordereauFlag: PropTypes.bool.isRequired,\r\n  isComplexFlag: PropTypes.bool.isRequired,\r\n  handleNext: PropTypes.func.isRequired,\r\n  handleSave: PropTypes.func.isRequired,\r\n  handleCancel: PropTypes.func.isRequired,\r\n  handleBack: PropTypes.func.isRequired,\r\n  existingClaimInfo: PropTypes.object.isRequired,\r\n  claimData: PropTypes.object.isRequired,\r\n  hasClaimRef: PropTypes.bool.isRequired,\r\n  currencies: PropTypes.array.isRequired,\r\n  resetKey: PropTypes.number,\r\n  uwResetKey: PropTypes.number,\r\n  isBordereauChecked: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport function EnterClaimInformationView(props) {\r\n  const {\r\n    catCodes,\r\n    lossInformation,\r\n    lossQualifiers,\r\n    policyInformation,\r\n    claimantNames,\r\n    interest,\r\n    underWritingGroups,\r\n    complexityValues,\r\n    referralValues,\r\n    fields,\r\n    isBordereauFlag,\r\n    isComplexFlag,\r\n    handleNext,\r\n    handleSave,\r\n    handleCancel,\r\n    handleBack,\r\n    validation,\r\n    setValidation,\r\n    existingClaimInfo,\r\n    hasClaimRef,\r\n    currencies,\r\n    resetKey,\r\n    uwResetKey,\r\n    isBordereauChecked,\r\n    claimData,\r\n  } = props;\r\n\r\n  const classes = makeStyles(styles, { name: 'EnterClaimInformation' })();\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const [currentContextActive, setCurrentContextActive] = useState(true);\r\n  const defaultValues = utils.form.getInitialValues(fields);\r\n  const validationSchema = utils.form.getValidationSchema(fields);\r\n  const claimForm = useForm({\r\n    defaultValues,\r\n    ...(validationSchema && { resolver: yupResolver(validationSchema), context: { validation } }),\r\n  });\r\n  const { handleSubmit, setValue } = claimForm;\r\n  const onHandleSave = () => {\r\n    setIsSaving(true);\r\n    setValidation(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (validation) {\r\n      handleSubmit(handleNext)();\r\n    }\r\n    setValidation(false);\r\n  }, [validation]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  useEffect(() => {\r\n    if (isSaving) {\r\n      handleSubmit(handleSave)();\r\n      setIsSaving(false);\r\n    }\r\n    if (underWritingGroups.percentageOfSelected) {\r\n      setValue('orderPercentage', underWritingGroups.percentageOfSelected);\r\n    } else {\r\n      setValue('order', '100');\r\n    }\r\n  }, [isSaving, underWritingGroups]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.wrapper}>\r\n        <Layout main padding>\r\n          <Box className={classes.claimsContainer}>\r\n            <Grid container spacing={2}>\r\n              <>\r\n                <Grid item xs={12}>\r\n                  <EnterClaimCardInformation\r\n                    resetKey={resetKey}\r\n                    policyInformation={policyInformation}\r\n                    claimantNames={claimantNames}\r\n                    interest={interest}\r\n                    fields={fields}\r\n                    claimForm={claimForm}\r\n                    complexityValues={complexityValues}\r\n                    referralValues={referralValues}\r\n                    isBordereauFlag={isBordereauFlag}\r\n                    isComplexFlag={isComplexFlag}\r\n                    existingClaimInfo={existingClaimInfo}\r\n                    currencies={currencies}\r\n                    isBordereauChecked={isBordereauChecked}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} md={9}>\r\n                  <ClaimsUnderwritingGroups fields={fields} claimForm={claimForm} uwResetKey={uwResetKey} hasClaimRef={hasClaimRef} />\r\n                </Grid>\r\n                <Grid item xs={12} md={3}>\r\n                  <ClaimsMovementType\r\n                    fields={fields}\r\n                    claimForm={claimForm}\r\n                    underWritingGroups={underWritingGroups}\r\n                    enforceValueSet={true}\r\n                  />\r\n                </Grid>\r\n              </>\r\n            </Grid>\r\n          </Box>\r\n          <Box className={classes.claimsContainer}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                {hasClaimRef && currentContextActive && (\r\n                  <ClaimsUploadViewSearchDocs\r\n                    refData={claimData}\r\n                    refIdName={claimData?.claimRef ? 'claimRef' : 'claimReference'} //added temp condition as claimRef and claimReference keys are inconsistent, need to be fixed permanently later\r\n                    dmsContext={constants.DMS_CONTEXT_CLAIM}\r\n                    documentTypeKey={constants.DMS_DOCUMENT_TYPE_SECTION_KEYS.type.claims}\r\n                  />\r\n                )}\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </Layout>\r\n      </div>\r\n      <ClaimsFixedBottomBar\r\n        {...props}\r\n        onSave={onHandleSave}\r\n        handleNextSubmit={() => setValidation(true)}\r\n        handleBack={handleBack}\r\n        handleCancel={handleCancel}\r\n        save={true}\r\n        next={true}\r\n      />\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}