{"ast":null,"code":"import \"core-js/modules/es.array.sort\";\nimport _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\ClaimRefRfis\\\\ClaimRefRfis.view.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types'; // app\n\nimport styles from './ClaimRefRfis.styles';\nimport { Overflow, TableCell, TableFilters, TableHead, TableToolbar, Status, Translate, Pagination, Link } from 'components';\nimport * as utils from 'utils';\nimport config from 'config';\nimport { RFI_COMPLETED_STATUS, RFI_INPROGRESS_STATUS } from 'consts'; // mui\n\nimport { makeStyles, Box, Table, TableBody, TableRow } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nClaimRefRfisView.propTypes = {\n  rfis: PropTypes.array.isRequired,\n  cols: PropTypes.array.isRequired,\n  columnProps: PropTypes.func.isRequired,\n  sort: PropTypes.object.isRequired,\n  pagination: PropTypes.shape({\n    obj: PropTypes.object.isRequired,\n    handlers: PropTypes.object.isRequired\n  }).isRequired,\n  filtersArray: PropTypes.array.isRequired,\n  prioritiesList: PropTypes.array.isRequired,\n  resetKey: PropTypes.number,\n  handlers: PropTypes.shape({\n    searchSubmit: PropTypes.func.isRequired,\n    filterSearchSubmit: PropTypes.func.isRequired,\n    resetSubmit: PropTypes.func.isRequired,\n    clickRfiTask: PropTypes.func.isRequired\n  }).isRequired\n};\nexport default function ClaimRefRfisView(_ref) {\n  var _this = this;\n\n  var rfis = _ref.rfis,\n      cols = _ref.cols,\n      columnProps = _ref.columnProps,\n      sort = _ref.sort,\n      pagination = _ref.pagination,\n      filtersArray = _ref.filtersArray,\n      prioritiesList = _ref.prioritiesList,\n      handlers = _ref.handlers,\n      resetKey = _ref.resetKey;\n  var classes = makeStyles(styles, {\n    name: 'TasksProcessingTableRow'\n  })();\n\n  var getStatus = function getStatus(rfi) {\n    var targetDate = new Date(rfi === null || rfi === void 0 ? void 0 : rfi.targetDueDate).getTime();\n    var createdDate = new Date(rfi === null || rfi === void 0 ? void 0 : rfi.queryCreatedOn).getTime();\n    var dateNow = new Date().getTime();\n    var targetDDMMYY = utils.string.t('format.date', {\n      value: {\n        date: rfi === null || rfi === void 0 ? void 0 : rfi.targetDueDate,\n        format: config.ui.format.date.slashNumeric\n      }\n    });\n    var dateNowDDMMYY = utils.string.t('format.date', {\n      value: {\n        date: new Date(),\n        format: config.ui.format.date.slashNumeric\n      }\n    });\n    if (targetDate > createdDate && (rfi === null || rfi === void 0 ? void 0 : rfi.status.toLowerCase()) === RFI_COMPLETED_STATUS.toLowerCase()) return {\n      id: rfi === null || rfi === void 0 ? void 0 : rfi.status,\n      type: 'success'\n    };else if (targetDate >= createdDate && targetDate > dateNow && targetDate !== dateNow && targetDDMMYY !== dateNowDDMMYY && (rfi === null || rfi === void 0 ? void 0 : rfi.status.toLowerCase()) === RFI_INPROGRESS_STATUS.toLowerCase()) return {\n      id: rfi === null || rfi === void 0 ? void 0 : rfi.status,\n      type: 'success'\n    };else if (targetDate === dateNow || targetDDMMYY === dateNowDDMMYY) return {\n      id: rfi === null || rfi === void 0 ? void 0 : rfi.status,\n      type: 'alert'\n    };else if (targetDate <= dateNow && (rfi === null || rfi === void 0 ? void 0 : rfi.status.toLowerCase()) === RFI_INPROGRESS_STATUS.toLowerCase()) return {\n      id: rfi === null || rfi === void 0 ? void 0 : rfi.status,\n      type: 'error',\n      dateAlert: true\n    };\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    mt: 3,\n    children: [/*#__PURE__*/_jsxDEV(TableToolbar, {\n      children: /*#__PURE__*/_jsxDEV(TableFilters, {\n        search: true,\n        searchMinChars: 4,\n        filtersArray: filtersArray,\n        clearFilterKey: resetKey,\n        handlers: {\n          onSearch: handlers.searchSubmit,\n          onFilter: handlers.filterSearchSubmit,\n          onResetFilter: handlers.resetSubmit\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Overflow, {\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        \"data-testid\": \"claim-rfis-table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          columns: cols,\n          sorting: sort\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: utils.generic.isValidArray(rfis, true) && rfis.map(function (rfi) {\n            var _prioritiesList$find, _getStatus;\n\n            var status = getStatus(rfi);\n            var priorityName = rfi.priority && ((_prioritiesList$find = prioritiesList.find(function (priority) {\n              return priority.id === rfi.priority.toString();\n            })) === null || _prioritiesList$find === void 0 ? void 0 : _prioritiesList$find.description);\n            return /*#__PURE__*/_jsxDEV(TableRow, {\n              \"data-testid\": \"claim-rfis-table-row-\".concat(rfi === null || rfi === void 0 ? void 0 : rfi.queryId),\n              children: [/*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('queryId')), {}, {\n                nowrap: true,\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  text: rfi === null || rfi === void 0 ? void 0 : rfi.queryId,\n                  color: \"secondary\",\n                  onClick: function onClick() {\n                    return handlers.clickRfiTask(rfi);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 23\n                }, _this)\n              }), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('rfiSentTo')), {}, {\n                children: rfi === null || rfi === void 0 ? void 0 : rfi.assigneeFullName\n              }), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('queryCode')), {}, {\n                children: rfi === null || rfi === void 0 ? void 0 : rfi.queryCodeDescription\n              }), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('queryCreatedOn')), {}, {\n                nowrap: true,\n                children: utils.string.t('format.date', {\n                  value: {\n                    date: rfi === null || rfi === void 0 ? void 0 : rfi.queryCreatedOn,\n                    format: config.ui.format.date.text\n                  }\n                })\n              }), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('targetDueDate')), {}, {\n                nowrap: true,\n                className: ((_getStatus = getStatus(rfi)) === null || _getStatus === void 0 ? void 0 : _getStatus.dateAlert) ? classes.dateAlert : '',\n                children: utils.string.t('format.date', {\n                  value: {\n                    date: rfi === null || rfi === void 0 ? void 0 : rfi.targetDueDate,\n                    format: config.ui.format.date.text\n                  }\n                })\n              }), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('priority')), {}, {\n                children: priorityName\n              }), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('status')), {}, {\n                children: /*#__PURE__*/_jsxDEV(Status, {\n                  size: \"sm\",\n                  text: /*#__PURE__*/_jsxDEV(Translate, {\n                    label: status === null || status === void 0 ? void 0 : status.id\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 47\n                  }, _this),\n                  status: status === null || status === void 0 ? void 0 : status.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 23\n                }, _this)\n              }), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('description')), {}, {\n                children: rfi === null || rfi === void 0 ? void 0 : rfi.description\n              }), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 21\n              }, _this)]\n            }, rfi === null || rfi === void 0 ? void 0 : rfi.queryId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 19\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), (pagination === null || pagination === void 0 ? void 0 : pagination.obj) && (pagination === null || pagination === void 0 ? void 0 : pagination.handlers) && /*#__PURE__*/_jsxDEV(Pagination, {\n      page: pagination.obj.page,\n      count: pagination.obj.rowsTotal,\n      rowsPerPage: pagination.obj.rowsPerPage,\n      onChangePage: pagination.handlers.handleChangePage,\n      onChangeRowsPerPage: pagination.handlers.handleChangeRowsPerPage,\n      testid: \"claim-rfis\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_c = ClaimRefRfisView;\nClaimRefRfisView.displayName = \"ClaimRefRfisView\";\nClaimRefRfisView.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [],\n  \"displayName\": \"ClaimRefRfisView\",\n  \"props\": {\n    \"rfis\": {\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"cols\": {\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"columnProps\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"sort\": {\n      \"type\": {\n        \"name\": \"object\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"pagination\": {\n      \"type\": {\n        \"name\": \"shape\",\n        \"value\": {\n          \"obj\": {\n            \"name\": \"object\",\n            \"required\": true\n          },\n          \"handlers\": {\n            \"name\": \"object\",\n            \"required\": true\n          }\n        }\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"filtersArray\": {\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"prioritiesList\": {\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"resetKey\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"handlers\": {\n      \"type\": {\n        \"name\": \"shape\",\n        \"value\": {\n          \"searchSubmit\": {\n            \"name\": \"func\",\n            \"required\": true\n          },\n          \"filterSearchSubmit\": {\n            \"name\": \"func\",\n            \"required\": true\n          },\n          \"resetSubmit\": {\n            \"name\": \"func\",\n            \"required\": true\n          },\n          \"clickRfiTask\": {\n            \"name\": \"func\",\n            \"required\": true\n          }\n        }\n      },\n      \"required\": true,\n      \"description\": \"\"\n    }\n  }\n};\n\nif (typeof STORYBOOK_REACT_CLASSES !== \"undefined\") {\n  STORYBOOK_REACT_CLASSES[\"src\\\\modules\\\\ClaimRefRfis\\\\ClaimRefRfis.view.js\"] = {\n    name: \"ClaimRefRfisView\",\n    docgenInfo: ClaimRefRfisView.__docgenInfo,\n    path: \"src\\\\modules\\\\ClaimRefRfis\\\\ClaimRefRfis.view.js\"\n  };\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"ClaimRefRfisView\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/ClaimRefRfis/ClaimRefRfis.view.js"],"names":["React","PropTypes","styles","Overflow","TableCell","TableFilters","TableHead","TableToolbar","Status","Translate","Pagination","Link","utils","config","RFI_COMPLETED_STATUS","RFI_INPROGRESS_STATUS","makeStyles","Box","Table","TableBody","TableRow","ClaimRefRfisView","propTypes","rfis","array","isRequired","cols","columnProps","func","sort","object","pagination","shape","obj","handlers","filtersArray","prioritiesList","resetKey","number","searchSubmit","filterSearchSubmit","resetSubmit","clickRfiTask","classes","name","getStatus","rfi","targetDate","Date","targetDueDate","getTime","createdDate","queryCreatedOn","dateNow","targetDDMMYY","string","t","value","date","format","ui","slashNumeric","dateNowDDMMYY","status","toLowerCase","id","type","dateAlert","onSearch","onFilter","onResetFilter","generic","isValidArray","map","priorityName","priority","find","toString","description","queryId","assigneeFullName","queryCodeDescription","text","page","rowsTotal","rowsPerPage","handleChangePage","handleChangeRowsPerPage"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n// app\r\nimport styles from './ClaimRefRfis.styles';\r\nimport { Overflow, TableCell, TableFilters, TableHead, TableToolbar, Status, Translate, Pagination, Link } from 'components';\r\nimport * as utils from 'utils';\r\nimport config from 'config';\r\nimport { RFI_COMPLETED_STATUS, RFI_INPROGRESS_STATUS } from 'consts';\r\n\r\n// mui\r\nimport { makeStyles, Box, Table, TableBody, TableRow } from '@material-ui/core';\r\n\r\nClaimRefRfisView.propTypes = {\r\n  rfis: PropTypes.array.isRequired,\r\n  cols: PropTypes.array.isRequired,\r\n  columnProps: PropTypes.func.isRequired,\r\n  sort: PropTypes.object.isRequired,\r\n  pagination: PropTypes.shape({\r\n    obj: PropTypes.object.isRequired,\r\n    handlers: PropTypes.object.isRequired,\r\n  }).isRequired,\r\n  filtersArray: PropTypes.array.isRequired,\r\n  prioritiesList: PropTypes.array.isRequired,\r\n  resetKey: PropTypes.number,\r\n  handlers: PropTypes.shape({\r\n    searchSubmit: PropTypes.func.isRequired,\r\n    filterSearchSubmit: PropTypes.func.isRequired,\r\n    resetSubmit: PropTypes.func.isRequired,\r\n    clickRfiTask: PropTypes.func.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nexport default function ClaimRefRfisView({ rfis, cols, columnProps, sort, pagination, filtersArray, prioritiesList, handlers, resetKey }) {\r\n  const classes = makeStyles(styles, { name: 'TasksProcessingTableRow' })();\r\n\r\n  const getStatus = (rfi) => {\r\n    const targetDate = new Date(rfi?.targetDueDate).getTime();\r\n    const createdDate = new Date(rfi?.queryCreatedOn).getTime();\r\n    const dateNow = new Date().getTime();\r\n    const targetDDMMYY = utils.string.t('format.date', {\r\n      value: { date: rfi?.targetDueDate, format: config.ui.format.date.slashNumeric },\r\n    });\r\n    const dateNowDDMMYY = utils.string.t('format.date', { value: { date: new Date(), format: config.ui.format.date.slashNumeric } });\r\n\r\n    if (targetDate > createdDate && rfi?.status.toLowerCase() === RFI_COMPLETED_STATUS.toLowerCase())\r\n      return { id: rfi?.status, type: 'success' };\r\n    else if (\r\n      targetDate >= createdDate &&\r\n      targetDate > dateNow &&\r\n      targetDate !== dateNow &&\r\n      targetDDMMYY !== dateNowDDMMYY &&\r\n      rfi?.status.toLowerCase() === RFI_INPROGRESS_STATUS.toLowerCase()\r\n    )\r\n      return { id: rfi?.status, type: 'success' };\r\n    else if (targetDate === dateNow || targetDDMMYY === dateNowDDMMYY) return { id: rfi?.status, type: 'alert' };\r\n    else if (targetDate <= dateNow && rfi?.status.toLowerCase() === RFI_INPROGRESS_STATUS.toLowerCase())\r\n      return { id: rfi?.status, type: 'error', dateAlert: true };\r\n  };\r\n\r\n  return (\r\n    <Box mt={3}>\r\n      <TableToolbar>\r\n        <TableFilters\r\n          search\r\n          searchMinChars={4}\r\n          filtersArray={filtersArray}\r\n          clearFilterKey={resetKey}\r\n          handlers={{\r\n            onSearch: handlers.searchSubmit,\r\n            onFilter: handlers.filterSearchSubmit,\r\n            onResetFilter: handlers.resetSubmit,\r\n          }}\r\n        />\r\n      </TableToolbar>\r\n      <Overflow>\r\n        <Table data-testid=\"claim-rfis-table\">\r\n          <TableHead columns={cols} sorting={sort}></TableHead>\r\n          <TableBody>\r\n            {utils.generic.isValidArray(rfis, true) &&\r\n              rfis.map((rfi) => {\r\n                const status = getStatus(rfi);\r\n                const priorityName =\r\n                  rfi.priority && prioritiesList.find((priority) => priority.id === rfi.priority.toString())?.description;\r\n                return (\r\n                  <TableRow key={rfi?.queryId} data-testid={`claim-rfis-table-row-${rfi?.queryId}`}>\r\n                    <TableCell {...columnProps('queryId')} nowrap>\r\n                      <Link text={rfi?.queryId} color=\"secondary\" onClick={() => handlers.clickRfiTask(rfi)} />\r\n                    </TableCell>\r\n                    <TableCell {...columnProps('rfiSentTo')}>{rfi?.assigneeFullName}</TableCell>\r\n                    <TableCell {...columnProps('queryCode')}>{rfi?.queryCodeDescription}</TableCell>\r\n                    <TableCell {...columnProps('queryCreatedOn')} nowrap>\r\n                      {utils.string.t('format.date', {\r\n                        value: { date: rfi?.queryCreatedOn, format: config.ui.format.date.text },\r\n                      })}\r\n                    </TableCell>\r\n                    <TableCell {...columnProps('targetDueDate')} nowrap className={getStatus(rfi)?.dateAlert ? classes.dateAlert : ''}>\r\n                      {utils.string.t('format.date', {\r\n                        value: { date: rfi?.targetDueDate, format: config.ui.format.date.text },\r\n                      })}\r\n                    </TableCell>\r\n                    <TableCell {...columnProps('priority')}>{priorityName}</TableCell>\r\n                    <TableCell {...columnProps('status')}>\r\n                      <Status size=\"sm\" text={<Translate label={status?.id} />} status={status?.type} />\r\n                    </TableCell>\r\n                    <TableCell {...columnProps('description')}>{rfi?.description}</TableCell>\r\n                  </TableRow>\r\n                );\r\n              })}\r\n          </TableBody>\r\n        </Table>\r\n      </Overflow>\r\n      {pagination?.obj && pagination?.handlers && (\r\n        <Pagination\r\n          page={pagination.obj.page}\r\n          count={pagination.obj.rowsTotal}\r\n          rowsPerPage={pagination.obj.rowsPerPage}\r\n          onChangePage={pagination.handlers.handleChangePage}\r\n          onChangeRowsPerPage={pagination.handlers.handleChangeRowsPerPage}\r\n          testid=\"claim-rfis\"\r\n        />\r\n      )}\r\n    </Box>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}