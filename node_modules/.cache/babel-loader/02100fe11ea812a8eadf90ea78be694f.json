{"ast":null,"code":"var _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\DmsVersionHistory\\\\DmsVersionHistory.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types'; // app\n\nimport { DmsVersionHistoryView } from './DmsVersionHistory.view';\nimport * as utils from 'utils';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getdmsVersionHistory, getDmsVersionHistorySelector, viewDocumentsDownload } from 'stores';\nimport orderBy from 'lodash/orderBy';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nDmsVersionHistory.propTypes = {\n  docData: PropTypes.object.isRequired\n};\nexport default function DmsVersionHistory(_ref) {\n  _s();\n\n  var docData = _ref.docData;\n  var dispatch = useDispatch();\n  var versionHistory = useSelector(getDmsVersionHistorySelector);\n  var orderedVersions = orderBy(versionHistory, ['documentVersion'], ['desc']);\n  var documentId = docData === null || docData === void 0 ? void 0 : docData.documentId;\n  useEffect(function () {\n    dispatch(getdmsVersionHistory(documentId));\n  }, [dispatch, documentId]);\n\n  var documentsDownload = function documentsDownload() {\n    dispatch(viewDocumentsDownload(docData));\n  };\n\n  var columns = [{\n    id: 'version',\n    label: utils.string.t('dms.view.versionHistory.versionHeader'),\n    nowrap: true\n  }, {\n    id: 'uploadedBy',\n    label: utils.string.t('dms.view.versionHistory.uploadedBy'),\n    nowrap: true\n  }]; // abort\n\n  if (!(docData === null || docData === void 0 ? void 0 : docData.documentId) || !(docData === null || docData === void 0 ? void 0 : docData.documentName)) return null;\n  return /*#__PURE__*/_jsxDEV(DmsVersionHistoryView, {\n    columns: columns,\n    filename: docData.documentName,\n    versions: orderedVersions,\n    handlers: {\n      documentsDownload: documentsDownload\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DmsVersionHistory, \"LICDe74FGiaCpmMC05W66Mk6mXo=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = DmsVersionHistory;\n\nvar _c;\n\n$RefreshReg$(_c, \"DmsVersionHistory\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/DmsVersionHistory/DmsVersionHistory.js"],"names":["React","useEffect","PropTypes","DmsVersionHistoryView","utils","useDispatch","useSelector","getdmsVersionHistory","getDmsVersionHistorySelector","viewDocumentsDownload","orderBy","DmsVersionHistory","propTypes","docData","object","isRequired","dispatch","versionHistory","orderedVersions","documentId","documentsDownload","columns","id","label","string","t","nowrap","documentName"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB,C,CAEA;;AACA,SAASC,qBAAT,QAAsC,0BAAtC;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,oBAAT,EAA+BC,4BAA/B,EAA6DC,qBAA7D,QAA0F,QAA1F;AACA,OAAOC,OAAP,MAAoB,gBAApB;;AAEAC,iBAAiB,CAACC,SAAlB,GAA8B;AAC5BC,EAAAA,OAAO,EAAEX,SAAS,CAACY,MAAV,CAAiBC;AADE,CAA9B;AAIA,eAAe,SAASJ,iBAAT,OAAwC;AAAA;;AAAA,MAAXE,OAAW,QAAXA,OAAW;AACrD,MAAMG,QAAQ,GAAGX,WAAW,EAA5B;AAEA,MAAMY,cAAc,GAAGX,WAAW,CAACE,4BAAD,CAAlC;AAEA,MAAMU,eAAe,GAAGR,OAAO,CAACO,cAAD,EAAiB,CAAC,iBAAD,CAAjB,EAAsC,CAAC,MAAD,CAAtC,CAA/B;AACA,MAAME,UAAU,GAAGN,OAAH,aAAGA,OAAH,uBAAGA,OAAO,CAAEM,UAA5B;AAEAlB,EAAAA,SAAS,CAAC,YAAM;AACde,IAAAA,QAAQ,CAACT,oBAAoB,CAACY,UAAD,CAArB,CAAR;AACD,GAFQ,EAEN,CAACH,QAAD,EAAWG,UAAX,CAFM,CAAT;;AAIA,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAC9BJ,IAAAA,QAAQ,CAACP,qBAAqB,CAACI,OAAD,CAAtB,CAAR;AACD,GAFD;;AAIA,MAAMQ,OAAO,GAAG,CACd;AACEC,IAAAA,EAAE,EAAE,SADN;AAEEC,IAAAA,KAAK,EAAEnB,KAAK,CAACoB,MAAN,CAAaC,CAAb,CAAe,uCAAf,CAFT;AAGEC,IAAAA,MAAM,EAAE;AAHV,GADc,EAMd;AACEJ,IAAAA,EAAE,EAAE,YADN;AAEEC,IAAAA,KAAK,EAAEnB,KAAK,CAACoB,MAAN,CAAaC,CAAb,CAAe,oCAAf,CAFT;AAGEC,IAAAA,MAAM,EAAE;AAHV,GANc,CAAhB,CAhBqD,CA6BrD;;AACA,MAAI,EAACb,OAAD,aAACA,OAAD,uBAACA,OAAO,CAAEM,UAAV,KAAwB,EAACN,OAAD,aAACA,OAAD,uBAACA,OAAO,CAAEc,YAAV,CAA5B,EAAoD,OAAO,IAAP;AAEpD,sBACE,QAAC,qBAAD;AAAuB,IAAA,OAAO,EAAEN,OAAhC;AAAyC,IAAA,QAAQ,EAAER,OAAO,CAACc,YAA3D;AAAyE,IAAA,QAAQ,EAAET,eAAnF;AAAoG,IAAA,QAAQ,EAAE;AAAEE,MAAAA,iBAAiB,EAAjBA;AAAF;AAA9G;AAAA;AAAA;AAAA;AAAA,UADF;AAGD;;GAnCuBT,iB;UACLN,W,EAEMC,W;;;KAHDK,iB","sourcesContent":["import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n// app\r\nimport { DmsVersionHistoryView } from './DmsVersionHistory.view';\r\nimport * as utils from 'utils';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getdmsVersionHistory, getDmsVersionHistorySelector, viewDocumentsDownload } from 'stores';\r\nimport orderBy from 'lodash/orderBy';\r\n\r\nDmsVersionHistory.propTypes = {\r\n  docData: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default function DmsVersionHistory({ docData }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const versionHistory = useSelector(getDmsVersionHistorySelector);\r\n\r\n  const orderedVersions = orderBy(versionHistory, ['documentVersion'], ['desc']);\r\n  const documentId = docData?.documentId;\r\n\r\n  useEffect(() => {\r\n    dispatch(getdmsVersionHistory(documentId));\r\n  }, [dispatch, documentId]);\r\n\r\n  const documentsDownload = () => {\r\n    dispatch(viewDocumentsDownload(docData));\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      id: 'version',\r\n      label: utils.string.t('dms.view.versionHistory.versionHeader'),\r\n      nowrap: true,\r\n    },\r\n    {\r\n      id: 'uploadedBy',\r\n      label: utils.string.t('dms.view.versionHistory.uploadedBy'),\r\n      nowrap: true,\r\n    },\r\n  ];\r\n\r\n  // abort\r\n  if (!docData?.documentId || !docData?.documentName) return null;\r\n\r\n  return (\r\n    <DmsVersionHistoryView columns={columns} filename={docData.documentName} versions={orderedVersions} handlers={{ documentsDownload }} />\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}