{"ast":null,"code":"import _slicedToArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\pages\\\\PremiumProcessingCaseDetails\\\\PremiumProcessingCaseDetails.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory, useParams } from 'react-router';\nimport { Helmet } from 'react-helmet';\nimport get from 'lodash/get'; // app\n\nimport { PremiumProcessingCaseDetailsView } from './PremiumProcessingCaseDetails.view';\nimport { getCaseTeamModule, getCheckSigningCaseHistory, getCaseHistoryDetails, getCaseTeamDetails, selectCaseDetails, selectCaseRfiDetails, hideModal, showModal, selectRefDataNewProcessType, selectRefDataNewFacilityType, selectRefDataNewBordereauType, selectRefDataNewBordereauPolicyType, getCaseTeamDetailsSuccess, selectCaseIsCheckSigning, selectUser, selectPremiumProcessingCasesSelected, getCaseRFIDetails } from 'stores';\nimport { useConfirmNavigation } from 'hooks';\nimport * as constants from 'consts';\nimport * as utils from 'utils';\nimport config from 'config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar PremiumProcessingCaseDetails = function PremiumProcessingCaseDetails() {\n  _s();\n\n  var _user$userRole, _user$userRole2;\n\n  var history = useHistory();\n  var dispatch = useDispatch();\n\n  var _useParams = useParams(),\n      id = _useParams.id,\n      tab = _useParams.tab;\n\n  var _useConfirmNavigation = useConfirmNavigation(),\n      confirmNavigation = _useConfirmNavigation.confirmNavigation;\n\n  var user = useSelector(selectUser);\n  var caseDetails = useSelector(selectCaseDetails);\n  var caseRfiDetails = useSelector(selectCaseRfiDetails);\n  var uiBrand = useSelector(function (state) {\n    return get(state, 'ui.brand');\n  });\n  var processTypeRefData = useSelector(selectRefDataNewProcessType) || [];\n  var facilityTypeRefData = useSelector(selectRefDataNewFacilityType) || [];\n  var bordereauTypeRefData = useSelector(selectRefDataNewBordereauType) || [];\n  var bordereauPolicyTypeRefData = useSelector(selectRefDataNewBordereauPolicyType) || [];\n  var isCheckSigning = useSelector(selectCaseIsCheckSigning) || false;\n  var cases = useSelector(selectPremiumProcessingCasesSelected);\n  var isFCE = user === null || user === void 0 ? void 0 : (_user$userRole = user.userRole) === null || _user$userRole === void 0 ? void 0 : _user$userRole.some(function (role) {\n    return (role === null || role === void 0 ? void 0 : role.name) === constants.ROLE_FRONT_END_CONTACT;\n  });\n  var isOperationsLead = user === null || user === void 0 ? void 0 : (_user$userRole2 = user.userRole) === null || _user$userRole2 === void 0 ? void 0 : _user$userRole2.some(function (role) {\n    return (role === null || role === void 0 ? void 0 : role.name) === constants.ROLE_OPERATIONS_LEAD;\n  });\n  var hasDocumentSearchPermission = isFCE || isOperationsLead;\n  var taskId = id || '';\n  var processId = caseDetails.processId,\n      caseId = caseDetails.caseId,\n      caseStageDetails = caseDetails.caseStageDetails;\n  var rfiCaseId = caseRfiDetails === null || caseRfiDetails === void 0 ? void 0 : caseRfiDetails.caseId;\n  var rfiType = (caseRfiDetails === null || caseRfiDetails === void 0 ? void 0 : caseRfiDetails.rfiType) ? true : false;\n  var rfiProcessId = caseRfiDetails === null || caseRfiDetails === void 0 ? void 0 : caseRfiDetails.processId;\n  var isIssueDocumentStage = caseStageDetails === null || caseStageDetails === void 0 ? void 0 : caseStageDetails.some(function (cs) {\n    return [constants.BPM_STAGE_ISSUE_DOCUMENTS].includes(cs.bpmStageCode) && cs.active;\n  });\n  var isCompletedStage = caseStageDetails === null || caseStageDetails === void 0 ? void 0 : caseStageDetails.some(function (cs) {\n    return [constants.BPM_STAGE_COMPLETED].includes(cs.bpmStageCode) && cs.active;\n  });\n  var isRejectedStage = caseStageDetails === null || caseStageDetails === void 0 ? void 0 : caseStageDetails.some(function (cs) {\n    return [constants.BPM_STAGE_REJECTED].includes(cs.bpmStageCode) && cs.active;\n  });\n  var isRfiCase = utils.generic.isValidArray(cases, true) && utils.premiumProcessing.isRfi(cases === null || cases === void 0 ? void 0 : cases[0]);\n  var breadcrumbs = [{\n    name: 'premiumProcessing',\n    label: utils.string.t('premiumProcessing.breadcrumbs.home'),\n    link: config.routes.premiumProcessing.root\n  }].concat(_toConsumableArray(caseId ? [{\n    name: 'caseId',\n    label: utils.string.t('premiumProcessing.breadcrumbs.case', {\n      id: caseId\n    }),\n    link: '#',\n    active: true\n  }] : []));\n  var tabs = [{\n    value: constants.PREMIUM_PROCESSING_TAB_CASE_DETAILS,\n    label: utils.string.t('premiumProcessing.tabs.caseDetails')\n  }, {\n    value: constants.PREMIUM_PROCESSING_TAB_DOCUMENTS,\n    label: utils.string.t('premiumProcessing.tabs.documents')\n  }, {\n    value: constants.PREMIUM_PROCESSING_TAB_RFI,\n    label: utils.string.t('premiumProcessing.tabs.rfi')\n  }].concat(_toConsumableArray(!isCheckSigning ? [{\n    value: constants.PREMIUM_PROCESSING_TAB_ISSUE_DOCUMENTS,\n    label: utils.string.t('premiumProcessing.tabs.issueDocuments'),\n    disabled: !isIssueDocumentStage && !isCompletedStage && !isRejectedStage\n  }] : []), [{\n    value: constants.PREMIUM_PROCESSING_TAB_NOTES,\n    label: utils.string.t('premiumProcessing.tabs.notes')\n  }], _toConsumableArray(isCheckSigning ? [{\n    value: constants.PREMIUM_PROCESSING_TAB_HISTORY,\n    label: utils.string.t('premiumProcessing.tabs.history')\n  }] : []));\n  var isValidTab = tabs.map(function (item) {\n    return item.value;\n  }).includes(tab);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isDataLoaded = _useState2[0],\n      setIsDataLoaded = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isPageDirty = _useState4[0],\n      setIsPageDirty = _useState4[1];\n\n  var _useState5 = useState(isValidTab ? tab : constants.PREMIUM_PROCESSING_TAB_CASE_DETAILS),\n      _useState6 = _slicedToArray(_useState5, 2),\n      selectedTab = _useState6[0],\n      setSelectedTab = _useState6[1];\n\n  var openUpdatingPopup = function openUpdatingPopup() {\n    dispatch(showModal({\n      component: 'CONFIRM',\n      props: {\n        fullWidth: true,\n        title: utils.string.t('premiumProcessing.alert'),\n        maxWidth: 'xs',\n        componentProps: {\n          hideCancelButton: true,\n          confirmLabel: utils.string.t('processingInstructions.authorisations.form.confirm'),\n          confirmMessage: /*#__PURE__*/_jsxDEV(\"span\", {\n            dangerouslySetInnerHTML: {\n              __html: \"\".concat(utils.string.t('premiumProcessing.piHyperLinkErrorMessage'))\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 15\n          }, _this),\n          buttonColors: {\n            confirm: 'secondary'\n          },\n          submitHandler: function submitHandler() {},\n          handleClose: function handleClose() {}\n        }\n      }\n    }));\n  };\n\n  var switchTab = function switchTab(newTab) {\n    setSelectedTab(newTab);\n    setIsPageDirty(false);\n    history.replace(\"\".concat(config.routes.premiumProcessing.case).concat(taskId ? \"/\".concat(taskId) : '').concat(tab ? \"/\".concat(newTab) : ''));\n    dispatch(hideModal());\n  };\n\n  var stayOnTab = function stayOnTab() {\n    dispatch(hideModal());\n  };\n\n  var selectTab = function selectTab(tab) {\n    if (isPageDirty) {\n      confirmNavigation(function () {\n        return switchTab(tab);\n      }, stayOnTab);\n    } else {\n      setIsPageDirty(false);\n      setSelectedTab(tab);\n      history.replace(\"\".concat(config.routes.premiumProcessing.case).concat(taskId ? \"/\".concat(taskId) : '').concat(tab ? \"/\".concat(tab) : '').concat(tab === constants.PREMIUM_PROCESSING_TAB_RFI ? \"/\".concat(constants.PREMIUM_PROCESSING_TAB_NEW_RFI) : tab === constants.PREMIUM_PROCESSING_TAB_ISSUE_DOCUMENTS ? \"/\".concat(constants.PREMIUM_PROCESSING_TAB_NON_BUREAU) : ''));\n    }\n  };\n\n  useEffect(function () {\n    if (isRfiCase) {\n      var _cases$, _cases$2, _cases$3;\n\n      dispatch(getCaseRFIDetails({\n        taskId: (_cases$ = cases[0]) === null || _cases$ === void 0 ? void 0 : _cases$.taskId,\n        processId: (_cases$2 = cases[0]) === null || _cases$2 === void 0 ? void 0 : _cases$2.processId,\n        caseIncidentId: (_cases$3 = cases[0]) === null || _cases$3 === void 0 ? void 0 : _cases$3.caseId\n      }));\n    }\n\n    if (taskId && !isDataLoaded && !isRfiCase) {\n      dispatch(getCaseTeamDetails({\n        taskId: taskId,\n        taskView: caseDetails.taskView || constants.WORKLIST\n      })).then(function (response) {\n        if ((response === null || response === void 0 ? void 0 : response.message) === constants.API_RESPONSE_SUCCESS) {\n          var _response$status;\n\n          if ((response === null || response === void 0 ? void 0 : (_response$status = response.status) === null || _response$status === void 0 ? void 0 : _response$status.toUpperCase()) === constants.API_RESPONSE_OK) {\n            var _response$data, _response$data$caseDe, _response$data2, _response$data2$caseD, _response$data3, _response$data3$caseD, _response$data4, _response$data4$caseD, _response$data7, _response$data7$caseD;\n\n            response.data.caseDetails.processId = ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$caseDe = _response$data.caseDetails) === null || _response$data$caseDe === void 0 ? void 0 : _response$data$caseDe.processId) && utils.referenceData.processTypes.getNameById(processTypeRefData, (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : (_response$data2$caseD = _response$data2.caseDetails) === null || _response$data2$caseD === void 0 ? void 0 : _response$data2$caseD.processId) || '';\n\n            if (((_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : (_response$data3$caseD = _response$data3.caseDetails) === null || _response$data3$caseD === void 0 ? void 0 : _response$data3$caseD.processId) === constants.FDO && ((_response$data4 = response.data) === null || _response$data4 === void 0 ? void 0 : (_response$data4$caseD = _response$data4.caseDetails) === null || _response$data4$caseD === void 0 ? void 0 : _response$data4$caseD.facilityTypeId)) {\n              var _response$data5, _response$data5$caseD, _response$data6, _response$data6$caseD;\n\n              var facilityTypesName = utils.generic.isValidArray(facilityTypeRefData, true) && ((_response$data5 = response.data) === null || _response$data5 === void 0 ? void 0 : (_response$data5$caseD = _response$data5.caseDetails) === null || _response$data5$caseD === void 0 ? void 0 : _response$data5$caseD.facilityTypeId) && utils.referenceData.facilityTypes.getNameById(facilityTypeRefData, (_response$data6 = response.data) === null || _response$data6 === void 0 ? void 0 : (_response$data6$caseD = _response$data6.caseDetails) === null || _response$data6$caseD === void 0 ? void 0 : _response$data6$caseD.facilityTypeId) || '';\n              response.data.caseDetails.facilityTypeId = facilityTypesName;\n            }\n\n            if (((_response$data7 = response.data) === null || _response$data7 === void 0 ? void 0 : (_response$data7$caseD = _response$data7.caseDetails) === null || _response$data7$caseD === void 0 ? void 0 : _response$data7$caseD.processId) === constants.BORDEREAU) {\n              var _response$data8, _response$data8$caseD, _response$data11, _response$data11$case;\n\n              if ((_response$data8 = response.data) === null || _response$data8 === void 0 ? void 0 : (_response$data8$caseD = _response$data8.caseDetails) === null || _response$data8$caseD === void 0 ? void 0 : _response$data8$caseD.bordereauTypeId) {\n                var _response$data9, _response$data9$caseD, _response$data10, _response$data10$case;\n\n                var bordereauTypeName = utils.generic.isValidArray(bordereauTypeRefData, true) && ((_response$data9 = response.data) === null || _response$data9 === void 0 ? void 0 : (_response$data9$caseD = _response$data9.caseDetails) === null || _response$data9$caseD === void 0 ? void 0 : _response$data9$caseD.bordereauTypeId) && utils.referenceData.bordereauTypes.getNameById(bordereauTypeRefData, (_response$data10 = response.data) === null || _response$data10 === void 0 ? void 0 : (_response$data10$case = _response$data10.caseDetails) === null || _response$data10$case === void 0 ? void 0 : _response$data10$case.bordereauTypeId) || '';\n                response.data.caseDetails.bordereauTypeId = bordereauTypeName;\n              }\n\n              if ((_response$data11 = response.data) === null || _response$data11 === void 0 ? void 0 : (_response$data11$case = _response$data11.caseDetails) === null || _response$data11$case === void 0 ? void 0 : _response$data11$case.policyTypeId) {\n                var _response$data12, _response$data12$case, _response$data13, _response$data13$case;\n\n                var bordereauPolicyTypeName = utils.generic.isValidArray(bordereauPolicyTypeRefData, true) && ((_response$data12 = response.data) === null || _response$data12 === void 0 ? void 0 : (_response$data12$case = _response$data12.caseDetails) === null || _response$data12$case === void 0 ? void 0 : _response$data12$case.policyTypeId) && utils.referenceData.bordereauPolicyTypes.getNameById(bordereauPolicyTypeRefData, (_response$data13 = response.data) === null || _response$data13 === void 0 ? void 0 : (_response$data13$case = _response$data13.caseDetails) === null || _response$data13$case === void 0 ? void 0 : _response$data13$case.policyTypeId) || '';\n                response.data.caseDetails.policyTypeId = bordereauPolicyTypeName;\n              }\n            }\n\n            dispatch(getCaseTeamDetailsSuccess(response.data));\n          }\n        }\n      });\n    }\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(function () {\n    var processIdData = processId ? processId : rfiProcessId;\n\n    var getData = function getData() {\n      var promises = [dispatch(getCaseTeamModule({\n        taskId: taskId,\n        rfiCaseId: rfiCaseId,\n        rfiType: rfiType\n      })), dispatch(getCaseHistoryDetails({\n        taskId: taskId,\n        processId: processId\n      })), dispatch(getCheckSigningCaseHistory({\n        processIdData: processIdData\n      }))];\n      return Promise.allSettled(promises).then(function (results) {\n        return Promise.resolve(results);\n      });\n    };\n\n    if (processId || rfiCaseId) {\n      getData().then(function (data) {\n        if (utils.generic.isValidArray(data, true)) {\n          setIsDataLoaded(true);\n        }\n      });\n    }\n  }, [taskId, processId, rfiCaseId, rfiType]); // eslint-disable-line react-hooks/exhaustive-deps\n  // abort\n\n  if (!isDataLoaded) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"\".concat(utils.string.t('premiumProcessing.title'), \" - \").concat(utils.app.getAppName(uiBrand))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(PremiumProcessingCaseDetailsView, {\n      hasDocumentSearchPermission: hasDocumentSearchPermission,\n      taskId: taskId,\n      caseId: caseId,\n      caseDetails: caseDetails,\n      breadcrumbs: breadcrumbs,\n      tabs: tabs,\n      selectedTab: selectedTab,\n      isPageDirty: isPageDirty,\n      handlers: {\n        confirmNavigation: confirmNavigation,\n        openUpdatingPopup: openUpdatingPopup,\n        selectTab: selectTab,\n        setIsPageDirty: setIsPageDirty\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(PremiumProcessingCaseDetails, \"wVuzxjEmZx6CrbUbkyyap5awGIU=\", false, function () {\n  return [useHistory, useDispatch, useParams, useConfirmNavigation, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = PremiumProcessingCaseDetails;\nexport default PremiumProcessingCaseDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"PremiumProcessingCaseDetails\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/pages/PremiumProcessingCaseDetails/PremiumProcessingCaseDetails.js"],"names":["React","useEffect","useState","useSelector","useDispatch","useHistory","useParams","Helmet","get","PremiumProcessingCaseDetailsView","getCaseTeamModule","getCheckSigningCaseHistory","getCaseHistoryDetails","getCaseTeamDetails","selectCaseDetails","selectCaseRfiDetails","hideModal","showModal","selectRefDataNewProcessType","selectRefDataNewFacilityType","selectRefDataNewBordereauType","selectRefDataNewBordereauPolicyType","getCaseTeamDetailsSuccess","selectCaseIsCheckSigning","selectUser","selectPremiumProcessingCasesSelected","getCaseRFIDetails","useConfirmNavigation","constants","utils","config","PremiumProcessingCaseDetails","history","dispatch","id","tab","confirmNavigation","user","caseDetails","caseRfiDetails","uiBrand","state","processTypeRefData","facilityTypeRefData","bordereauTypeRefData","bordereauPolicyTypeRefData","isCheckSigning","cases","isFCE","userRole","some","role","name","ROLE_FRONT_END_CONTACT","isOperationsLead","ROLE_OPERATIONS_LEAD","hasDocumentSearchPermission","taskId","processId","caseId","caseStageDetails","rfiCaseId","rfiType","rfiProcessId","isIssueDocumentStage","cs","BPM_STAGE_ISSUE_DOCUMENTS","includes","bpmStageCode","active","isCompletedStage","BPM_STAGE_COMPLETED","isRejectedStage","BPM_STAGE_REJECTED","isRfiCase","generic","isValidArray","premiumProcessing","isRfi","breadcrumbs","label","string","t","link","routes","root","tabs","value","PREMIUM_PROCESSING_TAB_CASE_DETAILS","PREMIUM_PROCESSING_TAB_DOCUMENTS","PREMIUM_PROCESSING_TAB_RFI","PREMIUM_PROCESSING_TAB_ISSUE_DOCUMENTS","disabled","PREMIUM_PROCESSING_TAB_NOTES","PREMIUM_PROCESSING_TAB_HISTORY","isValidTab","map","item","isDataLoaded","setIsDataLoaded","isPageDirty","setIsPageDirty","selectedTab","setSelectedTab","openUpdatingPopup","component","props","fullWidth","title","maxWidth","componentProps","hideCancelButton","confirmLabel","confirmMessage","__html","buttonColors","confirm","submitHandler","handleClose","switchTab","newTab","replace","case","stayOnTab","selectTab","PREMIUM_PROCESSING_TAB_NEW_RFI","PREMIUM_PROCESSING_TAB_NON_BUREAU","caseIncidentId","taskView","WORKLIST","then","response","message","API_RESPONSE_SUCCESS","status","toUpperCase","API_RESPONSE_OK","data","referenceData","processTypes","getNameById","FDO","facilityTypeId","facilityTypesName","facilityTypes","BORDEREAU","bordereauTypeId","bordereauTypeName","bordereauTypes","policyTypeId","bordereauPolicyTypeName","bordereauPolicyTypes","processIdData","getData","promises","Promise","allSettled","results","resolve","app","getAppName"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router';\r\nimport { Helmet } from 'react-helmet';\r\nimport get from 'lodash/get';\r\n\r\n// app\r\nimport { PremiumProcessingCaseDetailsView } from './PremiumProcessingCaseDetails.view';\r\nimport {\r\n  getCaseTeamModule,\r\n  getCheckSigningCaseHistory,\r\n  getCaseHistoryDetails,\r\n  getCaseTeamDetails,\r\n  selectCaseDetails,\r\n  selectCaseRfiDetails,\r\n  hideModal,\r\n  showModal,\r\n  selectRefDataNewProcessType,\r\n  selectRefDataNewFacilityType,\r\n  selectRefDataNewBordereauType,\r\n  selectRefDataNewBordereauPolicyType,\r\n  getCaseTeamDetailsSuccess,\r\n  selectCaseIsCheckSigning,\r\n  selectUser,\r\n  selectPremiumProcessingCasesSelected,\r\n  getCaseRFIDetails\r\n} from 'stores';\r\nimport { useConfirmNavigation } from 'hooks';\r\nimport * as constants from 'consts';\r\nimport * as utils from 'utils';\r\nimport config from 'config';\r\n\r\nconst PremiumProcessingCaseDetails = () => {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const { id, tab } = useParams();\r\n  const { confirmNavigation } = useConfirmNavigation();\r\n\r\n  const user = useSelector(selectUser);\r\n  const caseDetails = useSelector(selectCaseDetails);\r\n  const caseRfiDetails = useSelector(selectCaseRfiDetails);\r\n  const uiBrand = useSelector((state) => get(state, 'ui.brand'));\r\n  const processTypeRefData = useSelector(selectRefDataNewProcessType) || [];\r\n  const facilityTypeRefData = useSelector(selectRefDataNewFacilityType) || [];\r\n  const bordereauTypeRefData = useSelector(selectRefDataNewBordereauType) || [];\r\n  const bordereauPolicyTypeRefData = useSelector(selectRefDataNewBordereauPolicyType) || [];\r\n  const isCheckSigning = useSelector(selectCaseIsCheckSigning) || false;\r\n  const cases = useSelector(selectPremiumProcessingCasesSelected);\r\n  const isFCE = user?.userRole?.some((role) => role?.name === constants.ROLE_FRONT_END_CONTACT);\r\n  const isOperationsLead = user?.userRole?.some((role) => role?.name === constants.ROLE_OPERATIONS_LEAD);\r\n  const hasDocumentSearchPermission = isFCE || isOperationsLead;\r\n\r\n  const taskId = id || '';\r\n  const { processId, caseId, caseStageDetails } = caseDetails;\r\n  const rfiCaseId = caseRfiDetails?.caseId;\r\n  const rfiType = caseRfiDetails?.rfiType ? true : false;\r\n  const rfiProcessId = caseRfiDetails?.processId;\r\n  const isIssueDocumentStage = caseStageDetails?.some((cs) => [constants.BPM_STAGE_ISSUE_DOCUMENTS].includes(cs.bpmStageCode) && cs.active);\r\n  const isCompletedStage = caseStageDetails?.some((cs) => [constants.BPM_STAGE_COMPLETED].includes(cs.bpmStageCode) && cs.active);\r\n  const isRejectedStage = caseStageDetails?.some((cs) => [constants.BPM_STAGE_REJECTED].includes(cs.bpmStageCode) && cs.active);\r\n  const isRfiCase = utils.generic.isValidArray(cases, true) && utils.premiumProcessing.isRfi(cases?.[0]);\r\n\r\n  const breadcrumbs = [\r\n    {\r\n      name: 'premiumProcessing',\r\n      label: utils.string.t('premiumProcessing.breadcrumbs.home'),\r\n      link: config.routes.premiumProcessing.root,\r\n    },\r\n    ...(caseId\r\n      ? [\r\n        {\r\n          name: 'caseId',\r\n          label: utils.string.t('premiumProcessing.breadcrumbs.case', { id: caseId }),\r\n          link: '#',\r\n          active: true,\r\n        },\r\n      ]\r\n      : []),\r\n  ];\r\n\r\n  const tabs = [\r\n    { value: constants.PREMIUM_PROCESSING_TAB_CASE_DETAILS, label: utils.string.t('premiumProcessing.tabs.caseDetails') },\r\n    { value: constants.PREMIUM_PROCESSING_TAB_DOCUMENTS, label: utils.string.t('premiumProcessing.tabs.documents') },\r\n    { value: constants.PREMIUM_PROCESSING_TAB_RFI, label: utils.string.t('premiumProcessing.tabs.rfi') },\r\n    ...(!isCheckSigning\r\n      ? [\r\n        {\r\n          value: constants.PREMIUM_PROCESSING_TAB_ISSUE_DOCUMENTS,\r\n          label: utils.string.t('premiumProcessing.tabs.issueDocuments'),\r\n          disabled: !isIssueDocumentStage && !isCompletedStage && !isRejectedStage,\r\n        },\r\n      ]\r\n      : []),\r\n    { value: constants.PREMIUM_PROCESSING_TAB_NOTES, label: utils.string.t('premiumProcessing.tabs.notes') },\r\n    ...(isCheckSigning\r\n      ? [{ value: constants.PREMIUM_PROCESSING_TAB_HISTORY, label: utils.string.t('premiumProcessing.tabs.history') }]\r\n      : []),\r\n  ];\r\n\r\n  const isValidTab = tabs.map((item) => item.value).includes(tab);\r\n\r\n  const [isDataLoaded, setIsDataLoaded] = useState(false);\r\n  const [isPageDirty, setIsPageDirty] = useState(false);\r\n  const [selectedTab, setSelectedTab] = useState(isValidTab ? tab : constants.PREMIUM_PROCESSING_TAB_CASE_DETAILS);\r\n\r\n  const openUpdatingPopup = () => {\r\n    dispatch(\r\n      showModal({\r\n        component: 'CONFIRM',\r\n        props: {\r\n          fullWidth: true,\r\n          title: utils.string.t('premiumProcessing.alert'),\r\n          maxWidth: 'xs',\r\n          componentProps: {\r\n            hideCancelButton: true,\r\n            confirmLabel: utils.string.t('processingInstructions.authorisations.form.confirm'),\r\n            confirmMessage: (\r\n              <span\r\n                dangerouslySetInnerHTML={{\r\n                  __html: `${utils.string.t('premiumProcessing.piHyperLinkErrorMessage')}`,\r\n                }}\r\n              />\r\n            ),\r\n            buttonColors: { confirm: 'secondary' },\r\n            submitHandler: () => { },\r\n            handleClose: () => { },\r\n          },\r\n        },\r\n      })\r\n    );\r\n  };\r\n\r\n  const switchTab = (newTab) => {\r\n    setSelectedTab(newTab);\r\n    setIsPageDirty(false);\r\n    history.replace(`${config.routes.premiumProcessing.case}${taskId ? `/${taskId}` : ''}${tab ? `/${newTab}` : ''}`);\r\n    dispatch(hideModal());\r\n  };\r\n\r\n  const stayOnTab = () => {\r\n    dispatch(hideModal());\r\n  };\r\n\r\n  const selectTab = (tab) => {\r\n    if (isPageDirty) {\r\n      confirmNavigation(() => switchTab(tab), stayOnTab);\r\n    } else {\r\n      setIsPageDirty(false);\r\n      setSelectedTab(tab);\r\n\r\n      history.replace(\r\n        `${config.routes.premiumProcessing.case}${taskId ? `/${taskId}` : ''}${tab ? `/${tab}` : ''}${tab === constants.PREMIUM_PROCESSING_TAB_RFI\r\n          ? `/${constants.PREMIUM_PROCESSING_TAB_NEW_RFI}`\r\n          : tab === constants.PREMIUM_PROCESSING_TAB_ISSUE_DOCUMENTS\r\n            ? `/${constants.PREMIUM_PROCESSING_TAB_NON_BUREAU}`\r\n            : ''\r\n        }`\r\n      );\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isRfiCase) {\r\n      dispatch(getCaseRFIDetails({ taskId: cases[0]?.taskId, processId: cases[0]?.processId, caseIncidentId: cases[0]?.caseId }));\r\n    }\r\n    if (taskId && !isDataLoaded && !isRfiCase) {\r\n      dispatch(getCaseTeamDetails({ taskId, taskView: caseDetails.taskView || constants.WORKLIST })).then((response) => {\r\n        if (response?.message === constants.API_RESPONSE_SUCCESS) {\r\n          if (response?.status?.toUpperCase() === constants.API_RESPONSE_OK) {\r\n            response.data.caseDetails.processId =\r\n              (response.data?.caseDetails?.processId &&\r\n                utils.referenceData.processTypes.getNameById(processTypeRefData, response.data?.caseDetails?.processId)) ||\r\n              '';\r\n            if (response.data?.caseDetails?.processId === constants.FDO && response.data?.caseDetails?.facilityTypeId) {\r\n              const facilityTypesName =\r\n                (utils.generic.isValidArray(facilityTypeRefData, true) &&\r\n                  response.data?.caseDetails?.facilityTypeId &&\r\n                  utils.referenceData.facilityTypes.getNameById(facilityTypeRefData, response.data?.caseDetails?.facilityTypeId)) ||\r\n                '';\r\n              response.data.caseDetails.facilityTypeId = facilityTypesName;\r\n            }\r\n            if (response.data?.caseDetails?.processId === constants.BORDEREAU) {\r\n              if (response.data?.caseDetails?.bordereauTypeId) {\r\n                const bordereauTypeName =\r\n                  (utils.generic.isValidArray(bordereauTypeRefData, true) &&\r\n                    response.data?.caseDetails?.bordereauTypeId &&\r\n                    utils.referenceData.bordereauTypes.getNameById(bordereauTypeRefData, response.data?.caseDetails?.bordereauTypeId)) ||\r\n                  '';\r\n                response.data.caseDetails.bordereauTypeId = bordereauTypeName;\r\n              }\r\n              if (response.data?.caseDetails?.policyTypeId) {\r\n                const bordereauPolicyTypeName =\r\n                  (utils.generic.isValidArray(bordereauPolicyTypeRefData, true) &&\r\n                    response.data?.caseDetails?.policyTypeId &&\r\n                    utils.referenceData.bordereauPolicyTypes.getNameById(\r\n                      bordereauPolicyTypeRefData,\r\n                      response.data?.caseDetails?.policyTypeId\r\n                    )) ||\r\n                  '';\r\n                response.data.caseDetails.policyTypeId = bordereauPolicyTypeName;\r\n              }\r\n            }\r\n            dispatch(getCaseTeamDetailsSuccess(response.data));\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  useEffect(() => {\r\n    const processIdData = processId ? processId : rfiProcessId\r\n    const getData = () => {\r\n      const promises = [\r\n        dispatch(getCaseTeamModule({ taskId, rfiCaseId, rfiType})),\r\n        dispatch(getCaseHistoryDetails({ taskId, processId })),\r\n        dispatch(getCheckSigningCaseHistory({ processIdData })),\r\n      ];\r\n      return Promise.allSettled(promises).then((results) => Promise.resolve(results));\r\n    };\r\n\r\n    if (processId || rfiCaseId) {\r\n      getData().then((data) => {\r\n        if (utils.generic.isValidArray(data, true)) {\r\n          setIsDataLoaded(true);\r\n        }\r\n      });\r\n    }\r\n  }, [taskId, processId, rfiCaseId, rfiType]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  // abort\r\n  if (!isDataLoaded) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{`${utils.string.t('premiumProcessing.title')} - ${utils.app.getAppName(uiBrand)}`}</title>\r\n      </Helmet>\r\n      <PremiumProcessingCaseDetailsView\r\n        hasDocumentSearchPermission={hasDocumentSearchPermission}\r\n        taskId={taskId}\r\n        caseId={caseId}\r\n        caseDetails={caseDetails}\r\n        breadcrumbs={breadcrumbs}\r\n        tabs={tabs}\r\n        selectedTab={selectedTab}\r\n        isPageDirty={isPageDirty}\r\n        handlers={{ confirmNavigation, openUpdatingPopup, selectTab, setIsPageDirty }}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PremiumProcessingCaseDetails;\r\n"]},"metadata":{},"sourceType":"module"}