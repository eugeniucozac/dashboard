{"ast":null,"code":"import _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\LossDetail\\\\LossDetail.view.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './LossDetail.styles';\nimport * as utils from 'utils';\nimport moment from 'moment';\nimport { useHistory } from 'react-router';\nimport { useDispatch } from 'react-redux'; //app\n\nimport { Layout, Accordion, TableHead, TableCell, Overflow, Skeleton, Chip } from 'components';\nimport { DetailCard } from 'modules';\nimport config from 'config';\nimport { STATUS_CLAIMS_DRAFT, STATUS_NOT_APPLICABLE } from 'consts';\nimport { selectClaimsTabItem } from 'stores'; //mui\n\nimport { makeStyles, Typography, Grid, Table, TableBody, TableRow, Divider } from '@material-ui/core';\nimport { Edit } from '@material-ui/icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nLossDetailView.propTypes = {\n  columns: PropTypes.array.isRequired,\n  lossInfo: PropTypes.array.isRequired,\n  lossRef: PropTypes.string.isRequired,\n  claimsAssociateWithLoss: PropTypes.array.isRequired,\n  isClaimAssociateWithLossLoading: PropTypes.bool.isRequired\n};\nexport default function LossDetailView(_ref) {\n  _s();\n\n  var _useState3,\n      _this = this;\n\n  var columns = _ref.columns,\n      lossInfo = _ref.lossInfo,\n      lossRef = _ref.lossRef,\n      claimsAssociateWithLoss = _ref.claimsAssociateWithLoss,\n      isClaimAssociateWithLossLoading = _ref.isClaimAssociateWithLossLoading;\n  var classes = makeStyles(styles, {\n    name: 'LossDetail'\n  })();\n  var history = useHistory();\n  var dispatch = useDispatch();\n\n  var _useState = useState((_useState3 = {}, _defineProperty(_useState3, utils.string.t('loss.lossInformation.title'), true), _defineProperty(_useState3, utils.string.t('loss.relatedClaims.title'), true), _useState3)),\n      _useState2 = _slicedToArray(_useState, 2),\n      accordionsExpandStatus = _useState2[0],\n      setAccordiansStatus = _useState2[1];\n\n  var infoCard = function infoCard() {\n    var title = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var details = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var isLoading = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    return /*#__PURE__*/_jsxDEV(DetailCard, {\n      title: title,\n      details: details,\n      isLoading: isLoading,\n      width: '22%'\n    }, title, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 12\n    }, _this);\n  };\n\n  var renderInfoCard = function renderInfoCard(items) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.infoCardContainer,\n      children: items === null || items === void 0 ? void 0 : items.map(function (info) {\n        return infoCard(info === null || info === void 0 ? void 0 : info.title, info === null || info === void 0 ? void 0 : info.value, info === null || info === void 0 ? void 0 : info.isLoading);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 12\n    }, _this);\n  };\n\n  var checkClaimStatus = utils.generic.isValidArray(claimsAssociateWithLoss, true) ? Boolean(claimsAssociateWithLoss === null || claimsAssociateWithLoss === void 0 ? void 0 : claimsAssociateWithLoss.find(function (claim) {\n    return (claim === null || claim === void 0 ? void 0 : claim.claimStatus) !== (STATUS_CLAIMS_DRAFT === null || STATUS_CLAIMS_DRAFT === void 0 ? void 0 : STATUS_CLAIMS_DRAFT.toUpperCase());\n  })) : false;\n\n  var actions = function actions() {\n    return [{\n      id: '1',\n      icon: Edit,\n      color: 'primary',\n      onClick: function onClick() {\n        history.push({\n          pathname: \"\".concat(config.routes.claimsFNOL.newLoss),\n          state: {\n            redirectUrl: \"\".concat(config.routes.claimsFNOL.loss, \"/\").concat(lossRef),\n            loss: {\n              isNextDiabled: true,\n              isClaimSubmitted: checkClaimStatus\n            }\n          }\n        });\n      }\n    }];\n  };\n\n  var accordionTitle = function accordionTitle(title) {\n    return /*#__PURE__*/_jsxDEV(Typography, {\n      className: classes.title,\n      variant: \"body2\",\n      children: [' ', title]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, _this);\n  };\n\n  var setAccordiansIsExpanded = function setAccordiansIsExpanded(cardName, isExpand) {\n    var accordionsStatus = _objectSpread({}, accordionsExpandStatus);\n\n    accordionsStatus[cardName] = isExpand;\n    setAccordiansStatus(accordionsStatus);\n  };\n\n  var lossRefHandler = function lossRefHandler(event, claimObj) {\n    if (event.detail === 2 && (claimObj === null || claimObj === void 0 ? void 0 : claimObj.claimReference)) {\n      dispatch(selectClaimsTabItem(claimObj, true));\n      history.push(\"\".concat(config.routes.claimsFNOL.claim, \"/\").concat(claimObj === null || claimObj === void 0 ? void 0 : claimObj.claimReference));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.wrapper,\n    children: /*#__PURE__*/_jsxDEV(Layout, {\n      main: true,\n      padding: true,\n      children: [/*#__PURE__*/_jsxDEV(Accordion, {\n        expanded: accordionsExpandStatus[utils.string.t('loss.lossInformation.title')],\n        title: accordionTitle(utils.string.t('loss.lossInformation.title')),\n        actions: actions(),\n        onChange: function onChange(event, isExpanded) {\n          return setAccordiansIsExpanded(utils.string.t('loss.lossInformation.title'), isExpanded);\n        },\n        children: renderInfoCard(lossInfo)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Accordion, {\n        expanded: accordionsExpandStatus[utils.string.t('loss.relatedClaims.title')],\n        title: accordionTitle(utils.string.t('loss.relatedClaims.title')),\n        onChange: function onChange(event, isExpanded) {\n          return setAccordiansIsExpanded(utils.string.t('loss.relatedClaims.title'), isExpanded);\n        },\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            direction: \"column\",\n            children: /*#__PURE__*/_jsxDEV(Overflow, {\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                  columns: columns\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                  children: isClaimAssociateWithLossLoading ? /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: /*#__PURE__*/_jsxDEV(TableCell, {\n                      colSpan: columns === null || columns === void 0 ? void 0 : columns.length,\n                      children: /*#__PURE__*/_jsxDEV(Skeleton, {\n                        height: 40,\n                        animation: \"wave\",\n                        displayNumber: 3\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 117,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 116,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 23\n                  }, this) : utils.generic.isValidArray(claimsAssociateWithLoss, true) && (claimsAssociateWithLoss === null || claimsAssociateWithLoss === void 0 ? void 0 : claimsAssociateWithLoss.map(function (claim, index) {\n                    return /*#__PURE__*/_jsxDEV(TableRow, {\n                      onClick: function onClick(e) {\n                        return lossRefHandler(e, claim);\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                        children: (claim === null || claim === void 0 ? void 0 : claim.claimReference) || STATUS_NOT_APPLICABLE\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 124,\n                        columnNumber: 27\n                      }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                        children: (claim === null || claim === void 0 ? void 0 : claim.claimant) || STATUS_NOT_APPLICABLE\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 127,\n                        columnNumber: 27\n                      }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                        children: (claim === null || claim === void 0 ? void 0 : claim.policyRef) || STATUS_NOT_APPLICABLE\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 128,\n                        columnNumber: 27\n                      }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                        children: moment(claim === null || claim === void 0 ? void 0 : claim.claimReceivedDate).format(config.ui.format.date.text) || STATUS_NOT_APPLICABLE\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 129,\n                        columnNumber: 27\n                      }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                        children: (claim === null || claim === void 0 ? void 0 : claim.division) || STATUS_NOT_APPLICABLE\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 132,\n                        columnNumber: 27\n                      }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                        children: (claim === null || claim === void 0 ? void 0 : claim.insured) || STATUS_NOT_APPLICABLE\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 133,\n                        columnNumber: 27\n                      }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                        children: (claim === null || claim === void 0 ? void 0 : claim.riskDetails) || STATUS_NOT_APPLICABLE\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 134,\n                        columnNumber: 27\n                      }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                        children: (claim === null || claim === void 0 ? void 0 : claim.claimStatus) || STATUS_NOT_APPLICABLE\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 135,\n                        columnNumber: 27\n                      }, _this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 123,\n                      columnNumber: 25\n                    }, _this);\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Chip, {\n          label: \"\",\n          type: 'new',\n          nestedClasses: {\n            root: classes.inFlightMarksText\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), ' ', utils.string.t('loss.relatedClaims.inFlightMarksText')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LossDetailView, \"r12zStASh4t2Sm32k+Er081NuQQ=\", false, function () {\n  return [useHistory, useDispatch];\n});\n\n_c = LossDetailView;\n\nvar _c;\n\n$RefreshReg$(_c, \"LossDetailView\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/LossDetail/LossDetail.view.js"],"names":["React","useState","PropTypes","styles","utils","moment","useHistory","useDispatch","Layout","Accordion","TableHead","TableCell","Overflow","Skeleton","Chip","DetailCard","config","STATUS_CLAIMS_DRAFT","STATUS_NOT_APPLICABLE","selectClaimsTabItem","makeStyles","Typography","Grid","Table","TableBody","TableRow","Divider","Edit","LossDetailView","propTypes","columns","array","isRequired","lossInfo","lossRef","string","claimsAssociateWithLoss","isClaimAssociateWithLossLoading","bool","classes","name","history","dispatch","t","accordionsExpandStatus","setAccordiansStatus","infoCard","title","details","isLoading","renderInfoCard","items","infoCardContainer","map","info","value","checkClaimStatus","generic","isValidArray","Boolean","find","claim","claimStatus","toUpperCase","actions","id","icon","color","onClick","push","pathname","routes","claimsFNOL","newLoss","state","redirectUrl","loss","isNextDiabled","isClaimSubmitted","accordionTitle","setAccordiansIsExpanded","cardName","isExpand","accordionsStatus","lossRefHandler","event","claimObj","detail","claimReference","wrapper","isExpanded","length","index","e","claimant","policyRef","claimReceivedDate","format","ui","date","text","division","insured","riskDetails","root","inFlightMarksText"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './LossDetail.styles';\r\nimport * as utils from 'utils';\r\nimport moment from 'moment';\r\nimport { useHistory } from 'react-router';\r\nimport { useDispatch } from 'react-redux';\r\n\r\n\r\n//app\r\nimport { Layout, Accordion, TableHead, TableCell, Overflow, Skeleton, Chip } from 'components';\r\nimport { DetailCard } from 'modules';\r\nimport config from 'config';\r\nimport { STATUS_CLAIMS_DRAFT, STATUS_NOT_APPLICABLE } from 'consts';\r\nimport { selectClaimsTabItem } from 'stores';\r\n\r\n//mui\r\nimport { makeStyles, Typography, Grid, Table, TableBody, TableRow, Divider } from '@material-ui/core';\r\nimport { Edit } from '@material-ui/icons';\r\n\r\nLossDetailView.propTypes = {\r\n  columns: PropTypes.array.isRequired,\r\n  lossInfo: PropTypes.array.isRequired,\r\n  lossRef: PropTypes.string.isRequired,\r\n  claimsAssociateWithLoss: PropTypes.array.isRequired,\r\n  isClaimAssociateWithLossLoading: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default function LossDetailView({ columns, lossInfo, lossRef, claimsAssociateWithLoss, isClaimAssociateWithLossLoading }) {\r\n  const classes = makeStyles(styles, { name: 'LossDetail' })();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [accordionsExpandStatus, setAccordiansStatus] = useState({\r\n    [utils.string.t('loss.lossInformation.title')]: true,\r\n    [utils.string.t('loss.relatedClaims.title')]: true,\r\n  });\r\n\r\n  const infoCard = (title = '', details = '', isLoading = false) => {\r\n    return <DetailCard key={title} title={title} details={details} isLoading={isLoading} width={'22%'} />;\r\n  };\r\n\r\n  const renderInfoCard = (items) => {\r\n    return <div className={classes.infoCardContainer}>{items?.map((info) => infoCard(info?.title, info?.value, info?.isLoading))}</div>;\r\n  };\r\n\r\n  const checkClaimStatus = utils.generic.isValidArray(claimsAssociateWithLoss, true)\r\n    ? Boolean(claimsAssociateWithLoss?.find((claim) => claim?.claimStatus !== STATUS_CLAIMS_DRAFT?.toUpperCase()))\r\n    : false;\r\n\r\n  const actions = () => {\r\n    return [\r\n      {\r\n        id: '1',\r\n        icon: Edit,\r\n        color: 'primary',\r\n        onClick: () => {\r\n          history.push({\r\n            pathname: `${config.routes.claimsFNOL.newLoss}`,\r\n            state: {\r\n              redirectUrl: `${config.routes.claimsFNOL.loss}/${lossRef}`,\r\n              loss: { isNextDiabled: true, isClaimSubmitted: checkClaimStatus },\r\n            },\r\n          });\r\n        },\r\n      },\r\n    ];\r\n  };\r\n\r\n  const accordionTitle = (title) => {\r\n    return (\r\n      <Typography className={classes.title} variant=\"body2\">\r\n        {' '}\r\n        {title}\r\n      </Typography>\r\n    );\r\n  };\r\n\r\n  const setAccordiansIsExpanded = (cardName, isExpand) => {\r\n    const accordionsStatus = { ...accordionsExpandStatus };\r\n    accordionsStatus[cardName] = isExpand;\r\n    setAccordiansStatus(accordionsStatus);\r\n  };\r\n\r\n  const lossRefHandler = (event, claimObj) => {\r\n    if (event.detail === 2 && claimObj?.claimReference) {\r\n      dispatch(selectClaimsTabItem(claimObj, true));\r\n      history.push(`${config.routes.claimsFNOL.claim}/${claimObj?.claimReference}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.wrapper}>\r\n      <Layout main padding>\r\n        <Accordion\r\n          expanded={accordionsExpandStatus[utils.string.t('loss.lossInformation.title')]}\r\n          title={accordionTitle(utils.string.t('loss.lossInformation.title'))}\r\n          actions={actions()}\r\n          onChange={(event, isExpanded) => setAccordiansIsExpanded(utils.string.t('loss.lossInformation.title'), isExpanded)}\r\n        >\r\n          {renderInfoCard(lossInfo)}\r\n        </Accordion>\r\n        <Divider />\r\n        <Accordion\r\n          expanded={accordionsExpandStatus[utils.string.t('loss.relatedClaims.title')]}\r\n          title={accordionTitle(utils.string.t('loss.relatedClaims.title'))}\r\n          onChange={(event, isExpanded) => setAccordiansIsExpanded(utils.string.t('loss.relatedClaims.title'), isExpanded)}\r\n        >\r\n          <Grid item xs={12}>\r\n            <Grid container direction=\"column\">\r\n              <Overflow>\r\n                <Table>\r\n                  <TableHead columns={columns} />\r\n                  <TableBody>\r\n                    {isClaimAssociateWithLossLoading ? (\r\n                      <TableRow>\r\n                        <TableCell colSpan={columns?.length}>\r\n                          <Skeleton height={40} animation=\"wave\" displayNumber={3} />\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ) : (\r\n                      utils.generic.isValidArray(claimsAssociateWithLoss, true) &&\r\n                      claimsAssociateWithLoss?.map((claim, index) => (\r\n                        <TableRow key={index} onClick={(e) => lossRefHandler(e, claim)}>\r\n                          <TableCell>\r\n                            {claim?.claimReference || STATUS_NOT_APPLICABLE}\r\n                          </TableCell>\r\n                          <TableCell>{claim?.claimant || STATUS_NOT_APPLICABLE}</TableCell>\r\n                          <TableCell>{claim?.policyRef || STATUS_NOT_APPLICABLE}</TableCell>\r\n                          <TableCell>\r\n                            {moment(claim?.claimReceivedDate).format(config.ui.format.date.text) || STATUS_NOT_APPLICABLE}\r\n                          </TableCell>\r\n                          <TableCell>{claim?.division || STATUS_NOT_APPLICABLE}</TableCell>\r\n                          <TableCell>{claim?.insured || STATUS_NOT_APPLICABLE}</TableCell>\r\n                          <TableCell>{claim?.riskDetails || STATUS_NOT_APPLICABLE}</TableCell>\r\n                          <TableCell>{claim?.claimStatus || STATUS_NOT_APPLICABLE}</TableCell>\r\n                        </TableRow>\r\n                      ))\r\n                    )}\r\n                  </TableBody>\r\n                </Table>\r\n              </Overflow>\r\n            </Grid>\r\n          </Grid>\r\n        </Accordion>\r\n        <div>\r\n          <Chip label=\"\" type={'new'} nestedClasses={{ root: classes.inFlightMarksText }} />{' '}\r\n          {utils.string.t('loss.relatedClaims.inFlightMarksText')}\r\n        </div>\r\n      </Layout>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}