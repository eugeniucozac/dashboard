{"ast":null,"code":"import _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\forms\\\\AddRiskRefAdvancedSearch\\\\AddRiskRefAdvancedSearch.view.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup'; //app\n\nimport { FormContainer, FormFields, FormGrid, FormText, TableHead, Overflow, FormActions, Button, TableCell, Warning } from 'components';\nimport * as utils from 'utils';\nimport styles from './AddRiskRefAdvancedSearch.styles'; // mui\n\nimport { Typography, Table, TableBody, makeStyles, TableRow, Checkbox, Box, Divider } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nAddRiskRefAdvancedSearchView.propTypes = {\n  fields: PropTypes.array.isRequired,\n  columns: PropTypes.array.isRequired,\n  actions: PropTypes.array.isRequired,\n  searchedResults: PropTypes.array.isRequired,\n  addedRiskReferences: PropTypes.array.isRequired,\n  handlers: PropTypes.shape({\n    checkboxClick: PropTypes.func.isRequired\n  }).isRequired\n};\nexport default function AddRiskRefAdvancedSearchView(_ref) {\n  _s();\n\n  var _this = this;\n\n  var fields = _ref.fields,\n      columns = _ref.columns,\n      actions = _ref.actions,\n      searchedResults = _ref.searchedResults,\n      addedRiskReferences = _ref.addedRiskReferences,\n      handlers = _ref.handlers;\n  var classes = makeStyles(styles, {\n    name: 'AddRiskRefAdvancedSearch'\n  })();\n  var defaultValues = utils.form.getInitialValues(fields);\n  var validationSchema = utils.form.getValidationSchema(fields);\n\n  var _useForm = useForm(_objectSpread({\n    defaultValues: defaultValues\n  }, validationSchema && {\n    resolver: yupResolver(validationSchema)\n  })),\n      control = _useForm.control,\n      handleSubmit = _useForm.handleSubmit;\n\n  var addRiskReference = actions && actions.find(function (action) {\n    return action.name === 'addRiskReference';\n  });\n\n  var onSubmit = function onSubmit(data) {\n    return addRiskReference && utils.generic.isFunction(addRiskReference.handler) && addRiskReference.handler(data);\n  };\n\n  var uniqueResults = [];\n  var riskRefIds = [];\n  searchedResults.forEach(function (res) {\n    if (!riskRefIds.includes(res.riskRefId)) {\n      riskRefIds.push(res.riskRefId);\n      uniqueResults.push(res);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: /*#__PURE__*/_jsxDEV(FormContainer, {\n      type: \"dialog\",\n      onSubmit: handleSubmit(onSubmit),\n      \"data-testid\": \"form-addRiskRefAdvancedSearch\",\n      children: [/*#__PURE__*/_jsxDEV(FormFields, {\n        type: \"dialog\",\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          my: 2,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            className: classes.subTitle,\n            children: utils.string.t('processingInstructions.addRiskReference.advancedSearch.youSearchedFor')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormGrid, {\n          container: true,\n          children: [/*#__PURE__*/_jsxDEV(FormGrid, {\n            item: true,\n            xs: 12,\n            sm: 4,\n            children: /*#__PURE__*/_jsxDEV(FormText, _objectSpread(_objectSpread({}, utils.form.getFieldProps(fields, 'insuredCoverHolderName')), {}, {\n              control: control\n            }), void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormGrid, {\n            item: true,\n            xs: 12,\n            sm: 4,\n            children: /*#__PURE__*/_jsxDEV(FormText, _objectSpread(_objectSpread({}, utils.form.getFieldProps(fields, 'department')), {}, {\n              control: control\n            }), void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormGrid, {\n            item: true,\n            xs: 12,\n            sm: 4,\n            children: /*#__PURE__*/_jsxDEV(FormText, _objectSpread(_objectSpread({}, utils.form.getFieldProps(fields, 'yearOfAccount')), {}, {\n              control: control\n            }), void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), (uniqueResults === null || uniqueResults === void 0 ? void 0 : uniqueResults.length) > 0 ? /*#__PURE__*/_jsxDEV(Box, {\n          my: 4,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            className: classes.subTitle,\n            children: utils.string.t('processingInstructions.addRiskReference.advancedSearch.advancedSearchTableTitle')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Overflow, {\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                columns: columns,\n                nestedClasses: {\n                  tableHead: classes.tableHead\n                },\n                \"data-testid\": \"processing-instructions-step-1-advance-search-results-table-head\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                children: uniqueResults === null || uniqueResults === void 0 ? void 0 : uniqueResults.map(function (searchResult) {\n                  var checked = utils.generic.isValidArray(addedRiskReferences, true) && Boolean(addedRiskReferences.find(function (item) {\n                    return item.riskRefId === searchResult.riskRefId;\n                  }));\n                  return /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      compact: true,\n                      minimal: true,\n                      children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                        color: \"primary\",\n                        checked: checked,\n                        onClick: function onClick() {\n                          return handlers.checkboxClick(searchResult, searchResult.riskRefId);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 89,\n                        columnNumber: 31\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 87,\n                      columnNumber: 27\n                    }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: searchResult.riskRefId\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 96,\n                      columnNumber: 27\n                    }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: searchResult.xbInstance\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 97,\n                      columnNumber: 27\n                    }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: searchResult.assuredName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 98,\n                      columnNumber: 27\n                    }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: searchResult.yoa\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 27\n                    }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: searchResult.clientName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 100,\n                      columnNumber: 27\n                    }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      nestedClasses: {\n                        root: classes.instructionIdsCell\n                      },\n                      children: searchResult.instructionIds\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 101,\n                      columnNumber: 27\n                    }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: searchResult.status\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 102,\n                      columnNumber: 27\n                    }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: searchResult.riskDetails\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 103,\n                      columnNumber: 27\n                    }, _this)]\n                  }, searchResult.riskRefId, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 86,\n                    columnNumber: 25\n                  }, _this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Box, {\n          p: 5,\n          children: /*#__PURE__*/_jsxDEV(Warning, {\n            text: utils.string.t('processingInstructions.addRiskReference.advancedSearch.advancedSearchResults'),\n            type: \"info\",\n            align: \"center\",\n            size: \"large\",\n            icon: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormActions, {\n        type: \"dialog\",\n        children: addRiskReference && /*#__PURE__*/_jsxDEV(Button, {\n          disabled: !(addedRiskReferences === null || addedRiskReferences === void 0 ? void 0 : addedRiskReferences.length) > 0,\n          text: addRiskReference.label,\n          type: \"submit\",\n          color: \"primary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddRiskRefAdvancedSearchView, \"PsgB5qan6lUNxVpDDKYmMV8TKfo=\", false, function () {\n  return [useForm];\n});\n\n_c = AddRiskRefAdvancedSearchView;\nAddRiskRefAdvancedSearchView.displayName = \"AddRiskRefAdvancedSearchView\";\nAddRiskRefAdvancedSearchView.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [],\n  \"displayName\": \"AddRiskRefAdvancedSearchView\",\n  \"props\": {\n    \"fields\": {\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"columns\": {\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"actions\": {\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"searchedResults\": {\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"addedRiskReferences\": {\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"handlers\": {\n      \"type\": {\n        \"name\": \"shape\",\n        \"value\": {\n          \"checkboxClick\": {\n            \"name\": \"func\",\n            \"required\": true\n          }\n        }\n      },\n      \"required\": true,\n      \"description\": \"\"\n    }\n  }\n};\n\nif (typeof STORYBOOK_REACT_CLASSES !== \"undefined\") {\n  STORYBOOK_REACT_CLASSES[\"src\\\\forms\\\\AddRiskRefAdvancedSearch\\\\AddRiskRefAdvancedSearch.view.js\"] = {\n    name: \"AddRiskRefAdvancedSearchView\",\n    docgenInfo: AddRiskRefAdvancedSearchView.__docgenInfo,\n    path: \"src\\\\forms\\\\AddRiskRefAdvancedSearch\\\\AddRiskRefAdvancedSearch.view.js\"\n  };\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"AddRiskRefAdvancedSearchView\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/forms/AddRiskRefAdvancedSearch/AddRiskRefAdvancedSearch.view.js"],"names":["React","PropTypes","useForm","yupResolver","FormContainer","FormFields","FormGrid","FormText","TableHead","Overflow","FormActions","Button","TableCell","Warning","utils","styles","Typography","Table","TableBody","makeStyles","TableRow","Checkbox","Box","Divider","AddRiskRefAdvancedSearchView","propTypes","fields","array","isRequired","columns","actions","searchedResults","addedRiskReferences","handlers","shape","checkboxClick","func","classes","name","defaultValues","form","getInitialValues","validationSchema","getValidationSchema","resolver","control","handleSubmit","addRiskReference","find","action","onSubmit","data","generic","isFunction","handler","uniqueResults","riskRefIds","forEach","res","includes","riskRefId","push","root","subTitle","string","t","getFieldProps","length","tableHead","map","searchResult","checked","isValidArray","Boolean","item","xbInstance","assuredName","yoa","clientName","instructionIdsCell","instructionIds","status","riskDetails","label"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useForm } from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\n\r\n//app\r\nimport { FormContainer, FormFields, FormGrid, FormText, TableHead, Overflow, FormActions, Button, TableCell, Warning } from 'components';\r\nimport * as utils from 'utils';\r\nimport styles from './AddRiskRefAdvancedSearch.styles';\r\n\r\n// mui\r\nimport { Typography, Table, TableBody, makeStyles, TableRow, Checkbox, Box, Divider } from '@material-ui/core';\r\n\r\nAddRiskRefAdvancedSearchView.propTypes = {\r\n  fields: PropTypes.array.isRequired,\r\n  columns: PropTypes.array.isRequired,\r\n  actions: PropTypes.array.isRequired,\r\n  searchedResults: PropTypes.array.isRequired,\r\n  addedRiskReferences: PropTypes.array.isRequired,\r\n  handlers: PropTypes.shape({\r\n    checkboxClick: PropTypes.func.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nexport default function AddRiskRefAdvancedSearchView({ fields, columns, actions, searchedResults, addedRiskReferences, handlers }) {\r\n  const classes = makeStyles(styles, { name: 'AddRiskRefAdvancedSearch' })();\r\n  const defaultValues = utils.form.getInitialValues(fields);\r\n  const validationSchema = utils.form.getValidationSchema(fields);\r\n  const { control, handleSubmit } = useForm({\r\n    defaultValues,\r\n    ...(validationSchema && { resolver: yupResolver(validationSchema) }),\r\n  });\r\n  const addRiskReference = actions && actions.find((action) => action.name === 'addRiskReference');\r\n  const onSubmit = (data) => {\r\n    return addRiskReference && utils.generic.isFunction(addRiskReference.handler) && addRiskReference.handler(data);\r\n  };\r\n  let uniqueResults = [];\r\n  let riskRefIds = [];\r\n  searchedResults.forEach((res) => {\r\n    if (!riskRefIds.includes(res.riskRefId)) {\r\n      riskRefIds.push(res.riskRefId);\r\n      uniqueResults.push(res);\r\n    }\r\n  });\r\n  return (\r\n    <div className={classes.root}>\r\n      <FormContainer type=\"dialog\" onSubmit={handleSubmit(onSubmit)} data-testid=\"form-addRiskRefAdvancedSearch\">\r\n        <FormFields type=\"dialog\">\r\n          <Box my={2}>\r\n            <Typography className={classes.subTitle}>\r\n              {utils.string.t('processingInstructions.addRiskReference.advancedSearch.youSearchedFor')}\r\n            </Typography>\r\n            <Divider />\r\n          </Box>\r\n          <FormGrid container>\r\n            <FormGrid item xs={12} sm={4}>\r\n              <FormText {...utils.form.getFieldProps(fields, 'insuredCoverHolderName')} control={control} />\r\n            </FormGrid>\r\n            <FormGrid item xs={12} sm={4}>\r\n              <FormText {...utils.form.getFieldProps(fields, 'department')} control={control} />\r\n            </FormGrid>\r\n            <FormGrid item xs={12} sm={4}>\r\n              <FormText {...utils.form.getFieldProps(fields, 'yearOfAccount')} control={control} />\r\n            </FormGrid>\r\n          </FormGrid>\r\n\r\n          {uniqueResults?.length > 0 ? (\r\n            <Box my={4}>\r\n              <Typography className={classes.subTitle}>\r\n                {utils.string.t('processingInstructions.addRiskReference.advancedSearch.advancedSearchTableTitle')}\r\n              </Typography>\r\n              <Divider />\r\n              <Overflow>\r\n                <Table>\r\n                  <TableHead\r\n                    columns={columns}\r\n                    nestedClasses={{ tableHead: classes.tableHead }}\r\n                    data-testid=\"processing-instructions-step-1-advance-search-results-table-head\"\r\n                  />\r\n                  <TableBody>\r\n                    {uniqueResults?.map((searchResult) => {\r\n                      const checked =\r\n                        utils.generic.isValidArray(addedRiskReferences, true) &&\r\n                        Boolean(addedRiskReferences.find((item) => item.riskRefId === searchResult.riskRefId));\r\n                      return (\r\n                        <TableRow key={searchResult.riskRefId}>\r\n                          <TableCell compact minimal>\r\n                            {\r\n                              <Checkbox\r\n                                color=\"primary\"\r\n                                checked={checked}\r\n                                onClick={() => handlers.checkboxClick(searchResult, searchResult.riskRefId)}\r\n                              />\r\n                            }\r\n                          </TableCell>\r\n                          <TableCell>{searchResult.riskRefId}</TableCell>\r\n                          <TableCell>{searchResult.xbInstance}</TableCell>\r\n                          <TableCell>{searchResult.assuredName}</TableCell>\r\n                          <TableCell>{searchResult.yoa}</TableCell>\r\n                          <TableCell>{searchResult.clientName}</TableCell>\r\n                          <TableCell nestedClasses={{ root: classes.instructionIdsCell }}>{searchResult.instructionIds}</TableCell>\r\n                          <TableCell>{searchResult.status}</TableCell>\r\n                          <TableCell>{searchResult.riskDetails}</TableCell>\r\n                        </TableRow>\r\n                      );\r\n                    })}\r\n                  </TableBody>\r\n                </Table>\r\n              </Overflow>\r\n            </Box>\r\n          ) : (\r\n            <Box p={5}>\r\n              <Warning\r\n                text={utils.string.t('processingInstructions.addRiskReference.advancedSearch.advancedSearchResults')}\r\n                type=\"info\"\r\n                align=\"center\"\r\n                size=\"large\"\r\n                icon\r\n              />\r\n            </Box>\r\n          )}\r\n        </FormFields>\r\n        <FormActions type=\"dialog\">\r\n          {addRiskReference && (\r\n            <Button disabled={!addedRiskReferences?.length > 0} text={addRiskReference.label} type=\"submit\" color=\"primary\" />\r\n          )}\r\n        </FormActions>\r\n      </FormContainer>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}