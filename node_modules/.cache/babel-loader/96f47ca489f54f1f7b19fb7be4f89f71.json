{"ast":null,"code":"import _classCallCheck from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\Bound\\\\Bound.js\";\nimport React, { PureComponent, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport get from 'lodash/get'; // app\n\nimport { Overflow, SectionHeader, Translate } from 'components';\nimport { BoundTable } from 'modules';\nimport * as constants from 'consts';\nimport * as utils from 'utils'; // mui\n\nimport LockIcon from '@material-ui/icons/Lock'; // state\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    placementSelected: state.placement.selected,\n    referenceDataStatusesPolicy: state.referenceData.statuses.policy,\n    referenceDataStatusesPolicyMarketQuote: state.referenceData.statuses.policyMarketQuote\n  };\n};\n\nexport var Bound = /*#__PURE__*/function (_PureComponent) {\n  _inherits(Bound, _PureComponent);\n\n  var _super = _createSuper(Bound);\n\n  function Bound() {\n    _classCallCheck(this, Bound);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Bound, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          placementSelected = _this$props.placementSelected,\n          referenceDataStatusesPolicy = _this$props.referenceDataStatusesPolicy,\n          referenceDataStatusesPolicyMarketQuote = _this$props.referenceDataStatusesPolicyMarketQuote;\n      var policies = get(placementSelected, 'policies') || [];\n      var policiesFiltered = policies.filter(function (policy) {\n        var statusQuotedId = utils.referenceData.status.getIdByCode(referenceDataStatusesPolicyMarketQuote, constants.STATUS_MARKET_QUOTED); // check if policy is from origin GXB\n\n        var isGxb = utils.policy.isOriginGxb(policy); // check if policy has markets with quotes\n\n        var marketsAll = get(policy, 'markets') || [];\n        var marketsQuoted = utils.markets.getByStatusIds(marketsAll, [statusQuotedId]);\n        var hasMarkets = marketsQuoted.length > 0; // check if policy is NTU\n\n        var statusPolicyNtuId = utils.referenceData.status.getIdByCode(referenceDataStatusesPolicy, constants.STATUS_POLICY_NTU);\n        var isInProgress = policy.statusId !== statusPolicyNtuId;\n        return isGxb && hasMarkets && isInProgress;\n      });\n\n      if (placementSelected) {\n        return /*#__PURE__*/_jsxDEV(Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(SectionHeader, {\n            title: /*#__PURE__*/_jsxDEV(Translate, {\n              label: \"placement.bound.title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 33\n            }, this),\n            icon: LockIcon,\n            testid: \"placement-bound\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Overflow, {\n            children: /*#__PURE__*/_jsxDEV(BoundTable, {\n              policies: policiesFiltered\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 9\n        }, this);\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return Bound;\n}(PureComponent);\nexport default compose(connect(mapStateToProps, null))(Bound);","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/Bound/Bound.js"],"names":["React","PureComponent","Fragment","connect","compose","get","Overflow","SectionHeader","Translate","BoundTable","constants","utils","LockIcon","mapStateToProps","state","placementSelected","placement","selected","referenceDataStatusesPolicy","referenceData","statuses","policy","referenceDataStatusesPolicyMarketQuote","policyMarketQuote","Bound","props","policies","policiesFiltered","filter","statusQuotedId","status","getIdByCode","STATUS_MARKET_QUOTED","isGxb","isOriginGxb","marketsAll","marketsQuoted","markets","getByStatusIds","hasMarkets","length","statusPolicyNtuId","STATUS_POLICY_NTU","isInProgress","statusId"],"mappings":"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","sourcesContent":["import React, { PureComponent, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport get from 'lodash/get';\r\n\r\n// app\r\nimport { Overflow, SectionHeader, Translate } from 'components';\r\nimport { BoundTable } from 'modules';\r\nimport * as constants from 'consts';\r\nimport * as utils from 'utils';\r\n\r\n// mui\r\nimport LockIcon from '@material-ui/icons/Lock';\r\n\r\n// state\r\nconst mapStateToProps = (state) => ({\r\n  placementSelected: state.placement.selected,\r\n  referenceDataStatusesPolicy: state.referenceData.statuses.policy,\r\n  referenceDataStatusesPolicyMarketQuote: state.referenceData.statuses.policyMarketQuote,\r\n});\r\n\r\nexport class Bound extends PureComponent {\r\n  render() {\r\n    const { placementSelected, referenceDataStatusesPolicy, referenceDataStatusesPolicyMarketQuote } = this.props;\r\n\r\n    const policies = get(placementSelected, 'policies') || [];\r\n\r\n    const policiesFiltered = policies.filter((policy) => {\r\n      const statusQuotedId = utils.referenceData.status.getIdByCode(referenceDataStatusesPolicyMarketQuote, constants.STATUS_MARKET_QUOTED);\r\n\r\n      // check if policy is from origin GXB\r\n      const isGxb = utils.policy.isOriginGxb(policy);\r\n\r\n      // check if policy has markets with quotes\r\n      const marketsAll = get(policy, 'markets') || [];\r\n      const marketsQuoted = utils.markets.getByStatusIds(marketsAll, [statusQuotedId]);\r\n      const hasMarkets = marketsQuoted.length > 0;\r\n\r\n      // check if policy is NTU\r\n      const statusPolicyNtuId = utils.referenceData.status.getIdByCode(referenceDataStatusesPolicy, constants.STATUS_POLICY_NTU);\r\n      const isInProgress = policy.statusId !== statusPolicyNtuId;\r\n\r\n      return isGxb && hasMarkets && isInProgress;\r\n    });\r\n\r\n    if (placementSelected) {\r\n      return (\r\n        <Fragment>\r\n          <SectionHeader title={<Translate label=\"placement.bound.title\" />} icon={LockIcon} testid=\"placement-bound\" />\r\n\r\n          <Overflow>\r\n            <BoundTable policies={policiesFiltered} />\r\n          </Overflow>\r\n        </Fragment>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, null))(Bound);\r\n"]},"metadata":{},"sourceType":"module"}