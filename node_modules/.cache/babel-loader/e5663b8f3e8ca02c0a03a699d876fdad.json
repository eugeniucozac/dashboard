{"ast":null,"code":"import _defineProperty from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\PremiumProcessingCaseAccordion\\\\PremiumProcessingCaseAccordion.view.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux'; // app\n\nimport styles from './PremiumProcessingCaseAccordion.styles';\nimport { Info, Link, Warning, Translate, Button } from 'components';\nimport * as constants from 'consts';\nimport * as utils from 'utils';\nimport { selectRefDataQueryCodes } from 'stores'; // mui\n\nimport { Box, makeStyles, Typography } from '@material-ui/core';\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nPremiumProcessingCaseAccordionView.propTypes = {\n  caseDetails: PropTypes.object,\n  rfiDetails: PropTypes.object.isRequired,\n  selectedCase: PropTypes.object.isRequired,\n  caseInstructionId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  isRfi: PropTypes.bool.isRequired,\n  isCheckSigningCase: PropTypes.bool.isRequired,\n  queryCodesRfi: PropTypes.object.isRequired,\n  handlers: PropTypes.shape({\n    caseTeamHandler: PropTypes.func.isRequired,\n    clickCaseDetails: PropTypes.func.isRequired,\n    clickPiLink: PropTypes.func.isRequired\n  })\n};\nexport function PremiumProcessingCaseAccordionView(_ref) {\n  _s();\n\n  var _this = this,\n      _selectedCase$type,\n      _selectedCase$type$sp;\n\n  var selectedCase = _ref.selectedCase,\n      caseDetails = _ref.caseDetails,\n      caseInstructionId = _ref.caseInstructionId,\n      rfiDetails = _ref.rfiDetails,\n      isRfi = _ref.isRfi,\n      isCheckSigningCase = _ref.isCheckSigningCase,\n      handlers = _ref.handlers,\n      queryCodesRfi = _ref.queryCodesRfi;\n  var classes = makeStyles(styles, {\n    name: 'PremiumProcessingCaseAccordion'\n  })();\n  var notesStrLength = 200;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      expanded = _useState2[0],\n      setExpanded = _useState2[1];\n\n  var handleClickExpandCollapse = function handleClickExpandCollapse(labelText, note) {\n    return function () {\n      if (labelText === 'app.seeMore') {\n        setExpanded(note);\n      } else {\n        setExpanded(note.slice(0, notesStrLength).trim());\n      }\n    };\n  };\n\n  var queryCodeRefData = useSelector(selectRefDataQueryCodes) || [];\n  var queryCodeTypeName = utils.generic.isValidArray(queryCodeRefData, true) && (rfiDetails === null || rfiDetails === void 0 ? void 0 : rfiDetails.queryCode) && utils.referenceData.queryCodeTypes.getNameById(queryCodeRefData, rfiDetails === null || rfiDetails === void 0 ? void 0 : rfiDetails.queryCode) || '';\n\n  var toggleButton = function toggleButton(labelText, note) {\n    return /*#__PURE__*/_jsxDEV(Button, {\n      size: \"xsmall\",\n      variant: \"text\",\n      text: /*#__PURE__*/_jsxDEV(Translate, {\n        label: labelText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, _this),\n      onClick: handleClickExpandCollapse(labelText, note),\n      nestedClasses: {\n        btn: classes.toggle,\n        label: classes.label\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }, _this);\n  };\n\n  var notesTruncated = function notesTruncated(notes) {\n    var isCollapsed = expanded === notes;\n    var notesLength = notes.length;\n\n    if (!isCollapsed && notesLength > notesStrLength) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [notes.slice(0, notesStrLength).trim(), \"...\", toggleButton('app.seeMore', notes)]\n      }, void 0, true);\n    } else if (isCollapsed && notesLength > notesStrLength) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [notes, toggleButton('app.seeLess', notes)]\n      }, void 0, true);\n    } else {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: notes\n      }, void 0, false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!isRfi && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        className: classes.title,\n        children: utils.string.t('premiumProcessing.caseTeam.caseDetails')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this), caseDetails ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classnames(classes.info),\n        children: [Object.keys(caseDetails).map(function (keyName) {\n          var _classnames;\n\n          var isQc = keyName === 'qualityControl';\n          var isPass = Boolean(isQc && caseDetails[keyName] === 'Pass');\n          var value = caseDetails[keyName] || ' ';\n          var excludedProperties = ['departmentId', 'processId', 'xbInstanceId', 'processName', 'primaryCaseID'];\n          return !excludedProperties.includes(keyName) && /*#__PURE__*/_jsxDEV(Info, {\n            title: utils.string.t(\"premiumProcessing.caseDetailsSection.\".concat(keyName)),\n            description: value,\n            nestedClasses: {\n              root: classnames(classes.boxes),\n              description: classnames((_classnames = {}, _defineProperty(_classnames, classes.pass, isPass && isQc), _defineProperty(_classnames, classes.fail, !isPass && isQc), _classnames))\n            }\n          }, keyName, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 21\n          }, _this);\n        }), !isCheckSigningCase && /*#__PURE__*/_jsxDEV(Info, {\n          title: utils.string.t('premiumProcessing.caseDetailsSection.processingInstruction'),\n          nestedClasses: {\n            root: classnames(classes.boxes)\n          },\n          content: /*#__PURE__*/_jsxDEV(Link, {\n            text: utils.string.t('premiumProcessing.processingInstructionPI', {\n              caseInstructionId: caseInstructionId\n            }),\n            color: \"secondary\",\n            underline: \"always\",\n            onClick: handlers.clickPiLink\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(Box, {\n        pt: 2,\n        pb: 2,\n        children: /*#__PURE__*/_jsxDEV(Warning, {\n          text: utils.string.t('premiumProcessing.noCaseDetails'),\n          type: \"info\",\n          align: \"center\",\n          size: \"small\",\n          icon: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        mt: 3,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          text: utils.string.t('premiumProcessing.caseDetailsSection.viewAllDetails'),\n          icon: KeyboardArrowRightIcon,\n          iconPosition: \"right\",\n          underline: \"always\",\n          color: \"secondary\",\n          onClick: handlers.clickCaseDetails\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), isRfi && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        className: classes.title,\n        children: utils.string.t('premiumProcessing.caseTeam.rfiDetails')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classnames(classes.info),\n        children: [/*#__PURE__*/_jsxDEV(Info, {\n          title: utils.string.t(\"premiumProcessing.rfi.queryId\"),\n          description: rfiDetails === null || rfiDetails === void 0 ? void 0 : rfiDetails.queryId,\n          nestedClasses: {\n            root: classnames(classes.boxes)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this), !((rfiDetails === null || rfiDetails === void 0 ? void 0 : rfiDetails.rfiType) === constants.BUREAU_RFITYPE) && /*#__PURE__*/_jsxDEV(Info, {\n          title: utils.string.t(\"premiumProcessing.rfi.queryCode\"),\n          description: queryCodesRfi === null || queryCodesRfi === void 0 ? void 0 : queryCodesRfi.queryCodeDescription,\n          nestedClasses: {\n            root: classnames(classes.boxes)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 15\n        }, this), (rfiDetails === null || rfiDetails === void 0 ? void 0 : rfiDetails.rfiType) === constants.BUREAU_RFITYPE && /*#__PURE__*/_jsxDEV(Info, {\n          title: utils.string.t(\"premiumProcessing.rfi.queryCode\"),\n          description: queryCodeTypeName,\n          nestedClasses: {\n            root: classnames(classes.boxes)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 15\n        }, this), (rfiDetails === null || rfiDetails === void 0 ? void 0 : rfiDetails.rfiType) === constants.BUREAU_RFITYPE && /*#__PURE__*/_jsxDEV(Info, {\n          title: utils.string.t(\"premiumProcessing.rfi.bureauNames\"),\n          description: rfiDetails === null || rfiDetails === void 0 ? void 0 : rfiDetails.bureauNames,\n          nestedClasses: {\n            root: classnames(classes.boxes)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 15\n        }, this), (rfiDetails === null || rfiDetails === void 0 ? void 0 : rfiDetails.rfiType) === constants.BUREAU_RFITYPE && /*#__PURE__*/_jsxDEV(Info, {\n          title: utils.string.t(\"premiumProcessing.rfi.workPackageReference\"),\n          description: rfiDetails === null || rfiDetails === void 0 ? void 0 : rfiDetails.workPackageRef,\n          nestedClasses: {\n            root: classnames(classes.boxes)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 15\n        }, this), (rfiDetails === null || rfiDetails === void 0 ? void 0 : rfiDetails.rfiType) === constants.BUREAU_RFITYPE && /*#__PURE__*/_jsxDEV(Info, {\n          title: utils.string.t(\"premiumProcessing.rfi.riskReference\"),\n          description: rfiDetails === null || rfiDetails === void 0 ? void 0 : rfiDetails.riskReference,\n          nestedClasses: {\n            root: classnames(classes.boxes)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 15\n        }, this), (rfiDetails === null || rfiDetails === void 0 ? void 0 : rfiDetails.notes) && /*#__PURE__*/_jsxDEV(Info, {\n          title: utils.string.t(\"premiumProcessing.rfi.create\", {\n            createdOn: rfiDetails.createdOn,\n            createdBy: rfiDetails.createdBy,\n            createdByRole: rfiDetails.createdByRole\n          }),\n          tooltip: rfiDetails.createdByEmail,\n          description: notesTruncated(rfiDetails === null || rfiDetails === void 0 ? void 0 : rfiDetails.notes),\n          nestedClasses: {\n            root: classnames(classes.boxes)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classnames(classes.info),\n        children: (selectedCase === null || selectedCase === void 0 ? void 0 : (_selectedCase$type = selectedCase.type) === null || _selectedCase$type === void 0 ? void 0 : (_selectedCase$type$sp = _selectedCase$type.split(',')) === null || _selectedCase$type$sp === void 0 ? void 0 : _selectedCase$type$sp.includes(constants.RFI_STATUS_RESPONSE)) && rfiDetails.responseDescription && /*#__PURE__*/_jsxDEV(Info, {\n          title: utils.string.t(\"premiumProcessing.rfi.response\", {\n            responseDate: rfiDetails.responseDate,\n            responseBy: rfiDetails.responseBy,\n            responseByRole: rfiDetails.responseByRole\n          }),\n          tooltip: rfiDetails.responseByEmail,\n          description: notesTruncated(rfiDetails.responseDescription),\n          nestedClasses: {\n            root: classnames(classes.boxes)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n}\n\n_s(PremiumProcessingCaseAccordionView, \"evIubI2JlHuV/yeXA0vQcVwm9Lw=\", false, function () {\n  return [useSelector];\n});\n\n_c = PremiumProcessingCaseAccordionView;\n\nvar _c;\n\n$RefreshReg$(_c, \"PremiumProcessingCaseAccordionView\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/PremiumProcessingCaseAccordion/PremiumProcessingCaseAccordion.view.js"],"names":["React","useState","classnames","PropTypes","useSelector","styles","Info","Link","Warning","Translate","Button","constants","utils","selectRefDataQueryCodes","Box","makeStyles","Typography","KeyboardArrowRightIcon","PremiumProcessingCaseAccordionView","propTypes","caseDetails","object","rfiDetails","isRequired","selectedCase","caseInstructionId","oneOfType","string","number","isRfi","bool","isCheckSigningCase","queryCodesRfi","handlers","shape","caseTeamHandler","func","clickCaseDetails","clickPiLink","classes","name","notesStrLength","expanded","setExpanded","handleClickExpandCollapse","labelText","note","slice","trim","queryCodeRefData","queryCodeTypeName","generic","isValidArray","queryCode","referenceData","queryCodeTypes","getNameById","toggleButton","btn","toggle","label","notesTruncated","notes","isCollapsed","notesLength","length","title","t","info","Object","keys","map","keyName","isQc","isPass","Boolean","value","excludedProperties","includes","root","boxes","description","pass","fail","queryId","rfiType","BUREAU_RFITYPE","queryCodeDescription","bureauNames","workPackageRef","riskReference","createdOn","createdBy","createdByRole","createdByEmail","type","split","RFI_STATUS_RESPONSE","responseDescription","responseDate","responseBy","responseByRole","responseByEmail"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport classnames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport { useSelector } from 'react-redux';\r\n\r\n// app\r\nimport styles from './PremiumProcessingCaseAccordion.styles';\r\nimport { Info, Link, Warning, Translate, Button } from 'components';\r\n\r\nimport * as constants from 'consts';\r\nimport * as utils from 'utils';\r\nimport { selectRefDataQueryCodes } from 'stores';\r\n\r\n// mui\r\nimport { Box, makeStyles, Typography } from '@material-ui/core';\r\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\r\n\r\nPremiumProcessingCaseAccordionView.propTypes = {\r\n  caseDetails: PropTypes.object,\r\n  rfiDetails: PropTypes.object.isRequired,\r\n  selectedCase: PropTypes.object.isRequired,\r\n  caseInstructionId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  isRfi: PropTypes.bool.isRequired,\r\n  isCheckSigningCase: PropTypes.bool.isRequired,\r\n  queryCodesRfi: PropTypes.object.isRequired,\r\n  handlers: PropTypes.shape({\r\n    caseTeamHandler: PropTypes.func.isRequired,\r\n    clickCaseDetails: PropTypes.func.isRequired,\r\n    clickPiLink: PropTypes.func.isRequired,\r\n  }),\r\n};\r\n\r\nexport function PremiumProcessingCaseAccordionView({\r\n  selectedCase,\r\n  caseDetails,\r\n  caseInstructionId,\r\n  rfiDetails,\r\n  isRfi,\r\n  isCheckSigningCase,\r\n  handlers,\r\n  queryCodesRfi,\r\n}) {\r\n  const classes = makeStyles(styles, { name: 'PremiumProcessingCaseAccordion' })();\r\n  const notesStrLength = 200;\r\n  const [expanded, setExpanded] = useState('');\r\n  const handleClickExpandCollapse = (labelText, note) => () => {\r\n    if (labelText === 'app.seeMore') {\r\n      setExpanded(note);\r\n    } else {\r\n      setExpanded(note.slice(0, notesStrLength).trim());\r\n    }\r\n  };\r\n\r\n  const queryCodeRefData = useSelector(selectRefDataQueryCodes) || [];\r\n  const queryCodeTypeName =\r\n    (utils.generic.isValidArray(queryCodeRefData, true) &&\r\n      rfiDetails?.queryCode &&\r\n      utils.referenceData.queryCodeTypes.getNameById(queryCodeRefData, rfiDetails?.queryCode)) ||\r\n    '';\r\n\r\n  const toggleButton = (labelText, note) => (\r\n    <Button\r\n      size=\"xsmall\"\r\n      variant=\"text\"\r\n      text={<Translate label={labelText} />}\r\n      onClick={handleClickExpandCollapse(labelText, note)}\r\n      nestedClasses={{ btn: classes.toggle, label: classes.label }}\r\n    />\r\n  );\r\n  const notesTruncated = (notes) => {\r\n    const isCollapsed = expanded === notes;\r\n    const notesLength = notes.length;\r\n    if (!isCollapsed && notesLength > notesStrLength) {\r\n      return (\r\n        <>\r\n          {notes.slice(0, notesStrLength).trim()}\r\n          ...\r\n          {toggleButton('app.seeMore', notes)}\r\n        </>\r\n      );\r\n    } else if (isCollapsed && notesLength > notesStrLength) {\r\n      return (\r\n        <>\r\n          {notes}\r\n          {toggleButton('app.seeLess', notes)}\r\n        </>\r\n      );\r\n    } else {\r\n      return <>{notes}</>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!isRfi && (\r\n        <>\r\n          <Typography variant=\"body2\" className={classes.title}>\r\n            {utils.string.t('premiumProcessing.caseTeam.caseDetails')}\r\n          </Typography>\r\n\r\n          {caseDetails ? (\r\n            <div className={classnames(classes.info)}>\r\n              {Object.keys(caseDetails).map((keyName) => {\r\n                const isQc = keyName === 'qualityControl';\r\n                const isPass = Boolean(isQc && caseDetails[keyName] === 'Pass');\r\n                const value = caseDetails[keyName] || ' ';\r\n                const excludedProperties = ['departmentId', 'processId', 'xbInstanceId', 'processName', 'primaryCaseID'];\r\n\r\n                return (\r\n                  !excludedProperties.includes(keyName) && (\r\n                    <Info\r\n                      key={keyName}\r\n                      title={utils.string.t(`premiumProcessing.caseDetailsSection.${keyName}`)}\r\n                      description={value}\r\n                      nestedClasses={{\r\n                        root: classnames(classes.boxes),\r\n                        description: classnames({\r\n                          [classes.pass]: isPass && isQc,\r\n                          [classes.fail]: !isPass && isQc,\r\n                        }),\r\n                      }}\r\n                    />\r\n                  )\r\n                );\r\n              })}\r\n\r\n              {!isCheckSigningCase && (\r\n                <Info\r\n                  title={utils.string.t('premiumProcessing.caseDetailsSection.processingInstruction')}\r\n                  nestedClasses={{ root: classnames(classes.boxes) }}\r\n                  content={\r\n                    <Link\r\n                      text={utils.string.t('premiumProcessing.processingInstructionPI', { caseInstructionId })}\r\n                      color=\"secondary\"\r\n                      underline=\"always\"\r\n                      onClick={handlers.clickPiLink}\r\n                    />\r\n                  }\r\n                />\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <Box pt={2} pb={2}>\r\n              <Warning text={utils.string.t('premiumProcessing.noCaseDetails')} type=\"info\" align=\"center\" size=\"small\" icon />\r\n            </Box>\r\n          )}\r\n\r\n          <Box display=\"flex\" justifyContent=\"flex-end\" mt={3}>\r\n            <Link\r\n              text={utils.string.t('premiumProcessing.caseDetailsSection.viewAllDetails')}\r\n              icon={KeyboardArrowRightIcon}\r\n              iconPosition=\"right\"\r\n              underline=\"always\"\r\n              color=\"secondary\"\r\n              onClick={handlers.clickCaseDetails}\r\n            />\r\n          </Box>\r\n        </>\r\n      )}\r\n      {isRfi && (\r\n        <>\r\n          <Typography variant=\"body2\" className={classes.title}>\r\n            {utils.string.t('premiumProcessing.caseTeam.rfiDetails')}\r\n          </Typography>\r\n          <div className={classnames(classes.info)}>\r\n            <Info\r\n              title={utils.string.t(`premiumProcessing.rfi.queryId`)}\r\n              description={rfiDetails?.queryId}\r\n              nestedClasses={{ root: classnames(classes.boxes) }}\r\n            />\r\n\r\n            {!(rfiDetails?.rfiType === constants.BUREAU_RFITYPE) && (\r\n              <Info\r\n                title={utils.string.t(`premiumProcessing.rfi.queryCode`)}\r\n                description={queryCodesRfi?.queryCodeDescription}\r\n                nestedClasses={{ root: classnames(classes.boxes) }}\r\n              />\r\n            )}\r\n            {rfiDetails?.rfiType === constants.BUREAU_RFITYPE && (\r\n              <Info\r\n                title={utils.string.t(`premiumProcessing.rfi.queryCode`)}\r\n                description={queryCodeTypeName}\r\n                nestedClasses={{ root: classnames(classes.boxes) }}\r\n              />\r\n            )}\r\n            {rfiDetails?.rfiType === constants.BUREAU_RFITYPE && (\r\n              <Info\r\n                title={utils.string.t(`premiumProcessing.rfi.bureauNames`)}\r\n                description={rfiDetails?.bureauNames}\r\n                nestedClasses={{ root: classnames(classes.boxes) }}\r\n              />\r\n            )}\r\n            {rfiDetails?.rfiType === constants.BUREAU_RFITYPE && (\r\n              <Info\r\n                title={utils.string.t(`premiumProcessing.rfi.workPackageReference`)}\r\n                description={rfiDetails?.workPackageRef}\r\n                nestedClasses={{ root: classnames(classes.boxes) }}\r\n              />\r\n            )}\r\n            {rfiDetails?.rfiType === constants.BUREAU_RFITYPE && (\r\n              <Info\r\n                title={utils.string.t(`premiumProcessing.rfi.riskReference`)}\r\n                description={rfiDetails?.riskReference}\r\n                nestedClasses={{ root: classnames(classes.boxes) }}\r\n              />\r\n            )}\r\n            {rfiDetails?.notes && (\r\n              <Info\r\n                title={utils.string.t(`premiumProcessing.rfi.create`, {\r\n                  createdOn: rfiDetails.createdOn,\r\n                  createdBy: rfiDetails.createdBy,\r\n                  createdByRole: rfiDetails.createdByRole,\r\n                })}\r\n                tooltip={rfiDetails.createdByEmail}\r\n                description={notesTruncated(rfiDetails?.notes)}\r\n                nestedClasses={{ root: classnames(classes.boxes) }}\r\n              />\r\n            )}\r\n          </div>\r\n          <div className={classnames(classes.info)}>\r\n            {selectedCase?.type?.split(',')?.includes(constants.RFI_STATUS_RESPONSE) && rfiDetails.responseDescription && (\r\n              <Info\r\n                title={utils.string.t(`premiumProcessing.rfi.response`, {\r\n                  responseDate: rfiDetails.responseDate,\r\n                  responseBy: rfiDetails.responseBy,\r\n                  responseByRole: rfiDetails.responseByRole,\r\n                })}\r\n                tooltip={rfiDetails.responseByEmail}\r\n                description={notesTruncated(rfiDetails.responseDescription)}\r\n                nestedClasses={{ root: classnames(classes.boxes) }}\r\n              />\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}