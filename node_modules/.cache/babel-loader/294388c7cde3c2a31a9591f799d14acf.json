{"ast":null,"code":"import _defineProperty from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\components\\\\Summary\\\\Summary.js\";\nimport React, { PureComponent, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\nimport classnames from 'classnames'; // app\n\nimport styles from './Summary.styles';\nimport { Button, Comments, Status, Translate } from 'components';\nimport * as utils from 'utils'; // mui\n\nimport { withStyles, withTheme, Typography, Collapse, Fade } from '@material-ui/core';\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var Summary = /*#__PURE__*/function (_PureComponent) {\n  _inherits(Summary, _PureComponent);\n\n  var _super = _createSuper(Summary);\n\n  function Summary(props) {\n    var _this;\n\n    _classCallCheck(this, Summary);\n\n    _this = _super.call(this, props);\n\n    _this.handleClick = function (event) {\n      var _this$props = _this.props,\n          expandToggle = _this$props.expandToggle,\n          handleClickExpand = _this$props.handleClickExpand;\n\n      var expanded = _this.getCollapsedStatus();\n\n      if (expandToggle === 'card') {\n        _this.handleToggle();\n      }\n\n      if (utils.generic.isFunction(handleClickExpand) && !expanded) {\n        handleClickExpand();\n      }\n    };\n\n    _this.handleToggle = function () {\n      var handleExpand = _this.props.handleExpand;\n\n      if (utils.generic.isFunction(handleExpand)) {\n        handleExpand();\n      } else {\n        _this.setState({\n          expanded: !_this.state.expanded\n        });\n      }\n    };\n\n    _this.handleStopPropagation = function (event) {\n      event.stopPropagation();\n    };\n\n    _this.getCollapsedStatus = function () {\n      var _this$props2 = _this.props,\n          expanded = _this$props2.expanded,\n          handleExpand = _this$props2.handleExpand;\n      return utils.generic.isFunction(handleExpand) ? expanded : _this.state.expanded;\n    };\n\n    _this.state = {\n      expanded: typeof props.expanded !== 'undefined' ? props.expanded : true\n    };\n    return _this;\n  }\n\n  _createClass(Summary, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          status = _this$props3.status,\n          statusOverrides = _this$props3.statusOverrides,\n          title = _this$props3.title,\n          subtitle = _this$props3.subtitle,\n          description = _this$props3.description,\n          actions = _this$props3.actions,\n          actionContent = _this$props3.actionContent,\n          infos = _this$props3.infos,\n          commentsOptions = _this$props3.commentsOptions,\n          showToggle = _this$props3.showToggle,\n          expandToggle = _this$props3.expandToggle,\n          collapseActions = _this$props3.collapseActions,\n          collapseTitle = _this$props3.collapseTitle,\n          collapseSubtitle = _this$props3.collapseSubtitle,\n          collapseDescription = _this$props3.collapseDescription,\n          collapseContent = _this$props3.collapseContent,\n          children = _this$props3.children,\n          testid = _this$props3.testid,\n          classes = _this$props3.classes,\n          theme = _this$props3.theme;\n      var expanded = this.getCollapsedStatus();\n      var mobile = utils.media.down.xs(theme);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classnames(classes.root),\n        onClick: this.handleClick,\n        \"data-testid\": \"summary\".concat(testid ? '-' + testid : ''),\n        children: [(status || actions) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classnames(classes.header, _defineProperty({}, classes.headerCollapsed, !expanded)),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.headerContent,\n            children: status && /*#__PURE__*/_jsxDEV(Status, {\n              text: /*#__PURE__*/_jsxDEV(Translate, {\n                label: \"status.\".concat(status)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 25\n              }, this),\n              status: status,\n              statusOverrides: statusOverrides,\n              size: mobile ? 'sm' : 'md',\n              \"data-testid\": \"summary-status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.headerActions,\n            children: [actions && /*#__PURE__*/_jsxDEV(Fade, {\n              in: !collapseActions || expanded,\n              timeout: theme.transitions.duration.shortest,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classnames(_defineProperty({}, classes.headerActionsCollapsed, !expanded)),\n                children: actions\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 17\n            }, this), showToggle && (expandToggle === 'btn' || expandToggle === 'card' && expanded) && /*#__PURE__*/_jsxDEV(Button, {\n              icon: KeyboardArrowUpIcon,\n              size: \"small\",\n              variant: \"text\",\n              light: true,\n              onClick: this.handleToggle,\n              tooltip: {\n                title: utils.string.t(expanded ? 'app.collapse' : 'app.expand')\n              },\n              nestedClasses: {\n                icon: classnames(classes.toggleIcon, _defineProperty({}, classes.toggleIconCollapsed, !expanded))\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), (title || actionContent) && /*#__PURE__*/_jsxDEV(Collapse, {\n          in: !collapseTitle || expanded,\n          timeout: \"auto\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classnames(classes.title, _defineProperty({}, classes.titleCollapsed, !expanded)),\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h2\",\n              className: classes.titleContent,\n              \"data-testid\": \"summary-title\",\n              children: title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this), actionContent && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.titleAction,\n              children: actionContent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), subtitle && /*#__PURE__*/_jsxDEV(Collapse, {\n          in: !collapseSubtitle || expanded,\n          timeout: \"auto\",\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            className: classnames(classes.subtitle, _defineProperty({}, classes.subtitleCollapsed, !expanded)),\n            \"data-testid\": \"summary-subtitle\",\n            children: subtitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), description && /*#__PURE__*/_jsxDEV(Collapse, {\n          in: !collapseDescription || expanded,\n          timeout: \"auto\",\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            className: classes.description,\n            \"data-testid\": \"summary-description\",\n            children: description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n          in: !collapseContent || expanded,\n          timeout: \"auto\",\n          children: /*#__PURE__*/_jsxDEV(Fragment, {\n            children: [infos && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.info,\n              children: infos\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: this.handleStopPropagation,\n              children: [children, commentsOptions.id && expanded && /*#__PURE__*/_jsxDEV(Comments, {\n                id: commentsOptions.id,\n                title: commentsOptions.title,\n                divider: commentsOptions.divider,\n                placeholder: commentsOptions.placeholder\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return Summary;\n}(PureComponent);\nSummary.propTypes = {\n  status: PropTypes.string,\n  statusOverrides: PropTypes.object,\n  title: PropTypes.oneOfType([PropTypes.string, PropTypes.element, PropTypes.arrayOf(PropTypes.element)]),\n  subtitle: PropTypes.oneOfType([PropTypes.string, PropTypes.element, PropTypes.arrayOf(PropTypes.element)]),\n  description: PropTypes.oneOfType([PropTypes.string, PropTypes.element, PropTypes.arrayOf(PropTypes.element)]),\n  actions: PropTypes.object,\n  actionContent: PropTypes.node,\n  infos: PropTypes.object,\n  commentsOptions: PropTypes.shape({\n    id: PropTypes.string,\n    divider: PropTypes.bool,\n    placeholder: PropTypes.string,\n    title: PropTypes.string,\n    truncate: PropTypes.bool\n  }),\n  showToggle: PropTypes.bool,\n  expanded: PropTypes.bool,\n  expandedToggle: PropTypes.oneOf(['btn', 'card']),\n  collapseActions: PropTypes.bool,\n  collapseTitle: PropTypes.bool,\n  collapseSubtitle: PropTypes.bool,\n  collapseDescription: PropTypes.bool,\n  collapseContent: PropTypes.bool,\n  handleExpand: PropTypes.func,\n  handleClickExpand: PropTypes.func,\n  testid: PropTypes.string\n};\nSummary.defaultProps = {\n  expanded: true,\n  expandToggle: null,\n  collapseActions: true,\n  collapseTitle: false,\n  collapseSubtitle: true,\n  collapseDescription: true,\n  collapseContent: true,\n  commentsOptions: {},\n  statusOverrides: {}\n};\nexport default compose(withStyles(styles), withTheme)(Summary);","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/components/Summary/Summary.js"],"names":["React","PureComponent","Fragment","PropTypes","compose","classnames","styles","Button","Comments","Status","Translate","utils","withStyles","withTheme","Typography","Collapse","Fade","KeyboardArrowUpIcon","Summary","props","handleClick","event","expandToggle","handleClickExpand","expanded","getCollapsedStatus","handleToggle","generic","isFunction","handleExpand","setState","state","handleStopPropagation","stopPropagation","status","statusOverrides","title","subtitle","description","actions","actionContent","infos","commentsOptions","showToggle","collapseActions","collapseTitle","collapseSubtitle","collapseDescription","collapseContent","children","testid","classes","theme","mobile","media","down","xs","root","header","headerCollapsed","headerContent","headerActions","transitions","duration","shortest","headerActionsCollapsed","string","t","icon","toggleIcon","toggleIconCollapsed","titleCollapsed","titleContent","titleAction","subtitleCollapsed","info","id","divider","placeholder","propTypes","object","oneOfType","element","arrayOf","node","shape","bool","truncate","expandedToggle","oneOf","func","defaultProps"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,QAA/B,QAA+C,OAA/C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,OAAOC,UAAP,MAAuB,YAAvB,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,SAASC,MAAT,EAAiBC,QAAjB,EAA2BC,MAA3B,EAAmCC,SAAnC,QAAoD,YAApD;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB,C,CAEA;;AACA,SAASC,UAAT,EAAqBC,SAArB,EAAgCC,UAAhC,EAA4CC,QAA5C,EAAsDC,IAAtD,QAAkE,mBAAlE;AACA,OAAOC,mBAAP,MAAgC,oCAAhC;;AAEA,WAAaC,OAAb;AAAA;;AAAA;;AA0CE,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,UAQnBC,WARmB,GAQL,UAACC,KAAD,EAAW;AAAA,wBACqB,MAAKF,KAD1B;AAAA,UACfG,YADe,eACfA,YADe;AAAA,UACDC,iBADC,eACDA,iBADC;;AAEvB,UAAMC,QAAQ,GAAG,MAAKC,kBAAL,EAAjB;;AAEA,UAAIH,YAAY,KAAK,MAArB,EAA6B;AAC3B,cAAKI,YAAL;AACD;;AAED,UAAIf,KAAK,CAACgB,OAAN,CAAcC,UAAd,CAAyBL,iBAAzB,KAA+C,CAACC,QAApD,EAA8D;AAC5DD,QAAAA,iBAAiB;AAClB;AACF,KAnBkB;;AAAA,UAqBnBG,YArBmB,GAqBJ,YAAM;AAAA,UACXG,YADW,GACM,MAAKV,KADX,CACXU,YADW;;AAGnB,UAAIlB,KAAK,CAACgB,OAAN,CAAcC,UAAd,CAAyBC,YAAzB,CAAJ,EAA4C;AAC1CA,QAAAA,YAAY;AACb,OAFD,MAEO;AACL,cAAKC,QAAL,CAAc;AACZN,UAAAA,QAAQ,EAAE,CAAC,MAAKO,KAAL,CAAWP;AADV,SAAd;AAGD;AACF,KA/BkB;;AAAA,UAiCnBQ,qBAjCmB,GAiCK,UAACX,KAAD,EAAW;AACjCA,MAAAA,KAAK,CAACY,eAAN;AACD,KAnCkB;;AAAA,UAqCnBR,kBArCmB,GAqCE,YAAM;AAAA,yBACU,MAAKN,KADf;AAAA,UACjBK,QADiB,gBACjBA,QADiB;AAAA,UACPK,YADO,gBACPA,YADO;AAGzB,aAAOlB,KAAK,CAACgB,OAAN,CAAcC,UAAd,CAAyBC,YAAzB,IAAyCL,QAAzC,GAAoD,MAAKO,KAAL,CAAWP,QAAtE;AACD,KAzCkB;;AAGjB,UAAKO,KAAL,GAAa;AACXP,MAAAA,QAAQ,EAAE,OAAOL,KAAK,CAACK,QAAb,KAA0B,WAA1B,GAAwCL,KAAK,CAACK,QAA9C,GAAyD;AADxD,KAAb;AAHiB;AAMlB;;AAhDH;AAAA;AAAA,WAqFE,kBAAS;AAAA,yBAsBH,KAAKL,KAtBF;AAAA,UAELe,MAFK,gBAELA,MAFK;AAAA,UAGLC,eAHK,gBAGLA,eAHK;AAAA,UAILC,KAJK,gBAILA,KAJK;AAAA,UAKLC,QALK,gBAKLA,QALK;AAAA,UAMLC,WANK,gBAMLA,WANK;AAAA,UAOLC,OAPK,gBAOLA,OAPK;AAAA,UAQLC,aARK,gBAQLA,aARK;AAAA,UASLC,KATK,gBASLA,KATK;AAAA,UAULC,eAVK,gBAULA,eAVK;AAAA,UAWLC,UAXK,gBAWLA,UAXK;AAAA,UAYLrB,YAZK,gBAYLA,YAZK;AAAA,UAaLsB,eAbK,gBAaLA,eAbK;AAAA,UAcLC,aAdK,gBAcLA,aAdK;AAAA,UAeLC,gBAfK,gBAeLA,gBAfK;AAAA,UAgBLC,mBAhBK,gBAgBLA,mBAhBK;AAAA,UAiBLC,eAjBK,gBAiBLA,eAjBK;AAAA,UAkBLC,QAlBK,gBAkBLA,QAlBK;AAAA,UAmBLC,MAnBK,gBAmBLA,MAnBK;AAAA,UAoBLC,OApBK,gBAoBLA,OApBK;AAAA,UAqBLC,KArBK,gBAqBLA,KArBK;AAwBP,UAAM5B,QAAQ,GAAG,KAAKC,kBAAL,EAAjB;AACA,UAAM4B,MAAM,GAAG1C,KAAK,CAAC2C,KAAN,CAAYC,IAAZ,CAAiBC,EAAjB,CAAoBJ,KAApB,CAAf;AAEA,0BACE;AAAK,QAAA,SAAS,EAAE/C,UAAU,CAAC8C,OAAO,CAACM,IAAT,CAA1B;AAA0C,QAAA,OAAO,EAAE,KAAKrC,WAAxD;AAAqE,wCAAuB8B,MAAM,GAAG,MAAMA,MAAT,GAAkB,EAA/C,CAArE;AAAA,mBACG,CAAChB,MAAM,IAAIK,OAAX,kBACC;AAAK,UAAA,SAAS,EAAElC,UAAU,CAAC8C,OAAO,CAACO,MAAT,sBAAoBP,OAAO,CAACQ,eAA5B,EAA8C,CAACnC,QAA/C,EAA1B;AAAA,kCACE;AAAK,YAAA,SAAS,EAAE2B,OAAO,CAACS,aAAxB;AAAA,sBACG1B,MAAM,iBACL,QAAC,MAAD;AACE,cAAA,IAAI,eAAE,QAAC,SAAD;AAAW,gBAAA,KAAK,mBAAYA,MAAZ;AAAhB;AAAA;AAAA;AAAA;AAAA,sBADR;AAEE,cAAA,MAAM,EAAEA,MAFV;AAGE,cAAA,eAAe,EAAEC,eAHnB;AAIE,cAAA,IAAI,EAAEkB,MAAM,GAAG,IAAH,GAAU,IAJxB;AAKE,6BAAY;AALd;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,kBADF,eAaE;AAAK,YAAA,SAAS,EAAEF,OAAO,CAACU,aAAxB;AAAA,uBACGtB,OAAO,iBACN,QAAC,IAAD;AAAM,cAAA,EAAE,EAAE,CAACK,eAAD,IAAoBpB,QAA9B;AAAwC,cAAA,OAAO,EAAE4B,KAAK,CAACU,WAAN,CAAkBC,QAAlB,CAA2BC,QAA5E;AAAA,qCACE;AAAK,gBAAA,SAAS,EAAE3D,UAAU,qBAAI8C,OAAO,CAACc,sBAAZ,EAAqC,CAACzC,QAAtC,EAA1B;AAAA,0BAA8Ee;AAA9E;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAFJ,EAMGI,UAAU,KAAKrB,YAAY,KAAK,KAAjB,IAA2BA,YAAY,KAAK,MAAjB,IAA2BE,QAA3D,CAAV,iBACC,QAAC,MAAD;AACE,cAAA,IAAI,EAAEP,mBADR;AAEE,cAAA,IAAI,EAAC,OAFP;AAGE,cAAA,OAAO,EAAC,MAHV;AAIE,cAAA,KAAK,MAJP;AAKE,cAAA,OAAO,EAAE,KAAKS,YALhB;AAME,cAAA,OAAO,EAAE;AACPU,gBAAAA,KAAK,EAAEzB,KAAK,CAACuD,MAAN,CAAaC,CAAb,CAAe3C,QAAQ,GAAG,cAAH,GAAoB,YAA3C;AADA,eANX;AASE,cAAA,aAAa,EAAE;AACb4C,gBAAAA,IAAI,EAAE/D,UAAU,CAAC8C,OAAO,CAACkB,UAAT,sBAAwBlB,OAAO,CAACmB,mBAAhC,EAAsD,CAAC9C,QAAvD;AADH;AATjB;AAAA;AAAA;AAAA;AAAA,oBAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,EAwCG,CAACY,KAAK,IAAII,aAAV,kBACC,QAAC,QAAD;AAAU,UAAA,EAAE,EAAE,CAACK,aAAD,IAAkBrB,QAAhC;AAA0C,UAAA,OAAO,EAAC,MAAlD;AAAA,iCACE;AAAK,YAAA,SAAS,EAAEnB,UAAU,CAAC8C,OAAO,CAACf,KAAT,sBAAmBe,OAAO,CAACoB,cAA3B,EAA4C,CAAC/C,QAA7C,EAA1B;AAAA,oCACE,QAAC,UAAD;AAAY,cAAA,OAAO,EAAC,IAApB;AAAyB,cAAA,SAAS,EAAE2B,OAAO,CAACqB,YAA5C;AAA0D,6BAAY,eAAtE;AAAA,wBACGpC;AADH;AAAA;AAAA;AAAA;AAAA,oBADF,EAIGI,aAAa,iBAAI;AAAK,cAAA,SAAS,EAAEW,OAAO,CAACsB,WAAxB;AAAA,wBAAsCjC;AAAtC;AAAA;AAAA;AAAA;AAAA,oBAJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAzCJ,EAmDGH,QAAQ,iBACP,QAAC,QAAD;AAAU,UAAA,EAAE,EAAE,CAACS,gBAAD,IAAqBtB,QAAnC;AAA6C,UAAA,OAAO,EAAC,MAArD;AAAA,iCACE,QAAC,UAAD;AACE,YAAA,OAAO,EAAC,IADV;AAEE,YAAA,SAAS,EAAEnB,UAAU,CAAC8C,OAAO,CAACd,QAAT,sBAAsBc,OAAO,CAACuB,iBAA9B,EAAkD,CAAClD,QAAnD,EAFvB;AAGE,2BAAY,kBAHd;AAAA,sBAKGa;AALH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBApDJ,EA+DGC,WAAW,iBACV,QAAC,QAAD;AAAU,UAAA,EAAE,EAAE,CAACS,mBAAD,IAAwBvB,QAAtC;AAAgD,UAAA,OAAO,EAAC,MAAxD;AAAA,iCACE,QAAC,UAAD;AAAY,YAAA,OAAO,EAAC,SAApB;AAA8B,YAAA,SAAS,EAAE2B,OAAO,CAACb,WAAjD;AAA8D,2BAAY,qBAA1E;AAAA,sBACGA;AADH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAhEJ,eAuEE,QAAC,QAAD;AAAU,UAAA,EAAE,EAAE,CAACU,eAAD,IAAoBxB,QAAlC;AAA4C,UAAA,OAAO,EAAC,MAApD;AAAA,iCACE,QAAC,QAAD;AAAA,uBACGiB,KAAK,iBAAI;AAAK,cAAA,SAAS,EAAEU,OAAO,CAACwB,IAAxB;AAAA,wBAA+BlC;AAA/B;AAAA;AAAA;AAAA;AAAA,oBADZ,eAIE;AAAK,cAAA,OAAO,EAAE,KAAKT,qBAAnB;AAAA,yBACGiB,QADH,EAGGP,eAAe,CAACkC,EAAhB,IAAsBpD,QAAtB,iBACC,QAAC,QAAD;AACE,gBAAA,EAAE,EAAEkB,eAAe,CAACkC,EADtB;AAEE,gBAAA,KAAK,EAAElC,eAAe,CAACN,KAFzB;AAGE,gBAAA,OAAO,EAAEM,eAAe,CAACmC,OAH3B;AAIE,gBAAA,WAAW,EAAEnC,eAAe,CAACoC;AAJ/B;AAAA;AAAA;AAAA;AAAA,sBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAvEF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AA6FD;AA7MH;;AAAA;AAAA,EAA6B7E,aAA7B;AAAaiB,O,CACJ6D,S,GAAY;AACjB7C,EAAAA,MAAM,EAAE/B,SAAS,CAAC+D,MADD;AAEjB/B,EAAAA,eAAe,EAAEhC,SAAS,CAAC6E,MAFV;AAGjB5C,EAAAA,KAAK,EAAEjC,SAAS,CAAC8E,SAAV,CAAoB,CAAC9E,SAAS,CAAC+D,MAAX,EAAmB/D,SAAS,CAAC+E,OAA7B,EAAsC/E,SAAS,CAACgF,OAAV,CAAkBhF,SAAS,CAAC+E,OAA5B,CAAtC,CAApB,CAHU;AAIjB7C,EAAAA,QAAQ,EAAElC,SAAS,CAAC8E,SAAV,CAAoB,CAAC9E,SAAS,CAAC+D,MAAX,EAAmB/D,SAAS,CAAC+E,OAA7B,EAAsC/E,SAAS,CAACgF,OAAV,CAAkBhF,SAAS,CAAC+E,OAA5B,CAAtC,CAApB,CAJO;AAKjB5C,EAAAA,WAAW,EAAEnC,SAAS,CAAC8E,SAAV,CAAoB,CAAC9E,SAAS,CAAC+D,MAAX,EAAmB/D,SAAS,CAAC+E,OAA7B,EAAsC/E,SAAS,CAACgF,OAAV,CAAkBhF,SAAS,CAAC+E,OAA5B,CAAtC,CAApB,CALI;AAMjB3C,EAAAA,OAAO,EAAEpC,SAAS,CAAC6E,MANF;AAOjBxC,EAAAA,aAAa,EAAErC,SAAS,CAACiF,IAPR;AAQjB3C,EAAAA,KAAK,EAAEtC,SAAS,CAAC6E,MARA;AASjBtC,EAAAA,eAAe,EAAEvC,SAAS,CAACkF,KAAV,CAAgB;AAC/BT,IAAAA,EAAE,EAAEzE,SAAS,CAAC+D,MADiB;AAE/BW,IAAAA,OAAO,EAAE1E,SAAS,CAACmF,IAFY;AAG/BR,IAAAA,WAAW,EAAE3E,SAAS,CAAC+D,MAHQ;AAI/B9B,IAAAA,KAAK,EAAEjC,SAAS,CAAC+D,MAJc;AAK/BqB,IAAAA,QAAQ,EAAEpF,SAAS,CAACmF;AALW,GAAhB,CATA;AAgBjB3C,EAAAA,UAAU,EAAExC,SAAS,CAACmF,IAhBL;AAiBjB9D,EAAAA,QAAQ,EAAErB,SAAS,CAACmF,IAjBH;AAkBjBE,EAAAA,cAAc,EAAErF,SAAS,CAACsF,KAAV,CAAgB,CAAC,KAAD,EAAQ,MAAR,CAAhB,CAlBC;AAmBjB7C,EAAAA,eAAe,EAAEzC,SAAS,CAACmF,IAnBV;AAoBjBzC,EAAAA,aAAa,EAAE1C,SAAS,CAACmF,IApBR;AAqBjBxC,EAAAA,gBAAgB,EAAE3C,SAAS,CAACmF,IArBX;AAsBjBvC,EAAAA,mBAAmB,EAAE5C,SAAS,CAACmF,IAtBd;AAuBjBtC,EAAAA,eAAe,EAAE7C,SAAS,CAACmF,IAvBV;AAwBjBzD,EAAAA,YAAY,EAAE1B,SAAS,CAACuF,IAxBP;AAyBjBnE,EAAAA,iBAAiB,EAAEpB,SAAS,CAACuF,IAzBZ;AA0BjBxC,EAAAA,MAAM,EAAE/C,SAAS,CAAC+D;AA1BD,C;AADRhD,O,CA8BJyE,Y,GAAe;AACpBnE,EAAAA,QAAQ,EAAE,IADU;AAEpBF,EAAAA,YAAY,EAAE,IAFM;AAGpBsB,EAAAA,eAAe,EAAE,IAHG;AAIpBC,EAAAA,aAAa,EAAE,KAJK;AAKpBC,EAAAA,gBAAgB,EAAE,IALE;AAMpBC,EAAAA,mBAAmB,EAAE,IAND;AAOpBC,EAAAA,eAAe,EAAE,IAPG;AAQpBN,EAAAA,eAAe,EAAE,EARG;AASpBP,EAAAA,eAAe,EAAE;AATG,C;AAkLxB,eAAe/B,OAAO,CAACQ,UAAU,CAACN,MAAD,CAAX,EAAqBO,SAArB,CAAP,CAAuCK,OAAvC,CAAf","sourcesContent":["import React, { PureComponent, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { compose } from 'redux';\r\nimport classnames from 'classnames';\r\n\r\n// app\r\nimport styles from './Summary.styles';\r\nimport { Button, Comments, Status, Translate } from 'components';\r\nimport * as utils from 'utils';\r\n\r\n// mui\r\nimport { withStyles, withTheme, Typography, Collapse, Fade } from '@material-ui/core';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\n\r\nexport class Summary extends PureComponent {\r\n  static propTypes = {\r\n    status: PropTypes.string,\r\n    statusOverrides: PropTypes.object,\r\n    title: PropTypes.oneOfType([PropTypes.string, PropTypes.element, PropTypes.arrayOf(PropTypes.element)]),\r\n    subtitle: PropTypes.oneOfType([PropTypes.string, PropTypes.element, PropTypes.arrayOf(PropTypes.element)]),\r\n    description: PropTypes.oneOfType([PropTypes.string, PropTypes.element, PropTypes.arrayOf(PropTypes.element)]),\r\n    actions: PropTypes.object,\r\n    actionContent: PropTypes.node,\r\n    infos: PropTypes.object,\r\n    commentsOptions: PropTypes.shape({\r\n      id: PropTypes.string,\r\n      divider: PropTypes.bool,\r\n      placeholder: PropTypes.string,\r\n      title: PropTypes.string,\r\n      truncate: PropTypes.bool,\r\n    }),\r\n    showToggle: PropTypes.bool,\r\n    expanded: PropTypes.bool,\r\n    expandedToggle: PropTypes.oneOf(['btn', 'card']),\r\n    collapseActions: PropTypes.bool,\r\n    collapseTitle: PropTypes.bool,\r\n    collapseSubtitle: PropTypes.bool,\r\n    collapseDescription: PropTypes.bool,\r\n    collapseContent: PropTypes.bool,\r\n    handleExpand: PropTypes.func,\r\n    handleClickExpand: PropTypes.func,\r\n    testid: PropTypes.string,\r\n  };\r\n\r\n  static defaultProps = {\r\n    expanded: true,\r\n    expandToggle: null,\r\n    collapseActions: true,\r\n    collapseTitle: false,\r\n    collapseSubtitle: true,\r\n    collapseDescription: true,\r\n    collapseContent: true,\r\n    commentsOptions: {},\r\n    statusOverrides: {},\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      expanded: typeof props.expanded !== 'undefined' ? props.expanded : true,\r\n    };\r\n  }\r\n\r\n  handleClick = (event) => {\r\n    const { expandToggle, handleClickExpand } = this.props;\r\n    const expanded = this.getCollapsedStatus();\r\n\r\n    if (expandToggle === 'card') {\r\n      this.handleToggle();\r\n    }\r\n\r\n    if (utils.generic.isFunction(handleClickExpand) && !expanded) {\r\n      handleClickExpand();\r\n    }\r\n  };\r\n\r\n  handleToggle = () => {\r\n    const { handleExpand } = this.props;\r\n\r\n    if (utils.generic.isFunction(handleExpand)) {\r\n      handleExpand();\r\n    } else {\r\n      this.setState({\r\n        expanded: !this.state.expanded,\r\n      });\r\n    }\r\n  };\r\n\r\n  handleStopPropagation = (event) => {\r\n    event.stopPropagation();\r\n  };\r\n\r\n  getCollapsedStatus = () => {\r\n    const { expanded, handleExpand } = this.props;\r\n\r\n    return utils.generic.isFunction(handleExpand) ? expanded : this.state.expanded;\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      status,\r\n      statusOverrides,\r\n      title,\r\n      subtitle,\r\n      description,\r\n      actions,\r\n      actionContent,\r\n      infos,\r\n      commentsOptions,\r\n      showToggle,\r\n      expandToggle,\r\n      collapseActions,\r\n      collapseTitle,\r\n      collapseSubtitle,\r\n      collapseDescription,\r\n      collapseContent,\r\n      children,\r\n      testid,\r\n      classes,\r\n      theme,\r\n    } = this.props;\r\n\r\n    const expanded = this.getCollapsedStatus();\r\n    const mobile = utils.media.down.xs(theme);\r\n\r\n    return (\r\n      <div className={classnames(classes.root)} onClick={this.handleClick} data-testid={`summary${testid ? '-' + testid : ''}`}>\r\n        {(status || actions) && (\r\n          <div className={classnames(classes.header, { [classes.headerCollapsed]: !expanded })}>\r\n            <div className={classes.headerContent}>\r\n              {status && (\r\n                <Status\r\n                  text={<Translate label={`status.${status}`} />}\r\n                  status={status}\r\n                  statusOverrides={statusOverrides}\r\n                  size={mobile ? 'sm' : 'md'}\r\n                  data-testid=\"summary-status\"\r\n                />\r\n              )}\r\n            </div>\r\n\r\n            <div className={classes.headerActions}>\r\n              {actions && (\r\n                <Fade in={!collapseActions || expanded} timeout={theme.transitions.duration.shortest}>\r\n                  <div className={classnames({ [classes.headerActionsCollapsed]: !expanded })}>{actions}</div>\r\n                </Fade>\r\n              )}\r\n              {showToggle && (expandToggle === 'btn' || (expandToggle === 'card' && expanded)) && (\r\n                <Button\r\n                  icon={KeyboardArrowUpIcon}\r\n                  size=\"small\"\r\n                  variant=\"text\"\r\n                  light\r\n                  onClick={this.handleToggle}\r\n                  tooltip={{\r\n                    title: utils.string.t(expanded ? 'app.collapse' : 'app.expand'),\r\n                  }}\r\n                  nestedClasses={{\r\n                    icon: classnames(classes.toggleIcon, { [classes.toggleIconCollapsed]: !expanded }),\r\n                  }}\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {(title || actionContent) && (\r\n          <Collapse in={!collapseTitle || expanded} timeout=\"auto\">\r\n            <div className={classnames(classes.title, { [classes.titleCollapsed]: !expanded })}>\r\n              <Typography variant=\"h2\" className={classes.titleContent} data-testid=\"summary-title\">\r\n                {title}\r\n              </Typography>\r\n              {actionContent && <div className={classes.titleAction}>{actionContent}</div>}\r\n            </div>\r\n          </Collapse>\r\n        )}\r\n\r\n        {subtitle && (\r\n          <Collapse in={!collapseSubtitle || expanded} timeout=\"auto\">\r\n            <Typography\r\n              variant=\"h5\"\r\n              className={classnames(classes.subtitle, { [classes.subtitleCollapsed]: !expanded })}\r\n              data-testid=\"summary-subtitle\"\r\n            >\r\n              {subtitle}\r\n            </Typography>\r\n          </Collapse>\r\n        )}\r\n\r\n        {description && (\r\n          <Collapse in={!collapseDescription || expanded} timeout=\"auto\">\r\n            <Typography variant=\"caption\" className={classes.description} data-testid=\"summary-description\">\r\n              {description}\r\n            </Typography>\r\n          </Collapse>\r\n        )}\r\n\r\n        <Collapse in={!collapseContent || expanded} timeout=\"auto\">\r\n          <Fragment>\r\n            {infos && <div className={classes.info}>{infos}</div>}\r\n\r\n            {/* we're preventing clicks on content/comments form to toggle (close) the card */}\r\n            <div onClick={this.handleStopPropagation}>\r\n              {children}\r\n\r\n              {commentsOptions.id && expanded && (\r\n                <Comments\r\n                  id={commentsOptions.id}\r\n                  title={commentsOptions.title}\r\n                  divider={commentsOptions.divider}\r\n                  placeholder={commentsOptions.placeholder}\r\n                />\r\n              )}\r\n            </div>\r\n          </Fragment>\r\n        </Collapse>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(withStyles(styles), withTheme)(Summary);\r\n"]},"metadata":{},"sourceType":"module"}