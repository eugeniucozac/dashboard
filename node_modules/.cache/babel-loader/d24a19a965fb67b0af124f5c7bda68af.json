{"ast":null,"code":"import \"core-js/modules/es.symbol\";\nimport _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\forms\\\\ReportsExtendedAddEdit\\\\ReportsExtendedAddEdit.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport * as Yup from 'yup';\nimport { useDispatch } from 'react-redux'; // app\n\nimport { ReportsExtendedAddEditView } from './ReportsExtendedAddEdit.view';\nimport * as utils from 'utils';\nimport { createReportsExtended, editReportsExtended } from 'stores';\nimport * as constants from 'consts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nReportsExtendedAddEdit.propTypes = {\n  report: PropTypes.object,\n  groupId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  handleClose: PropTypes.func.isRequired,\n  isEditAddReport: PropTypes.bool.isRequired,\n  handlers: PropTypes.shape({\n    onSuccessfulCreateOrEditOrDeleteReport: PropTypes.func.isRequired\n  }).isRequired\n};\nexport default function ReportsExtendedAddEdit(_ref) {\n  _s();\n\n  var _ref$report = _ref.report,\n      report = _ref$report === void 0 ? {} : _ref$report,\n      groupId = _ref.groupId,\n      handleClose = _ref.handleClose,\n      isEditAddReport = _ref.isEditAddReport,\n      handlers = _ref.handlers;\n  var dispatch = useDispatch();\n  var fields = [{\n    name: 'report',\n    type: 'text',\n    value: (report === null || report === void 0 ? void 0 : report.title) || '',\n    validation: Yup.string().required(utils.string.t('reportingExtended.reporting.form.reportName.required')),\n    label: utils.string.t('reportingExtended.reporting.form.reportName.label')\n  }, {\n    name: 'description',\n    type: 'textarea',\n    label: utils.string.t('reportingExtended.reporting.form.description'),\n    value: (report === null || report === void 0 ? void 0 : report.description) || '',\n    muiComponentProps: {\n      multiline: true,\n      rows: 3,\n      rowsMax: 6,\n      'data-testid': 'description'\n    }\n  }, {\n    name: 'reportId',\n    type: 'text',\n    value: (report === null || report === void 0 ? void 0 : report.powerbiReportId) || '',\n    label: utils.string.t('reportingExtended.reporting.form.reportId.label'),\n    muiComponentProps: {\n      // Disabled for time being, this field might be required in the future.\n      disabled: true\n    }\n  }, {\n    name: 'workspaceId',\n    type: 'text',\n    value: (report === null || report === void 0 ? void 0 : report.workspaceId) || '',\n    label: utils.string.t('reportingExtended.reporting.form.workspaceId.label'),\n    muiComponentProps: {\n      // Disabled for time being, this field might be required in the future.\n      disabled: true\n    }\n  }, {\n    name: 'sectionId',\n    type: 'text',\n    value: (report === null || report === void 0 ? void 0 : report.sectionId) || '',\n    label: utils.string.t('reportingExtended.reporting.form.sectionId.label'),\n    muiComponentProps: {\n      // Disabled for time being, this field might be required in the future.\n      disabled: true\n    }\n  }, {\n    name: 'source',\n    type: 'text',\n    value: (report === null || report === void 0 ? void 0 : report.src) || '',\n    label: utils.string.t('reportingExtended.reporting.form.source.label'),\n    validation: Yup.string().required(utils.string.t('reportingExtended.reporting.form.source.required'))\n  }];\n  var actions = [{\n    name: 'cancel',\n    label: utils.string.t('app.cancel'),\n    handler: handleClose\n  }, {\n    name: 'submit',\n    label: utils.string.t('app.submit'),\n    handler: function handler(values) {\n      var newValuesToCreate = _objectSpread(_objectSpread({}, values), {}, {\n        reportgroupId: groupId\n      });\n\n      var newValuesToEdit = _objectSpread(_objectSpread({}, values), {}, {\n        reportId: report === null || report === void 0 ? void 0 : report.id,\n        powerbiReportId: report === null || report === void 0 ? void 0 : report.powerbiReportId,\n        reportgroupId: groupId\n      });\n\n      return isEditAddReport ? dispatch(editReportsExtended(newValuesToEdit)).then(function (response) {\n        if ((response === null || response === void 0 ? void 0 : response.status) === constants.API_RESPONSE_OK) {\n          handlers.onSuccessfulCreateOrEditOrDeleteReport();\n        }\n      }) : dispatch(createReportsExtended(newValuesToCreate)).then(function (response) {\n        if ((response === null || response === void 0 ? void 0 : response.status) === constants.API_RESPONSE_OK) {\n          handlers.onSuccessfulCreateOrEditOrDeleteReport();\n        }\n      });\n    }\n  }];\n  return /*#__PURE__*/_jsxDEV(ReportsExtendedAddEditView, {\n    fields: fields,\n    actions: actions\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 10\n  }, this);\n}\n\n_s(ReportsExtendedAddEdit, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});\n\n_c = ReportsExtendedAddEdit;\nReportsExtendedAddEdit.displayName = \"ReportsExtendedAddEdit\";\nReportsExtendedAddEdit.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [],\n  \"displayName\": \"ReportsExtendedAddEdit\",\n  \"props\": {\n    \"report\": {\n      \"defaultValue\": {\n        \"value\": \"{}\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"object\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"groupId\": {\n      \"type\": {\n        \"name\": \"union\",\n        \"value\": [{\n          \"name\": \"string\"\n        }, {\n          \"name\": \"number\"\n        }]\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"handleClose\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"isEditAddReport\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"handlers\": {\n      \"type\": {\n        \"name\": \"shape\",\n        \"value\": {\n          \"onSuccessfulCreateOrEditOrDeleteReport\": {\n            \"name\": \"func\",\n            \"required\": true\n          }\n        }\n      },\n      \"required\": true,\n      \"description\": \"\"\n    }\n  }\n};\n\nif (typeof STORYBOOK_REACT_CLASSES !== \"undefined\") {\n  STORYBOOK_REACT_CLASSES[\"src\\\\forms\\\\ReportsExtendedAddEdit\\\\ReportsExtendedAddEdit.js\"] = {\n    name: \"ReportsExtendedAddEdit\",\n    docgenInfo: ReportsExtendedAddEdit.__docgenInfo,\n    path: \"src\\\\forms\\\\ReportsExtendedAddEdit\\\\ReportsExtendedAddEdit.js\"\n  };\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"ReportsExtendedAddEdit\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/forms/ReportsExtendedAddEdit/ReportsExtendedAddEdit.js"],"names":["React","PropTypes","Yup","useDispatch","ReportsExtendedAddEditView","utils","createReportsExtended","editReportsExtended","constants","ReportsExtendedAddEdit","propTypes","report","object","groupId","oneOfType","string","number","isRequired","handleClose","func","isEditAddReport","bool","handlers","shape","onSuccessfulCreateOrEditOrDeleteReport","dispatch","fields","name","type","value","title","validation","required","t","label","description","muiComponentProps","multiline","rows","rowsMax","powerbiReportId","disabled","workspaceId","sectionId","src","actions","handler","values","newValuesToCreate","reportgroupId","newValuesToEdit","reportId","id","then","response","status","API_RESPONSE_OK"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,SAASC,WAAT,QAA4B,aAA5B,C,CAEA;;AACA,SAASC,0BAAT,QAA2C,+BAA3C;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,qBAAT,EAAgCC,mBAAhC,QAA2D,QAA3D;AACA,OAAO,KAAKC,SAAZ,MAA2B,QAA3B;;AAEAC,sBAAsB,CAACC,SAAvB,GAAmC;AACjCC,EAAAA,MAAM,EAAEV,SAAS,CAACW,MADe;AAEjCC,EAAAA,OAAO,EAAEZ,SAAS,CAACa,SAAV,CAAoB,CAACb,SAAS,CAACc,MAAX,EAAmBd,SAAS,CAACe,MAA7B,CAApB,EAA0DC,UAFlC;AAGjCC,EAAAA,WAAW,EAAEjB,SAAS,CAACkB,IAAV,CAAeF,UAHK;AAIjCG,EAAAA,eAAe,EAAEnB,SAAS,CAACoB,IAAV,CAAeJ,UAJC;AAKjCK,EAAAA,QAAQ,EAAErB,SAAS,CAACsB,KAAV,CAAgB;AACxBC,IAAAA,sCAAsC,EAAEvB,SAAS,CAACkB,IAAV,CAAeF;AAD/B,GAAhB,EAEPA;AAP8B,CAAnC;AAUA,eAAe,SAASR,sBAAT,OAAkG;AAAA;;AAAA,yBAAhEE,MAAgE;AAAA,MAAhEA,MAAgE,4BAAvD,EAAuD;AAAA,MAAnDE,OAAmD,QAAnDA,OAAmD;AAAA,MAA1CK,WAA0C,QAA1CA,WAA0C;AAAA,MAA7BE,eAA6B,QAA7BA,eAA6B;AAAA,MAAZE,QAAY,QAAZA,QAAY;AAC/G,MAAMG,QAAQ,GAAGtB,WAAW,EAA5B;AAEA,MAAMuB,MAAM,GAAG,CACb;AACEC,IAAAA,IAAI,EAAE,QADR;AAEEC,IAAAA,IAAI,EAAE,MAFR;AAGEC,IAAAA,KAAK,EAAE,CAAAlB,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEmB,KAAR,KAAiB,EAH1B;AAIEC,IAAAA,UAAU,EAAE7B,GAAG,CAACa,MAAJ,GAAaiB,QAAb,CAAsB3B,KAAK,CAACU,MAAN,CAAakB,CAAb,CAAe,sDAAf,CAAtB,CAJd;AAKEC,IAAAA,KAAK,EAAE7B,KAAK,CAACU,MAAN,CAAakB,CAAb,CAAe,mDAAf;AALT,GADa,EAQb;AACEN,IAAAA,IAAI,EAAE,aADR;AAEEC,IAAAA,IAAI,EAAE,UAFR;AAGEM,IAAAA,KAAK,EAAE7B,KAAK,CAACU,MAAN,CAAakB,CAAb,CAAe,8CAAf,CAHT;AAIEJ,IAAAA,KAAK,EAAE,CAAAlB,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEwB,WAAR,KAAuB,EAJhC;AAKEC,IAAAA,iBAAiB,EAAE;AACjBC,MAAAA,SAAS,EAAE,IADM;AAEjBC,MAAAA,IAAI,EAAE,CAFW;AAGjBC,MAAAA,OAAO,EAAE,CAHQ;AAIjB,qBAAe;AAJE;AALrB,GARa,EAoBb;AACEZ,IAAAA,IAAI,EAAE,UADR;AAEEC,IAAAA,IAAI,EAAE,MAFR;AAGEC,IAAAA,KAAK,EAAE,CAAAlB,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAE6B,eAAR,KAA2B,EAHpC;AAIEN,IAAAA,KAAK,EAAE7B,KAAK,CAACU,MAAN,CAAakB,CAAb,CAAe,iDAAf,CAJT;AAKEG,IAAAA,iBAAiB,EAAE;AACjB;AACAK,MAAAA,QAAQ,EAAE;AAFO;AALrB,GApBa,EA8Bb;AACEd,IAAAA,IAAI,EAAE,aADR;AAEEC,IAAAA,IAAI,EAAE,MAFR;AAGEC,IAAAA,KAAK,EAAE,CAAAlB,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAE+B,WAAR,KAAuB,EAHhC;AAIER,IAAAA,KAAK,EAAE7B,KAAK,CAACU,MAAN,CAAakB,CAAb,CAAe,oDAAf,CAJT;AAKEG,IAAAA,iBAAiB,EAAE;AACjB;AACAK,MAAAA,QAAQ,EAAE;AAFO;AALrB,GA9Ba,EAwCb;AACEd,IAAAA,IAAI,EAAE,WADR;AAEEC,IAAAA,IAAI,EAAE,MAFR;AAGEC,IAAAA,KAAK,EAAE,CAAAlB,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEgC,SAAR,KAAqB,EAH9B;AAIET,IAAAA,KAAK,EAAE7B,KAAK,CAACU,MAAN,CAAakB,CAAb,CAAe,kDAAf,CAJT;AAKEG,IAAAA,iBAAiB,EAAE;AACjB;AACAK,MAAAA,QAAQ,EAAE;AAFO;AALrB,GAxCa,EAkDb;AACEd,IAAAA,IAAI,EAAE,QADR;AAEEC,IAAAA,IAAI,EAAE,MAFR;AAGEC,IAAAA,KAAK,EAAE,CAAAlB,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEiC,GAAR,KAAe,EAHxB;AAIEV,IAAAA,KAAK,EAAE7B,KAAK,CAACU,MAAN,CAAakB,CAAb,CAAe,+CAAf,CAJT;AAKEF,IAAAA,UAAU,EAAE7B,GAAG,CAACa,MAAJ,GAAaiB,QAAb,CAAsB3B,KAAK,CAACU,MAAN,CAAakB,CAAb,CAAe,kDAAf,CAAtB;AALd,GAlDa,CAAf;AA2DA,MAAMY,OAAO,GAAG,CACd;AACElB,IAAAA,IAAI,EAAE,QADR;AAEEO,IAAAA,KAAK,EAAE7B,KAAK,CAACU,MAAN,CAAakB,CAAb,CAAe,YAAf,CAFT;AAGEa,IAAAA,OAAO,EAAE5B;AAHX,GADc,EAMd;AACES,IAAAA,IAAI,EAAE,QADR;AAEEO,IAAAA,KAAK,EAAE7B,KAAK,CAACU,MAAN,CAAakB,CAAb,CAAe,YAAf,CAFT;AAGEa,IAAAA,OAAO,EAAE,iBAACC,MAAD,EAAY;AACnB,UAAMC,iBAAiB,mCAAQD,MAAR;AAAgBE,QAAAA,aAAa,EAAEpC;AAA/B,QAAvB;;AACA,UAAMqC,eAAe,mCAAQH,MAAR;AAAgBI,QAAAA,QAAQ,EAAExC,MAAF,aAAEA,MAAF,uBAAEA,MAAM,CAAEyC,EAAlC;AAAsCZ,QAAAA,eAAe,EAAE7B,MAAF,aAAEA,MAAF,uBAAEA,MAAM,CAAE6B,eAA/D;AAAgFS,QAAAA,aAAa,EAAEpC;AAA/F,QAArB;;AACA,aAAOO,eAAe,GAClBK,QAAQ,CAAClB,mBAAmB,CAAC2C,eAAD,CAApB,CAAR,CAA+CG,IAA/C,CAAoD,UAACC,QAAD,EAAc;AAChE,YAAI,CAAAA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEC,MAAV,MAAqB/C,SAAS,CAACgD,eAAnC,EAAoD;AAClDlC,UAAAA,QAAQ,CAACE,sCAAT;AACD;AACF,OAJD,CADkB,GAMlBC,QAAQ,CAACnB,qBAAqB,CAAC0C,iBAAD,CAAtB,CAAR,CAAmDK,IAAnD,CAAwD,UAACC,QAAD,EAAc;AACpE,YAAI,CAAAA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEC,MAAV,MAAqB/C,SAAS,CAACgD,eAAnC,EAAoD;AAClDlC,UAAAA,QAAQ,CAACE,sCAAT;AACD;AACF,OAJD,CANJ;AAWD;AAjBH,GANc,CAAhB;AA2BA,sBAAO,QAAC,0BAAD;AAA4B,IAAA,MAAM,EAAEE,MAApC;AAA4C,IAAA,OAAO,EAAEmB;AAArD;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;GA1FuBpC,sB;UACLN,W;;;KADKM,sB;AAAAA,sB","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport * as Yup from 'yup';\r\nimport { useDispatch } from 'react-redux';\r\n\r\n// app\r\nimport { ReportsExtendedAddEditView } from './ReportsExtendedAddEdit.view';\r\nimport * as utils from 'utils';\r\nimport { createReportsExtended, editReportsExtended } from 'stores';\r\nimport * as constants from 'consts';\r\n\r\nReportsExtendedAddEdit.propTypes = {\r\n  report: PropTypes.object,\r\n  groupId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n  handleClose: PropTypes.func.isRequired,\r\n  isEditAddReport: PropTypes.bool.isRequired,\r\n  handlers: PropTypes.shape({\r\n    onSuccessfulCreateOrEditOrDeleteReport: PropTypes.func.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nexport default function ReportsExtendedAddEdit({ report = {}, groupId, handleClose, isEditAddReport, handlers }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const fields = [\r\n    {\r\n      name: 'report',\r\n      type: 'text',\r\n      value: report?.title || '',\r\n      validation: Yup.string().required(utils.string.t('reportingExtended.reporting.form.reportName.required')),\r\n      label: utils.string.t('reportingExtended.reporting.form.reportName.label'),\r\n    },\r\n    {\r\n      name: 'description',\r\n      type: 'textarea',\r\n      label: utils.string.t('reportingExtended.reporting.form.description'),\r\n      value: report?.description || '',\r\n      muiComponentProps: {\r\n        multiline: true,\r\n        rows: 3,\r\n        rowsMax: 6,\r\n        'data-testid': 'description',\r\n      },\r\n    },\r\n    {\r\n      name: 'reportId',\r\n      type: 'text',\r\n      value: report?.powerbiReportId || '',\r\n      label: utils.string.t('reportingExtended.reporting.form.reportId.label'),\r\n      muiComponentProps: {\r\n        // Disabled for time being, this field might be required in the future.\r\n        disabled: true,\r\n      },\r\n    },\r\n    {\r\n      name: 'workspaceId',\r\n      type: 'text',\r\n      value: report?.workspaceId || '',\r\n      label: utils.string.t('reportingExtended.reporting.form.workspaceId.label'),\r\n      muiComponentProps: {\r\n        // Disabled for time being, this field might be required in the future.\r\n        disabled: true,\r\n      },\r\n    },\r\n    {\r\n      name: 'sectionId',\r\n      type: 'text',\r\n      value: report?.sectionId || '',\r\n      label: utils.string.t('reportingExtended.reporting.form.sectionId.label'),\r\n      muiComponentProps: {\r\n        // Disabled for time being, this field might be required in the future.\r\n        disabled: true,\r\n      },\r\n    },\r\n    {\r\n      name: 'source',\r\n      type: 'text',\r\n      value: report?.src || '',\r\n      label: utils.string.t('reportingExtended.reporting.form.source.label'),\r\n      validation: Yup.string().required(utils.string.t('reportingExtended.reporting.form.source.required')),\r\n    },\r\n  ];\r\n\r\n  const actions = [\r\n    {\r\n      name: 'cancel',\r\n      label: utils.string.t('app.cancel'),\r\n      handler: handleClose,\r\n    },\r\n    {\r\n      name: 'submit',\r\n      label: utils.string.t('app.submit'),\r\n      handler: (values) => {\r\n        const newValuesToCreate = { ...values, reportgroupId: groupId };\r\n        const newValuesToEdit = { ...values, reportId: report?.id, powerbiReportId: report?.powerbiReportId, reportgroupId: groupId };\r\n        return isEditAddReport\r\n          ? dispatch(editReportsExtended(newValuesToEdit)).then((response) => {\r\n              if (response?.status === constants.API_RESPONSE_OK) {\r\n                handlers.onSuccessfulCreateOrEditOrDeleteReport();\r\n              }\r\n            })\r\n          : dispatch(createReportsExtended(newValuesToCreate)).then((response) => {\r\n              if (response?.status === constants.API_RESPONSE_OK) {\r\n                handlers.onSuccessfulCreateOrEditOrDeleteReport();\r\n              }\r\n            });\r\n      },\r\n    },\r\n  ];\r\n\r\n  return <ReportsExtendedAddEditView fields={fields} actions={actions} />;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}