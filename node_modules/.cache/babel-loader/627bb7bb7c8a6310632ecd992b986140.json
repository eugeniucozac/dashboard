{"ast":null,"code":"import _classCallCheck from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\components\\\\ChartLegend\\\\ChartLegend.js\";\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\nimport get from 'lodash/get'; // app\n\nimport styles from './ChartLegend.styles'; // mui\n\nimport { withStyles } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var ChartLegend = /*#__PURE__*/function (_PureComponent) {\n  _inherits(ChartLegend, _PureComponent);\n\n  var _super = _createSuper(ChartLegend);\n\n  function ChartLegend(props) {\n    var _this;\n\n    _classCallCheck(this, ChartLegend);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"createLegend\", function () {\n      var instance = _this.props.instance;\n      var legend = get(_assertThisInitialized(_this), 'legendRef.current');\n\n      if (instance && legend) {\n        legend.innerHTML = instance.generateLegend();\n\n        _this.getLegendElems().forEach(function (el, index) {\n          el.addEventListener('click', _this.handleClick(instance, index));\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getLegendElems\", function () {\n      var elems = [];\n      var legend = get(_assertThisInitialized(_this), 'legendRef.current');\n\n      if (legend) {\n        elems = legend.querySelectorAll('li');\n      }\n\n      return elems;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (instance, index) {\n      return function (event) {\n        var meta = instance.getDatasetMeta(index);\n        event.currentTarget.classList.toggle('strike', !meta.hidden);\n        meta.hidden = !meta.hidden;\n        instance.update();\n      };\n    });\n\n    _this.legendRef = /*#__PURE__*/React.createRef();\n    return _this;\n  }\n\n  _createClass(ChartLegend, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.createLegend();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this2 = this;\n\n      var legend = get(this, 'legendRef.current');\n      var elems = this.getLegendElems();\n\n      if (legend) {\n        elems.forEach(function (el) {\n          el.removeEventListener('click', _this2.handleClick);\n        });\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.createLegend();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          instance = _this$props.instance,\n          classes = _this$props.classes;\n      if (!instance) return null;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: this.legendRef,\n        className: classes.root\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 12\n      }, this);\n    }\n  }]);\n\n  return ChartLegend;\n}(PureComponent);\nChartLegend.displayName = \"ChartLegend\";\n\n_defineProperty(ChartLegend, \"propTypes\", {\n  instance: PropTypes.object\n});\n\nChartLegend.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [{\n    \"name\": \"createLegend\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"getLegendElems\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"handleClick\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"instance\",\n      \"type\": null\n    }, {\n      \"name\": \"index\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }],\n  \"displayName\": \"ChartLegend\",\n  \"props\": {\n    \"instance\": {\n      \"type\": {\n        \"name\": \"object\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    }\n  }\n};\nexport default compose(withStyles(styles))(ChartLegend);\n\nif (typeof STORYBOOK_REACT_CLASSES !== \"undefined\") {\n  STORYBOOK_REACT_CLASSES[\"src\\\\components\\\\ChartLegend\\\\ChartLegend.js\"] = {\n    name: \"ChartLegend\",\n    docgenInfo: ChartLegend.__docgenInfo,\n    path: \"src\\\\components\\\\ChartLegend\\\\ChartLegend.js\"\n  };\n}","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/components/ChartLegend/ChartLegend.js"],"names":["React","PureComponent","PropTypes","compose","get","styles","withStyles","ChartLegend","props","instance","legend","innerHTML","generateLegend","getLegendElems","forEach","el","index","addEventListener","handleClick","elems","querySelectorAll","event","meta","getDatasetMeta","currentTarget","classList","toggle","hidden","update","legendRef","createRef","createLegend","removeEventListener","classes","root","object"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { compose } from 'redux';\r\nimport get from 'lodash/get';\r\n\r\n// app\r\nimport styles from './ChartLegend.styles';\r\n\r\n// mui\r\nimport { withStyles } from '@material-ui/core';\r\n\r\nexport class ChartLegend extends PureComponent {\r\n  static propTypes = {\r\n    instance: PropTypes.object,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.legendRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.createLegend();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const legend = get(this, 'legendRef.current');\r\n    const elems = this.getLegendElems();\r\n\r\n    if (legend) {\r\n      elems.forEach((el) => {\r\n        el.removeEventListener('click', this.handleClick);\r\n      });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.createLegend();\r\n  }\r\n\r\n  createLegend = () => {\r\n    const { instance } = this.props;\r\n    const legend = get(this, 'legendRef.current');\r\n\r\n    if (instance && legend) {\r\n      legend.innerHTML = instance.generateLegend();\r\n\r\n      this.getLegendElems().forEach((el, index) => {\r\n        el.addEventListener('click', this.handleClick(instance, index));\r\n      });\r\n    }\r\n  };\r\n\r\n  getLegendElems = () => {\r\n    let elems = [];\r\n    const legend = get(this, 'legendRef.current');\r\n\r\n    if (legend) {\r\n      elems = legend.querySelectorAll('li');\r\n    }\r\n\r\n    return elems;\r\n  };\r\n\r\n  handleClick = (instance, index) => (event) => {\r\n    const meta = instance.getDatasetMeta(index);\r\n\r\n    event.currentTarget.classList.toggle('strike', !meta.hidden);\r\n    meta.hidden = !meta.hidden;\r\n    instance.update();\r\n  };\r\n\r\n  render() {\r\n    const { instance, classes } = this.props;\r\n\r\n    if (!instance) return null;\r\n\r\n    return <div ref={this.legendRef} className={classes.root} />;\r\n  }\r\n}\r\n\r\nexport default compose(withStyles(styles))(ChartLegend);\r\n"]},"metadata":{},"sourceType":"module"}