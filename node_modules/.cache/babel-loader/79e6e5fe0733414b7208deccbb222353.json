{"ast":null,"code":"import _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport get from 'lodash/get';\nimport { authLogout, addLoader, enqueueNotification, removeLoader } from 'stores';\nimport * as utils from 'utils';\nexport var postEditClaimDetailsInformation = function postEditClaimDetailsInformation(formData) {\n  return function (dispatch, getState) {\n    var _formData$beAdjuster, _formData$interest, _formData$client, _formData$insured, _formData$countryCode, _formData$originalCur, _formData$settlementC, _formData$claimantNam, _formData$complexity, _formData$complexity2, _formData$referral, _formData$rfiResponse, _formData$bordereauPe;\n\n    // prettier-ignore\n    var _getState = getState(),\n        auth = _getState.user.auth,\n        endpoint = _getState.config.vars.endpoint,\n        claims = _getState.claims;\n\n    var defaultError = {\n      file: 'stores/claims.actions.postEditClaimDetailsInformation'\n    };\n    dispatch(postEditClaimDetailsInformationRequest(formData));\n    dispatch(addLoader('postEditClaimDetailsInformation'));\n    var claimSubmissionId = get(claims, 'claimData').claimId || get(claims, 'claimsInformation').claimID || '';\n    var underWritingGroups = get(claims, 'underWritingGroups.items');\n    var policyUnderWritingGroupDtoList = underWritingGroups.filter(function (ug) {\n      return ug.selected;\n    });\n    var editClaimDetails = get(claims, 'claimsInformation');\n    var beAdjusterID = (formData === null || formData === void 0 ? void 0 : formData.adjuster) && (formData === null || formData === void 0 ? void 0 : formData.adjuster) === 'beAdjuster' ? parseInt(formData === null || formData === void 0 ? void 0 : (_formData$beAdjuster = formData.beAdjuster) === null || _formData$beAdjuster === void 0 ? void 0 : _formData$beAdjuster.id) : (formData === null || formData === void 0 ? void 0 : formData.adjuster) && (formData === null || formData === void 0 ? void 0 : formData.adjuster) === 'nonBeAdjuster' ? 0 : editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.beAdjusterID;\n    var adjusterName = (formData === null || formData === void 0 ? void 0 : formData.adjuster) && (formData === null || formData === void 0 ? void 0 : formData.adjuster) === 'beAdjuster' ? null : (formData === null || formData === void 0 ? void 0 : formData.nonBeAdjuster) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.adjusterName);\n\n    var data = _objectSpread(_objectSpread({}, editClaimDetails), {}, {\n      policyInterestID: (formData === null || formData === void 0 ? void 0 : (_formData$interest = formData.interest) === null || _formData$interest === void 0 ? void 0 : _formData$interest.policyInterestID) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.policyInterestID),\n      clientID: parseInt(formData === null || formData === void 0 ? void 0 : (_formData$client = formData.client) === null || _formData$client === void 0 ? void 0 : _formData$client.id) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.clientID),\n      insuredID: parseInt(formData === null || formData === void 0 ? void 0 : (_formData$insured = formData.insured) === null || _formData$insured === void 0 ? void 0 : _formData$insured.id) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.insuredID),\n      settlementCountry: (formData === null || formData === void 0 ? void 0 : (_formData$countryCode = formData.countryCode) === null || _formData$countryCode === void 0 ? void 0 : _formData$countryCode.countryCode) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.settlementCountry),\n      originalCurrency: (formData === null || formData === void 0 ? void 0 : (_formData$originalCur = formData.originalCurrencyCode) === null || _formData$originalCur === void 0 ? void 0 : _formData$originalCur.currencyCd) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.originalCurrency),\n      settlementCurrencyCode: (formData === null || formData === void 0 ? void 0 : (_formData$settlementC = formData.settlementCurrencyCode) === null || _formData$settlementC === void 0 ? void 0 : _formData$settlementC.currencyCd) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.settlementCurrencyCode),\n      movementType: (formData === null || formData === void 0 ? void 0 : formData.movementType) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.movementType),\n      basisOfOrder: Boolean(formData === null || formData === void 0 ? void 0 : formData.order) ? formData === null || formData === void 0 ? void 0 : formData.order : editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.basisOfOrder,\n      orderPercentage: (formData === null || formData === void 0 ? void 0 : formData.orderPercentage) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.orderPercentage),\n      policyUnderWritingGroupDtoList: policyUnderWritingGroupDtoList,\n      beAdjusterID: beAdjusterID,\n      adjusterName: adjusterName,\n      nonBEAdjusterName: (formData === null || formData === void 0 ? void 0 : formData.adjuster) && (formData === null || formData === void 0 ? void 0 : formData.adjuster) === 'nonBeAdjuster' ? formData === null || formData === void 0 ? void 0 : formData.nonBeAdjuster : (formData === null || formData === void 0 ? void 0 : formData.adjuster) === 'beAdjuster' ? null : editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.nonBEAdjusterName,\n      adjusterReference: (formData === null || formData === void 0 ? void 0 : formData.adjusterReference) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.adjusterReference),\n      claimantName: (formData === null || formData === void 0 ? void 0 : (_formData$claimantNam = formData.claimantName) === null || _formData$claimantNam === void 0 ? void 0 : _formData$claimantNam.name) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.claimantName),\n      complexityBasis: (formData === null || formData === void 0 ? void 0 : (_formData$complexity = formData.complexity) === null || _formData$complexity === void 0 ? void 0 : _formData$complexity.complexityRulesID) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.complexityBasis),\n      complexityValueID: (formData === null || formData === void 0 ? void 0 : (_formData$complexity2 = formData.complexity) === null || _formData$complexity2 === void 0 ? void 0 : _formData$complexity2.complexityRulesID) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.complexityValueID),\n      location: (formData === null || formData === void 0 ? void 0 : formData.location) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.location),\n      fgunarrative: (formData === null || formData === void 0 ? void 0 : formData.fgunarrative) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.fgunarrative),\n      claimReceivedDate: (formData === null || formData === void 0 ? void 0 : formData.claimReceivedDate) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.claimReceivedDate),\n      lossQualifierID: parseInt(formData === null || formData === void 0 ? void 0 : formData.lossQualifierID) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.lossQualifierID),\n      lossQualifierName: (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.lossQualifierName) || null,\n      priorityID: parseInt(formData === null || formData === void 0 ? void 0 : formData.priority) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.priorityID),\n      referralValueID: (formData === null || formData === void 0 ? void 0 : (_formData$referral = formData.referral) === null || _formData$referral === void 0 ? void 0 : _formData$referral.complexityRulesID) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.referralValueID),\n      referralResponseID: (formData === null || formData === void 0 ? void 0 : (_formData$rfiResponse = formData.rfiResponse) === null || _formData$rfiResponse === void 0 ? void 0 : _formData$rfiResponse.id) || (editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.referralResponseID),\n      lossFromDate: (formData === null || formData === void 0 ? void 0 : formData.fromDate) ? utils.date.toISOString(formData === null || formData === void 0 ? void 0 : formData.fromDate) : editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.lossFromDate,\n      lossToDate: (formData === null || formData === void 0 ? void 0 : formData.toDate) ? utils.date.toISOString(formData === null || formData === void 0 ? void 0 : formData.toDate) : editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.lossToDate,\n      bordereauClaim: (formData === null || formData === void 0 ? void 0 : formData.bordereauClaim) ? 1 : (formData === null || formData === void 0 ? void 0 : formData.bordereauClaim) === false ? 0 : editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.bordereauClaim,\n      bordereauPeriod: typeof (formData === null || formData === void 0 ? void 0 : formData.bordereauPeriod) === 'undefined' ? editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.bordereauPeriod : typeof (formData === null || formData === void 0 ? void 0 : formData.bordereauClaim) !== 'undefined' && (formData === null || formData === void 0 ? void 0 : formData.bordereauClaim) ? formData === null || formData === void 0 ? void 0 : (_formData$bordereauPe = formData.bordereauPeriod) === null || _formData$bordereauPe === void 0 ? void 0 : _formData$bordereauPe.id : null,\n      certificateExpiryDate: typeof (formData === null || formData === void 0 ? void 0 : formData.bordereauClaim) !== 'undefined' && !(formData === null || formData === void 0 ? void 0 : formData.bordereauClaim) ? typeof (formData === null || formData === void 0 ? void 0 : formData.certificateExpiryDate) === 'undefined' ? editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.certificateExpiryDate : (formData === null || formData === void 0 ? void 0 : formData.certificateExpiryDate) ? utils.date.toISOString(formData === null || formData === void 0 ? void 0 : formData.certificateExpiryDate) : null : null,\n      certificateInceptionDate: typeof (formData === null || formData === void 0 ? void 0 : formData.bordereauClaim) !== 'undefined' && !(formData === null || formData === void 0 ? void 0 : formData.bordereauClaim) ? typeof (formData === null || formData === void 0 ? void 0 : formData.certificateInceptionDate) === 'undefined' ? editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.certificateInceptionDate : (formData === null || formData === void 0 ? void 0 : formData.certificateInceptionDate) ? utils.date.toISOString(formData === null || formData === void 0 ? void 0 : formData.certificateInceptionDate) : null : null,\n      certificateNumber: typeof (formData === null || formData === void 0 ? void 0 : formData.bordereauClaim) !== 'undefined' && !(formData === null || formData === void 0 ? void 0 : formData.bordereauClaim) ? typeof (formData === null || formData === void 0 ? void 0 : formData.certificateNumber) === 'undefined' ? editClaimDetails === null || editClaimDetails === void 0 ? void 0 : editClaimDetails.certificateNumber : formData === null || formData === void 0 ? void 0 : formData.certificateNumber : null\n    });\n\n    return utils.api.put({\n      token: auth.accessToken,\n      endpoint: endpoint.claimService,\n      path: \"api/data/claims/\".concat(claimSubmissionId, \"/update\"),\n      data: data\n    }).then(function (response) {\n      return utils.api.handleResponse(response);\n    }).then(function (json) {\n      return utils.api.handleNewData(json);\n    }).then(function (data) {\n      dispatch(postEditClaimDetailsInformationSuccess(data.data));\n      dispatch(enqueueNotification('notification.claimEditDetails.success', 'success'));\n      dispatch(removeLoader('postEditClaimDetailsInformation'));\n      return data.data;\n    }).catch(function (err) {\n      var errorParams = _objectSpread(_objectSpread({}, defaultError), {}, {\n        message: 'API post error'\n      });\n\n      utils.api.handleError(err, errorParams);\n      utils.api.handleUnauthorized(err, dispatch, authLogout);\n      dispatch(postEditClaimDetailsInformationFailure(err));\n      dispatch(enqueueNotification('notification.claimEditDetails.fail', 'error'));\n      dispatch(removeLoader('postEditClaimDetailsInformation'));\n      return err;\n    });\n  };\n};\nexport var postEditClaimDetailsInformationRequest = function postEditClaimDetailsInformationRequest(data) {\n  return {\n    type: 'CLAIMS_DETAILS_INFORMATION_UPDATE_REQUEST',\n    payload: data\n  };\n};\nexport var postEditClaimDetailsInformationSuccess = function postEditClaimDetailsInformationSuccess(data) {\n  return {\n    type: 'CLAIMS_DETAILS_INFORMATION_UPDATE_SUCCESS',\n    payload: data\n  };\n};\nexport var postEditClaimDetailsInformationFailure = function postEditClaimDetailsInformationFailure(error) {\n  return {\n    type: 'CLAIMS_DETAILS_INFORMATION_UPDATE_FAILURE',\n    payload: error\n  };\n};","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/stores/claims/claims.actions.postEditClaimDetailsInformation.js"],"names":["get","authLogout","addLoader","enqueueNotification","removeLoader","utils","postEditClaimDetailsInformation","formData","dispatch","getState","auth","user","endpoint","config","vars","claims","defaultError","file","postEditClaimDetailsInformationRequest","claimSubmissionId","claimId","claimID","underWritingGroups","policyUnderWritingGroupDtoList","filter","ug","selected","editClaimDetails","beAdjusterID","adjuster","parseInt","beAdjuster","id","adjusterName","nonBeAdjuster","data","policyInterestID","interest","clientID","client","insuredID","insured","settlementCountry","countryCode","originalCurrency","originalCurrencyCode","currencyCd","settlementCurrencyCode","movementType","basisOfOrder","Boolean","order","orderPercentage","nonBEAdjusterName","adjusterReference","claimantName","name","complexityBasis","complexity","complexityRulesID","complexityValueID","location","fgunarrative","claimReceivedDate","lossQualifierID","lossQualifierName","priorityID","priority","referralValueID","referral","referralResponseID","rfiResponse","lossFromDate","fromDate","date","toISOString","lossToDate","toDate","bordereauClaim","bordereauPeriod","certificateExpiryDate","certificateInceptionDate","certificateNumber","api","put","token","accessToken","claimService","path","then","response","handleResponse","json","handleNewData","postEditClaimDetailsInformationSuccess","catch","err","errorParams","message","handleError","handleUnauthorized","postEditClaimDetailsInformationFailure","type","payload","error"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,YAAhB;AAEA,SAASC,UAAT,EAAqBC,SAArB,EAAgCC,mBAAhC,EAAqDC,YAArD,QAAyE,QAAzE;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AAEA,OAAO,IAAMC,+BAA+B,GAAG,SAAlCA,+BAAkC,CAACC,QAAD;AAAA,SAAc,UAACC,QAAD,EAAWC,QAAX,EAAwB;AAAA;;AACnF;AADmF,oBAEhBA,QAAQ,EAFQ;AAAA,QAEnEC,IAFmE,aAE3EC,IAF2E,CAEnED,IAFmE;AAAA,QAEzCE,QAFyC,aAE3DC,MAF2D,CAEjDC,IAFiD,CAEzCF,QAFyC;AAAA,QAE3BG,MAF2B,aAE3BA,MAF2B;;AAInF,QAAMC,YAAY,GAAG;AACnBC,MAAAA,IAAI,EAAE;AADa,KAArB;AAIAT,IAAAA,QAAQ,CAACU,sCAAsC,CAACX,QAAD,CAAvC,CAAR;AACAC,IAAAA,QAAQ,CAACN,SAAS,CAAC,iCAAD,CAAV,CAAR;AACA,QAAMiB,iBAAiB,GAAGnB,GAAG,CAACe,MAAD,EAAS,WAAT,CAAH,CAAyBK,OAAzB,IAAoCpB,GAAG,CAACe,MAAD,EAAS,mBAAT,CAAH,CAAiCM,OAArE,IAAgF,EAA1G;AACA,QAAMC,kBAAkB,GAAGtB,GAAG,CAACe,MAAD,EAAS,0BAAT,CAA9B;AACA,QAAMQ,8BAA8B,GAAGD,kBAAkB,CAACE,MAAnB,CAA0B,UAACC,EAAD;AAAA,aAAQA,EAAE,CAACC,QAAX;AAAA,KAA1B,CAAvC;AACA,QAAMC,gBAAgB,GAAG3B,GAAG,CAACe,MAAD,EAAS,mBAAT,CAA5B;AACA,QAAMa,YAAY,GAChB,CAAArB,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsB,QAAV,KAAsB,CAAAtB,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsB,QAAV,MAAuB,YAA7C,GACIC,QAAQ,CAACvB,QAAD,aAACA,QAAD,+CAACA,QAAQ,CAAEwB,UAAX,yDAAC,qBAAsBC,EAAvB,CADZ,GAEI,CAAAzB,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsB,QAAV,KAAsB,CAAAtB,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsB,QAAV,MAAuB,eAA7C,GACA,CADA,GAEAF,gBAFA,aAEAA,gBAFA,uBAEAA,gBAAgB,CAAEC,YALxB;AAMA,QAAMK,YAAY,GAChB,CAAA1B,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsB,QAAV,KAAsB,CAAAtB,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsB,QAAV,MAAuB,YAA7C,GAA4D,IAA5D,GAAmE,CAAAtB,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAE2B,aAAV,MAA2BP,gBAA3B,aAA2BA,gBAA3B,uBAA2BA,gBAAgB,CAAEM,YAA7C,CADrE;;AAEA,QAAME,IAAI,mCACLR,gBADK;AAERS,MAAAA,gBAAgB,EAAE,CAAA7B,QAAQ,SAAR,IAAAA,QAAQ,WAAR,kCAAAA,QAAQ,CAAE8B,QAAV,0EAAoBD,gBAApB,MAAwCT,gBAAxC,aAAwCA,gBAAxC,uBAAwCA,gBAAgB,CAAES,gBAA1D,CAFV;AAGRE,MAAAA,QAAQ,EAAER,QAAQ,CAACvB,QAAD,aAACA,QAAD,2CAACA,QAAQ,CAAEgC,MAAX,qDAAC,iBAAkBP,EAAnB,CAAR,KAAkCL,gBAAlC,aAAkCA,gBAAlC,uBAAkCA,gBAAgB,CAAEW,QAApD,CAHF;AAIRE,MAAAA,SAAS,EAAEV,QAAQ,CAACvB,QAAD,aAACA,QAAD,4CAACA,QAAQ,CAAEkC,OAAX,sDAAC,kBAAmBT,EAApB,CAAR,KAAmCL,gBAAnC,aAAmCA,gBAAnC,uBAAmCA,gBAAgB,CAAEa,SAArD,CAJH;AAKRE,MAAAA,iBAAiB,EAAE,CAAAnC,QAAQ,SAAR,IAAAA,QAAQ,WAAR,qCAAAA,QAAQ,CAAEoC,WAAV,gFAAuBA,WAAvB,MAAsChB,gBAAtC,aAAsCA,gBAAtC,uBAAsCA,gBAAgB,CAAEe,iBAAxD,CALX;AAMRE,MAAAA,gBAAgB,EAAE,CAAArC,QAAQ,SAAR,IAAAA,QAAQ,WAAR,qCAAAA,QAAQ,CAAEsC,oBAAV,gFAAgCC,UAAhC,MAA8CnB,gBAA9C,aAA8CA,gBAA9C,uBAA8CA,gBAAgB,CAAEiB,gBAAhE,CANV;AAORG,MAAAA,sBAAsB,EAAE,CAAAxC,QAAQ,SAAR,IAAAA,QAAQ,WAAR,qCAAAA,QAAQ,CAAEwC,sBAAV,gFAAkCD,UAAlC,MAAgDnB,gBAAhD,aAAgDA,gBAAhD,uBAAgDA,gBAAgB,CAAEoB,sBAAlE,CAPhB;AAQRC,MAAAA,YAAY,EAAE,CAAAzC,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEyC,YAAV,MAA0BrB,gBAA1B,aAA0BA,gBAA1B,uBAA0BA,gBAAgB,CAAEqB,YAA5C,CARN;AASRC,MAAAA,YAAY,EAAEC,OAAO,CAAC3C,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAE4C,KAAX,CAAP,GAA2B5C,QAA3B,aAA2BA,QAA3B,uBAA2BA,QAAQ,CAAE4C,KAArC,GAA6CxB,gBAA7C,aAA6CA,gBAA7C,uBAA6CA,gBAAgB,CAAEsB,YATrE;AAURG,MAAAA,eAAe,EAAE,CAAA7C,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAE6C,eAAV,MAA6BzB,gBAA7B,aAA6BA,gBAA7B,uBAA6BA,gBAAgB,CAAEyB,eAA/C,CAVT;AAWR7B,MAAAA,8BAA8B,EAA9BA,8BAXQ;AAYRK,MAAAA,YAAY,EAAEA,YAZN;AAaRK,MAAAA,YAAY,EAAZA,YAbQ;AAcRoB,MAAAA,iBAAiB,EACf,CAAA9C,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsB,QAAV,KAAsB,CAAAtB,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsB,QAAV,MAAuB,eAA7C,GACItB,QADJ,aACIA,QADJ,uBACIA,QAAQ,CAAE2B,aADd,GAEI,CAAA3B,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsB,QAAV,MAAuB,YAAvB,GACA,IADA,GAEAF,gBAFA,aAEAA,gBAFA,uBAEAA,gBAAgB,CAAE0B,iBAnBhB;AAoBRC,MAAAA,iBAAiB,EAAE,CAAA/C,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAE+C,iBAAV,MAA+B3B,gBAA/B,aAA+BA,gBAA/B,uBAA+BA,gBAAgB,CAAE2B,iBAAjD,CApBX;AAqBRC,MAAAA,YAAY,EAAE,CAAAhD,QAAQ,SAAR,IAAAA,QAAQ,WAAR,qCAAAA,QAAQ,CAAEgD,YAAV,gFAAwBC,IAAxB,MAAgC7B,gBAAhC,aAAgCA,gBAAhC,uBAAgCA,gBAAgB,CAAE4B,YAAlD,CArBN;AAsBRE,MAAAA,eAAe,EAAE,CAAAlD,QAAQ,SAAR,IAAAA,QAAQ,WAAR,oCAAAA,QAAQ,CAAEmD,UAAV,8EAAsBC,iBAAtB,MAA2ChC,gBAA3C,aAA2CA,gBAA3C,uBAA2CA,gBAAgB,CAAE8B,eAA7D,CAtBT;AAuBRG,MAAAA,iBAAiB,EAAE,CAAArD,QAAQ,SAAR,IAAAA,QAAQ,WAAR,qCAAAA,QAAQ,CAAEmD,UAAV,gFAAsBC,iBAAtB,MAA2ChC,gBAA3C,aAA2CA,gBAA3C,uBAA2CA,gBAAgB,CAAEiC,iBAA7D,CAvBX;AAwBRC,MAAAA,QAAQ,EAAE,CAAAtD,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsD,QAAV,MAAsBlC,gBAAtB,aAAsBA,gBAAtB,uBAAsBA,gBAAgB,CAAEkC,QAAxC,CAxBF;AAyBRC,MAAAA,YAAY,EAAE,CAAAvD,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEuD,YAAV,MAA0BnC,gBAA1B,aAA0BA,gBAA1B,uBAA0BA,gBAAgB,CAAEmC,YAA5C,CAzBN;AA0BRC,MAAAA,iBAAiB,EAAE,CAAAxD,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEwD,iBAAV,MAA+BpC,gBAA/B,aAA+BA,gBAA/B,uBAA+BA,gBAAgB,CAAEoC,iBAAjD,CA1BX;AA2BRC,MAAAA,eAAe,EAAElC,QAAQ,CAACvB,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAEyD,eAAX,CAAR,KAAuCrC,gBAAvC,aAAuCA,gBAAvC,uBAAuCA,gBAAgB,CAAEqC,eAAzD,CA3BT;AA4BRC,MAAAA,iBAAiB,EAAE,CAAAtC,gBAAgB,SAAhB,IAAAA,gBAAgB,WAAhB,YAAAA,gBAAgB,CAAEsC,iBAAlB,KAAuC,IA5BlD;AA6BRC,MAAAA,UAAU,EAAEpC,QAAQ,CAACvB,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAE4D,QAAX,CAAR,KAAgCxC,gBAAhC,aAAgCA,gBAAhC,uBAAgCA,gBAAgB,CAAEuC,UAAlD,CA7BJ;AA8BRE,MAAAA,eAAe,EAAE,CAAA7D,QAAQ,SAAR,IAAAA,QAAQ,WAAR,kCAAAA,QAAQ,CAAE8D,QAAV,0EAAoBV,iBAApB,MAAyChC,gBAAzC,aAAyCA,gBAAzC,uBAAyCA,gBAAgB,CAAEyC,eAA3D,CA9BT;AA+BRE,MAAAA,kBAAkB,EAAE,CAAA/D,QAAQ,SAAR,IAAAA,QAAQ,WAAR,qCAAAA,QAAQ,CAAEgE,WAAV,gFAAuBvC,EAAvB,MAA6BL,gBAA7B,aAA6BA,gBAA7B,uBAA6BA,gBAAgB,CAAE2C,kBAA/C,CA/BZ;AAgCRE,MAAAA,YAAY,EAAE,CAAAjE,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEkE,QAAV,IAAqBpE,KAAK,CAACqE,IAAN,CAAWC,WAAX,CAAuBpE,QAAvB,aAAuBA,QAAvB,uBAAuBA,QAAQ,CAAEkE,QAAjC,CAArB,GAAkE9C,gBAAlE,aAAkEA,gBAAlE,uBAAkEA,gBAAgB,CAAE6C,YAhC1F;AAiCRI,MAAAA,UAAU,EAAE,CAAArE,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsE,MAAV,IAAmBxE,KAAK,CAACqE,IAAN,CAAWC,WAAX,CAAuBpE,QAAvB,aAAuBA,QAAvB,uBAAuBA,QAAQ,CAAEsE,MAAjC,CAAnB,GAA8DlD,gBAA9D,aAA8DA,gBAA9D,uBAA8DA,gBAAgB,CAAEiD,UAjCpF;AAkCRE,MAAAA,cAAc,EAAE,CAAAvE,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEuE,cAAV,IAA2B,CAA3B,GAA+B,CAAAvE,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEuE,cAAV,MAA6B,KAA7B,GAAqC,CAArC,GAAyCnD,gBAAzC,aAAyCA,gBAAzC,uBAAyCA,gBAAgB,CAAEmD,cAlClG;AAmCRC,MAAAA,eAAe,EACb,QAAOxE,QAAP,aAAOA,QAAP,uBAAOA,QAAQ,CAAEwE,eAAjB,MAAqC,WAArC,GACIpD,gBADJ,aACIA,gBADJ,uBACIA,gBAAgB,CAAEoD,eADtB,GAEI,QAAOxE,QAAP,aAAOA,QAAP,uBAAOA,QAAQ,CAAEuE,cAAjB,MAAoC,WAApC,KAAmDvE,QAAnD,aAAmDA,QAAnD,uBAAmDA,QAAQ,CAAEuE,cAA7D,IACAvE,QADA,aACAA,QADA,gDACAA,QAAQ,CAAEwE,eADV,0DACA,sBAA2B/C,EAD3B,GAEA,IAxCE;AAyCRgD,MAAAA,qBAAqB,EACnB,QAAOzE,QAAP,aAAOA,QAAP,uBAAOA,QAAQ,CAAEuE,cAAjB,MAAoC,WAApC,IAAmD,EAACvE,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAEuE,cAAX,CAAnD,GACI,QAAOvE,QAAP,aAAOA,QAAP,uBAAOA,QAAQ,CAAEyE,qBAAjB,MAA2C,WAA3C,GACErD,gBADF,aACEA,gBADF,uBACEA,gBAAgB,CAAEqD,qBADpB,GAEE,CAAAzE,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEyE,qBAAV,IACA3E,KAAK,CAACqE,IAAN,CAAWC,WAAX,CAAuBpE,QAAvB,aAAuBA,QAAvB,uBAAuBA,QAAQ,CAAEyE,qBAAjC,CADA,GAEA,IALN,GAMI,IAhDE;AAiDRC,MAAAA,wBAAwB,EACtB,QAAO1E,QAAP,aAAOA,QAAP,uBAAOA,QAAQ,CAAEuE,cAAjB,MAAoC,WAApC,IAAmD,EAACvE,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAEuE,cAAX,CAAnD,GACI,QAAOvE,QAAP,aAAOA,QAAP,uBAAOA,QAAQ,CAAE0E,wBAAjB,MAA8C,WAA9C,GACEtD,gBADF,aACEA,gBADF,uBACEA,gBAAgB,CAAEsD,wBADpB,GAEE,CAAA1E,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAE0E,wBAAV,IACA5E,KAAK,CAACqE,IAAN,CAAWC,WAAX,CAAuBpE,QAAvB,aAAuBA,QAAvB,uBAAuBA,QAAQ,CAAE0E,wBAAjC,CADA,GAEA,IALN,GAMI,IAxDE;AAyDRC,MAAAA,iBAAiB,EACf,QAAO3E,QAAP,aAAOA,QAAP,uBAAOA,QAAQ,CAAEuE,cAAjB,MAAoC,WAApC,IAAmD,EAACvE,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAEuE,cAAX,CAAnD,GACI,QAAOvE,QAAP,aAAOA,QAAP,uBAAOA,QAAQ,CAAE2E,iBAAjB,MAAuC,WAAvC,GACEvD,gBADF,aACEA,gBADF,uBACEA,gBAAgB,CAAEuD,iBADpB,GAEE3E,QAFF,aAEEA,QAFF,uBAEEA,QAAQ,CAAE2E,iBAHhB,GAII;AA9DE,MAAV;;AAiEA,WAAO7E,KAAK,CAAC8E,GAAN,CACJC,GADI,CACA;AACHC,MAAAA,KAAK,EAAE3E,IAAI,CAAC4E,WADT;AAEH1E,MAAAA,QAAQ,EAAEA,QAAQ,CAAC2E,YAFhB;AAGHC,MAAAA,IAAI,4BAAqBrE,iBAArB,YAHD;AAIHgB,MAAAA,IAAI,EAAJA;AAJG,KADA,EAOJsD,IAPI,CAOC,UAACC,QAAD;AAAA,aAAcrF,KAAK,CAAC8E,GAAN,CAAUQ,cAAV,CAAyBD,QAAzB,CAAd;AAAA,KAPD,EAQJD,IARI,CAQC,UAACG,IAAD;AAAA,aAAUvF,KAAK,CAAC8E,GAAN,CAAUU,aAAV,CAAwBD,IAAxB,CAAV;AAAA,KARD,EASJH,IATI,CASC,UAACtD,IAAD,EAAU;AACd3B,MAAAA,QAAQ,CAACsF,sCAAsC,CAAC3D,IAAI,CAACA,IAAN,CAAvC,CAAR;AACA3B,MAAAA,QAAQ,CAACL,mBAAmB,CAAC,uCAAD,EAA0C,SAA1C,CAApB,CAAR;AACAK,MAAAA,QAAQ,CAACJ,YAAY,CAAC,iCAAD,CAAb,CAAR;AACA,aAAO+B,IAAI,CAACA,IAAZ;AACD,KAdI,EAeJ4D,KAfI,CAeE,UAACC,GAAD,EAAS;AACd,UAAMC,WAAW,mCACZjF,YADY;AAEfkF,QAAAA,OAAO,EAAE;AAFM,QAAjB;;AAKA7F,MAAAA,KAAK,CAAC8E,GAAN,CAAUgB,WAAV,CAAsBH,GAAtB,EAA2BC,WAA3B;AACA5F,MAAAA,KAAK,CAAC8E,GAAN,CAAUiB,kBAAV,CAA6BJ,GAA7B,EAAkCxF,QAAlC,EAA4CP,UAA5C;AACAO,MAAAA,QAAQ,CAAC6F,sCAAsC,CAACL,GAAD,CAAvC,CAAR;AACAxF,MAAAA,QAAQ,CAACL,mBAAmB,CAAC,oCAAD,EAAuC,OAAvC,CAApB,CAAR;AACAK,MAAAA,QAAQ,CAACJ,YAAY,CAAC,iCAAD,CAAb,CAAR;AACA,aAAO4F,GAAP;AACD,KA3BI,CAAP;AA4BD,GAnH8C;AAAA,CAAxC;AAqHP,OAAO,IAAM9E,sCAAsC,GAAG,SAAzCA,sCAAyC,CAACiB,IAAD,EAAU;AAC9D,SAAO;AACLmE,IAAAA,IAAI,EAAE,2CADD;AAELC,IAAAA,OAAO,EAAEpE;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,IAAM2D,sCAAsC,GAAG,SAAzCA,sCAAyC,CAAC3D,IAAD,EAAU;AAC9D,SAAO;AACLmE,IAAAA,IAAI,EAAE,2CADD;AAELC,IAAAA,OAAO,EAAEpE;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,IAAMkE,sCAAsC,GAAG,SAAzCA,sCAAyC,CAACG,KAAD,EAAW;AAC/D,SAAO;AACLF,IAAAA,IAAI,EAAE,2CADD;AAELC,IAAAA,OAAO,EAAEC;AAFJ,GAAP;AAID,CALM","sourcesContent":["import get from 'lodash/get';\r\n\r\nimport { authLogout, addLoader, enqueueNotification, removeLoader } from 'stores';\r\nimport * as utils from 'utils';\r\n\r\nexport const postEditClaimDetailsInformation = (formData) => (dispatch, getState) => {\r\n  // prettier-ignore\r\n  const { user: { auth }, config: { vars: { endpoint } }, claims } = getState();\r\n\r\n  const defaultError = {\r\n    file: 'stores/claims.actions.postEditClaimDetailsInformation',\r\n  };\r\n\r\n  dispatch(postEditClaimDetailsInformationRequest(formData));\r\n  dispatch(addLoader('postEditClaimDetailsInformation'));\r\n  const claimSubmissionId = get(claims, 'claimData').claimId || get(claims, 'claimsInformation').claimID || '';\r\n  const underWritingGroups = get(claims, 'underWritingGroups.items');\r\n  const policyUnderWritingGroupDtoList = underWritingGroups.filter((ug) => ug.selected);\r\n  const editClaimDetails = get(claims, 'claimsInformation');\r\n  const beAdjusterID =\r\n    formData?.adjuster && formData?.adjuster === 'beAdjuster'\r\n      ? parseInt(formData?.beAdjuster?.id)\r\n      : formData?.adjuster && formData?.adjuster === 'nonBeAdjuster'\r\n      ? 0\r\n      : editClaimDetails?.beAdjusterID;\r\n  const adjusterName =\r\n    formData?.adjuster && formData?.adjuster === 'beAdjuster' ? null : formData?.nonBeAdjuster || editClaimDetails?.adjusterName;\r\n  const data = {\r\n    ...editClaimDetails,\r\n    policyInterestID: formData?.interest?.policyInterestID || editClaimDetails?.policyInterestID,\r\n    clientID: parseInt(formData?.client?.id) || editClaimDetails?.clientID,\r\n    insuredID: parseInt(formData?.insured?.id) || editClaimDetails?.insuredID,\r\n    settlementCountry: formData?.countryCode?.countryCode || editClaimDetails?.settlementCountry,\r\n    originalCurrency: formData?.originalCurrencyCode?.currencyCd || editClaimDetails?.originalCurrency,\r\n    settlementCurrencyCode: formData?.settlementCurrencyCode?.currencyCd || editClaimDetails?.settlementCurrencyCode,\r\n    movementType: formData?.movementType || editClaimDetails?.movementType,\r\n    basisOfOrder: Boolean(formData?.order) ? formData?.order : editClaimDetails?.basisOfOrder,\r\n    orderPercentage: formData?.orderPercentage || editClaimDetails?.orderPercentage,\r\n    policyUnderWritingGroupDtoList,\r\n    beAdjusterID: beAdjusterID,\r\n    adjusterName,\r\n    nonBEAdjusterName:\r\n      formData?.adjuster && formData?.adjuster === 'nonBeAdjuster'\r\n        ? formData?.nonBeAdjuster\r\n        : formData?.adjuster === 'beAdjuster'\r\n        ? null\r\n        : editClaimDetails?.nonBEAdjusterName,\r\n    adjusterReference: formData?.adjusterReference || editClaimDetails?.adjusterReference,\r\n    claimantName: formData?.claimantName?.name || editClaimDetails?.claimantName,\r\n    complexityBasis: formData?.complexity?.complexityRulesID || editClaimDetails?.complexityBasis,\r\n    complexityValueID: formData?.complexity?.complexityRulesID || editClaimDetails?.complexityValueID,\r\n    location: formData?.location || editClaimDetails?.location,\r\n    fgunarrative: formData?.fgunarrative || editClaimDetails?.fgunarrative,\r\n    claimReceivedDate: formData?.claimReceivedDate || editClaimDetails?.claimReceivedDate,\r\n    lossQualifierID: parseInt(formData?.lossQualifierID) || editClaimDetails?.lossQualifierID,\r\n    lossQualifierName: editClaimDetails?.lossQualifierName || null,\r\n    priorityID: parseInt(formData?.priority) || editClaimDetails?.priorityID,\r\n    referralValueID: formData?.referral?.complexityRulesID || editClaimDetails?.referralValueID,\r\n    referralResponseID: formData?.rfiResponse?.id || editClaimDetails?.referralResponseID,\r\n    lossFromDate: formData?.fromDate ? utils.date.toISOString(formData?.fromDate) : editClaimDetails?.lossFromDate,\r\n    lossToDate: formData?.toDate ? utils.date.toISOString(formData?.toDate) : editClaimDetails?.lossToDate,\r\n    bordereauClaim: formData?.bordereauClaim ? 1 : formData?.bordereauClaim === false ? 0 : editClaimDetails?.bordereauClaim,\r\n    bordereauPeriod:\r\n      typeof formData?.bordereauPeriod === 'undefined'\r\n        ? editClaimDetails?.bordereauPeriod\r\n        : typeof formData?.bordereauClaim !== 'undefined' && formData?.bordereauClaim\r\n        ? formData?.bordereauPeriod?.id\r\n        : null,\r\n    certificateExpiryDate:\r\n      typeof formData?.bordereauClaim !== 'undefined' && !formData?.bordereauClaim\r\n        ? typeof formData?.certificateExpiryDate === 'undefined'\r\n          ? editClaimDetails?.certificateExpiryDate\r\n          : formData?.certificateExpiryDate\r\n          ? utils.date.toISOString(formData?.certificateExpiryDate)\r\n          : null\r\n        : null,\r\n    certificateInceptionDate:\r\n      typeof formData?.bordereauClaim !== 'undefined' && !formData?.bordereauClaim\r\n        ? typeof formData?.certificateInceptionDate === 'undefined'\r\n          ? editClaimDetails?.certificateInceptionDate\r\n          : formData?.certificateInceptionDate\r\n          ? utils.date.toISOString(formData?.certificateInceptionDate)\r\n          : null\r\n        : null,\r\n    certificateNumber:\r\n      typeof formData?.bordereauClaim !== 'undefined' && !formData?.bordereauClaim\r\n        ? typeof formData?.certificateNumber === 'undefined'\r\n          ? editClaimDetails?.certificateNumber\r\n          : formData?.certificateNumber\r\n        : null,\r\n  };\r\n\r\n  return utils.api\r\n    .put({\r\n      token: auth.accessToken,\r\n      endpoint: endpoint.claimService,\r\n      path: `api/data/claims/${claimSubmissionId}/update`,\r\n      data,\r\n    })\r\n    .then((response) => utils.api.handleResponse(response))\r\n    .then((json) => utils.api.handleNewData(json))\r\n    .then((data) => {\r\n      dispatch(postEditClaimDetailsInformationSuccess(data.data));\r\n      dispatch(enqueueNotification('notification.claimEditDetails.success', 'success'));\r\n      dispatch(removeLoader('postEditClaimDetailsInformation'));\r\n      return data.data;\r\n    })\r\n    .catch((err) => {\r\n      const errorParams = {\r\n        ...defaultError,\r\n        message: 'API post error',\r\n      };\r\n\r\n      utils.api.handleError(err, errorParams);\r\n      utils.api.handleUnauthorized(err, dispatch, authLogout);\r\n      dispatch(postEditClaimDetailsInformationFailure(err));\r\n      dispatch(enqueueNotification('notification.claimEditDetails.fail', 'error'));\r\n      dispatch(removeLoader('postEditClaimDetailsInformation'));\r\n      return err;\r\n    });\r\n};\r\n\r\nexport const postEditClaimDetailsInformationRequest = (data) => {\r\n  return {\r\n    type: 'CLAIMS_DETAILS_INFORMATION_UPDATE_REQUEST',\r\n    payload: data,\r\n  };\r\n};\r\n\r\nexport const postEditClaimDetailsInformationSuccess = (data) => {\r\n  return {\r\n    type: 'CLAIMS_DETAILS_INFORMATION_UPDATE_SUCCESS',\r\n    payload: data,\r\n  };\r\n};\r\n\r\nexport const postEditClaimDetailsInformationFailure = (error) => {\r\n  return {\r\n    type: 'CLAIMS_DETAILS_INFORMATION_UPDATE_FAILURE',\r\n    payload: error,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}