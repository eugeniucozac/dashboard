{"ast":null,"code":"import \"core-js/modules/es.array.map\";\nimport _defineProperty from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\MarketingMarkets\\\\MarketingMarkets.view.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport kebabCase from 'lodash/kebabCase';\nimport round from 'lodash/round'; // app\n\nimport styles from './MarketingMarkets.styles';\nimport { Avatar, Overflow, PopoverMenu, Restricted, Status, StatusIcon, TableCell, TableHead, TrafficLights, Translate, TableCheckbox } from 'components';\nimport { MarketingMarketsBulk } from 'modules';\nimport { selectIsBroker } from 'stores';\nimport * as constants from 'consts';\nimport { useMedia } from 'hooks';\nimport * as utils from 'utils';\nimport config from 'config'; // mui\n\nimport { makeStyles, Box, Table, TableRow, TableBody } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nMarketingMarketsView.propTypes = {\n  items: PropTypes.array,\n  groups: PropTypes.array,\n  cols: PropTypes.array.isRequired,\n  placementId: PropTypes.number.isRequired,\n  marketAccountStatuses: PropTypes.array.isRequired,\n  handleEditMarket: PropTypes.func.isRequired,\n  popoverActions: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    label: PropTypes.string.isRequired,\n    callback: PropTypes.func.isRequired\n  })),\n  bulk: PropTypes.shape({\n    marketingMarkets: PropTypes.array.isRequired\n  }),\n  handlers: PropTypes.shape({\n    bulkSelectMarketingMarket: PropTypes.func.isRequired,\n    changeMarket: PropTypes.func.isRequired\n  }),\n  showBulkSelect: PropTypes.bool\n};\nexport function MarketingMarketsView(_ref) {\n  _s();\n\n  var _this = this;\n\n  var groups = _ref.groups,\n      cols = _ref.cols,\n      marketAccountStatuses = _ref.marketAccountStatuses,\n      popoverActions = _ref.popoverActions,\n      handleEditMarket = _ref.handleEditMarket,\n      showBulkSelect = _ref.showBulkSelect,\n      bulk = _ref.bulk,\n      handlers = _ref.handlers;\n  var media = useMedia();\n  var classes = makeStyles(styles, {\n    name: 'MarketingMarkets'\n  })({\n    wide: media.wideUp\n  });\n  var userIsBorker = useSelector(selectIsBroker);\n  var markets = groups.map(function (group) {\n    return group.markets;\n  });\n  return /*#__PURE__*/_jsxDEV(Box, {\n    mt: -1,\n    \"data-testid\": \"placement-marketing-markets\",\n    children: [groups && utils.generic.isValidArray(groups, true) && groups.map(function (group) {\n      var groupName = kebabCase(group.name);\n      var markets = utils.sort.arrayNestedPropertyValue(group.markets, 'market.edgeName', 'asc');\n      return /*#__PURE__*/_jsxDEV(Box, {\n        mb: 2,\n        children: /*#__PURE__*/_jsxDEV(Overflow, {\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            size: \"small\",\n            \"data-testid\": \"table-capacity-\".concat(group.id, \"-\").concat(groupName),\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              columns: cols.map(function (col) {\n                var isTitle = col.id === 'name';\n\n                if (isTitle) {\n                  col.label = /*#__PURE__*/_jsxDEV(Box, {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    position: \"relative\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: group.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 91,\n                      columnNumber: 29\n                    }, _this), group.color && /*#__PURE__*/_jsxDEV(Box, {\n                      ml: 0.75,\n                      mb: -0.25,\n                      children: /*#__PURE__*/_jsxDEV(Avatar, {\n                        text: \" \",\n                        size: 10,\n                        bg: group.color,\n                        title: group.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 94,\n                        columnNumber: 33\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 93,\n                      columnNumber: 31\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 27\n                  }, _this);\n                }\n\n                return _objectSpread({}, col);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 19\n            }, _this), /*#__PURE__*/_jsxDEV(TableBody, {\n              \"data-testid\": \"list\",\n              children: utils.generic.isValidArray(markets, true) && markets.map(function (item) {\n                var _item$quotes$quoted, _item$quotes$pending, _item$quotes$declined, _item$quotes, _item$quotes$quoted2, _item$quotes2, _item$quotes2$pending, _item$quotes3, _item$quotes3$decline;\n\n                var hasStatus = !!(item.market && item.market.statusId);\n                var hasTrafficLights = Object.values(item.quotes).some(function (q) {\n                  return q.length > 0;\n                });\n                var isChecked = bulk.marketingMarkets.includes(item.id);\n\n                var getMarketAmounts = function getMarketAmounts(market) {\n                  var currency = utils.market.getCurrency(market);\n                  var premium = utils.market.getPremium(market, false);\n                  var written = round(utils.market.getLineSize(market), config.ui.format.percent.decimal);\n                  var premiumString = premium || premium === 0 ? utils.string.t('format.currency', {\n                    value: {\n                      number: premium,\n                      currency: premium ? currency : '',\n                      \"default\": '-'\n                    }\n                  }) : '';\n                  var writtenString = written || written === 0 ? utils.string.t('format.percent', {\n                    value: {\n                      number: written,\n                      \"default\": '-'\n                    }\n                  }) : '';\n                  return \"<span>\".concat(writtenString ? premiumString ? \"\".concat(premiumString, \" @ \").concat(writtenString) : \"@ \".concat(writtenString) : premiumString, \"</span>\");\n                };\n\n                var getStatusContent = function getStatusContent(quotes, type) {\n                  var _quotes$type, _quotes$type2;\n\n                  var typeCount = \"\".concat(utils.string.t(\"status.\".concat(type)), \": \").concat((_quotes$type = quotes[type]) === null || _quotes$type === void 0 ? void 0 : _quotes$type.length);\n                  return \"\\n                              \".concat(\"<strong>\".concat(typeCount, \"</strong>\"), \"\\n                              <br/>\\n                              \", (_quotes$type2 = quotes[type]) === null || _quotes$type2 === void 0 ? void 0 : _quotes$type2.items.map(function (market) {\n                    return [market.placementlayerBusinessType, market.placementlayerName, getMarketAmounts(market)].join(' - ');\n                  }).join('<br/>'), \"\\n                            \");\n                };\n\n                var tooltipContent = hasTrafficLights && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.tooltipContent,\n                  dangerouslySetInnerHTML: {\n                    __html: [((_item$quotes$quoted = item.quotes.quoted) === null || _item$quotes$quoted === void 0 ? void 0 : _item$quotes$quoted.length) > 0 ? getStatusContent(item.quotes, 'quoted') : null, ((_item$quotes$pending = item.quotes.pending) === null || _item$quotes$pending === void 0 ? void 0 : _item$quotes$pending.length) > 0 ? getStatusContent(item.quotes, 'pending') : null, ((_item$quotes$declined = item.quotes.declined) === null || _item$quotes$declined === void 0 ? void 0 : _item$quotes$declined.length) > 0 ? getStatusContent(item.quotes, 'declined') : null].filter(Boolean).join('<br/><br/>')\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 27\n                }, _this);\n\n                return /*#__PURE__*/_jsxDEV(TableRow, {\n                  onDoubleClick: function onDoubleClick() {\n                    return userIsBorker && handleEditMarket({\n                      placementMarket: item\n                    });\n                  },\n                  className: classnames(classes.row, _defineProperty({}, classes.rowNew, Boolean(item.__new__))),\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    nestedClasses: {\n                      root: classes.cellsMarkets\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: classes.market,\n                      children: [/*#__PURE__*/_jsxDEV(Restricted, {\n                        include: [constants.ROLE_BROKER],\n                        children: [showBulkSelect && /*#__PURE__*/_jsxDEV(TableCheckbox, {\n                          checked: isChecked,\n                          handleClick: handlers.bulkSelectMarketingMarket(item.id),\n                          nestedClasses: {\n                            root: classes.checkbox\n                          },\n                          \"data-testid\": \"market-row-checkbox\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 174,\n                          columnNumber: 37\n                        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: classes.marketStatus,\n                          children: hasStatus && /*#__PURE__*/_jsxDEV(StatusIcon, {\n                            translationPath: \"statusMarket\",\n                            list: marketAccountStatuses,\n                            id: item.market.statusId\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 183,\n                            columnNumber: 39\n                          }, _this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 181,\n                          columnNumber: 35\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 172,\n                        columnNumber: 33\n                      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: classes.marketName,\n                        children: [utils.market.getName(item), item.notes && /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: classes.marketNotes,\n                          children: item.notes\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 189,\n                          columnNumber: 50\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 187,\n                        columnNumber: 33\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 171,\n                      columnNumber: 31\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 29\n                  }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: [!hasTrafficLights && item.statusLabel && /*#__PURE__*/_jsxDEV(Status, {\n                      size: \"xs\",\n                      text: /*#__PURE__*/_jsxDEV(Translate, {\n                        label: \"status.\".concat(item.statusLabel)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 195,\n                        columnNumber: 57\n                      }, _this),\n                      status: item.statusLabel\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 195,\n                      columnNumber: 33\n                    }, _this), hasTrafficLights && /*#__PURE__*/_jsxDEV(TrafficLights, {\n                      tooltip: true,\n                      tooltipContent: tooltipContent,\n                      tooltipProps: {\n                        rich: true,\n                        placement: 'left',\n                        nestedClasses: {\n                          tooltip: classes.tooltipRoot\n                        }\n                      },\n                      green: (_item$quotes = item.quotes) === null || _item$quotes === void 0 ? void 0 : (_item$quotes$quoted2 = _item$quotes.quoted) === null || _item$quotes$quoted2 === void 0 ? void 0 : _item$quotes$quoted2.length,\n                      yellow: (_item$quotes2 = item.quotes) === null || _item$quotes2 === void 0 ? void 0 : (_item$quotes2$pending = _item$quotes2.pending) === null || _item$quotes2$pending === void 0 ? void 0 : _item$quotes2$pending.length,\n                      red: (_item$quotes3 = item.quotes) === null || _item$quotes3 === void 0 ? void 0 : (_item$quotes3$decline = _item$quotes3.declined) === null || _item$quotes3$decline === void 0 ? void 0 : _item$quotes3$decline.length\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 198,\n                      columnNumber: 33\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 29\n                  }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    nestedClasses: {\n                      root: classes.cellsUnderwriters\n                    },\n                    children: utils.user.fullname(item.underwriter)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 29\n                  }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    menu: true,\n                    children: /*#__PURE__*/_jsxDEV(PopoverMenu, {\n                      id: \"placement-marketing-market\",\n                      data: {\n                        placementMarket: item\n                      },\n                      items: popoverActions\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 218,\n                      columnNumber: 31\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 29\n                  }, _this)]\n                }, item.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 27\n                }, _this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 19\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }, _this)\n      }, \"\".concat(group.id, \"-\").concat(groupName), false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, _this);\n    }), markets && markets.length > 0 ? /*#__PURE__*/_jsxDEV(MarketingMarketsBulk, {\n      markets: markets\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 40\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MarketingMarketsView, \"Hi1500+CbXtDix+vYfsINfXYENo=\", false, function () {\n  return [useMedia, useSelector];\n});\n\n_c = MarketingMarketsView;\nMarketingMarketsView.displayName = \"MarketingMarketsView\";\nMarketingMarketsView.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [],\n  \"displayName\": \"MarketingMarketsView\",\n  \"props\": {\n    \"items\": {\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"groups\": {\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"cols\": {\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"placementId\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"marketAccountStatuses\": {\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"handleEditMarket\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"popoverActions\": {\n      \"type\": {\n        \"name\": \"arrayOf\",\n        \"value\": {\n          \"name\": \"shape\",\n          \"value\": {\n            \"id\": {\n              \"name\": \"string\",\n              \"required\": true\n            },\n            \"label\": {\n              \"name\": \"string\",\n              \"required\": true\n            },\n            \"callback\": {\n              \"name\": \"func\",\n              \"required\": true\n            }\n          }\n        }\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"bulk\": {\n      \"type\": {\n        \"name\": \"shape\",\n        \"value\": {\n          \"marketingMarkets\": {\n            \"name\": \"array\",\n            \"required\": true\n          }\n        }\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"handlers\": {\n      \"type\": {\n        \"name\": \"shape\",\n        \"value\": {\n          \"bulkSelectMarketingMarket\": {\n            \"name\": \"func\",\n            \"required\": true\n          },\n          \"changeMarket\": {\n            \"name\": \"func\",\n            \"required\": true\n          }\n        }\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"showBulkSelect\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    }\n  }\n};\n\nif (typeof STORYBOOK_REACT_CLASSES !== \"undefined\") {\n  STORYBOOK_REACT_CLASSES[\"src\\\\modules\\\\MarketingMarkets\\\\MarketingMarkets.view.js\"] = {\n    name: \"MarketingMarketsView\",\n    docgenInfo: MarketingMarketsView.__docgenInfo,\n    path: \"src\\\\modules\\\\MarketingMarkets\\\\MarketingMarkets.view.js\"\n  };\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"MarketingMarketsView\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/MarketingMarkets/MarketingMarkets.view.js"],"names":["React","useSelector","PropTypes","classnames","kebabCase","round","styles","Avatar","Overflow","PopoverMenu","Restricted","Status","StatusIcon","TableCell","TableHead","TrafficLights","Translate","TableCheckbox","MarketingMarketsBulk","selectIsBroker","constants","useMedia","utils","config","makeStyles","Box","Table","TableRow","TableBody","MarketingMarketsView","propTypes","items","array","groups","cols","isRequired","placementId","number","marketAccountStatuses","handleEditMarket","func","popoverActions","arrayOf","shape","id","string","label","callback","bulk","marketingMarkets","handlers","bulkSelectMarketingMarket","changeMarket","showBulkSelect","bool","media","classes","name","wide","wideUp","userIsBorker","markets","map","group","generic","isValidArray","groupName","sort","arrayNestedPropertyValue","col","isTitle","color","item","hasStatus","market","statusId","hasTrafficLights","Object","values","quotes","some","q","length","isChecked","includes","getMarketAmounts","currency","getCurrency","premium","getPremium","written","getLineSize","ui","format","percent","decimal","premiumString","t","value","writtenString","getStatusContent","type","typeCount","placementlayerBusinessType","placementlayerName","join","tooltipContent","__html","quoted","pending","declined","filter","Boolean","placementMarket","row","rowNew","__new__","root","cellsMarkets","ROLE_BROKER","checkbox","marketStatus","marketName","getName","notes","marketNotes","statusLabel","rich","placement","nestedClasses","tooltip","tooltipRoot","cellsUnderwriters","user","fullname","underwriter"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport kebabCase from 'lodash/kebabCase';\r\nimport round from 'lodash/round';\r\n\r\n// app\r\nimport styles from './MarketingMarkets.styles';\r\nimport {\r\n  Avatar,\r\n  Overflow,\r\n  PopoverMenu,\r\n  Restricted,\r\n  Status,\r\n  StatusIcon,\r\n  TableCell,\r\n  TableHead,\r\n  TrafficLights,\r\n  Translate,\r\n  TableCheckbox,\r\n} from 'components';\r\nimport { MarketingMarketsBulk } from 'modules';\r\nimport { selectIsBroker } from 'stores';\r\nimport * as constants from 'consts';\r\nimport { useMedia } from 'hooks';\r\nimport * as utils from 'utils';\r\nimport config from 'config';\r\n\r\n// mui\r\nimport { makeStyles, Box, Table, TableRow, TableBody } from '@material-ui/core';\r\n\r\nMarketingMarketsView.propTypes = {\r\n  items: PropTypes.array,\r\n  groups: PropTypes.array,\r\n  cols: PropTypes.array.isRequired,\r\n  placementId: PropTypes.number.isRequired,\r\n  marketAccountStatuses: PropTypes.array.isRequired,\r\n  handleEditMarket: PropTypes.func.isRequired,\r\n  popoverActions: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.string.isRequired,\r\n      label: PropTypes.string.isRequired,\r\n      callback: PropTypes.func.isRequired,\r\n    })\r\n  ),\r\n  bulk: PropTypes.shape({\r\n    marketingMarkets: PropTypes.array.isRequired,\r\n  }),\r\n  handlers: PropTypes.shape({\r\n    bulkSelectMarketingMarket: PropTypes.func.isRequired,\r\n    changeMarket: PropTypes.func.isRequired,\r\n  }),\r\n  showBulkSelect: PropTypes.bool,\r\n};\r\n\r\nexport function MarketingMarketsView({\r\n  groups,\r\n  cols,\r\n  marketAccountStatuses,\r\n  popoverActions,\r\n  handleEditMarket,\r\n  showBulkSelect,\r\n  bulk,\r\n  handlers,\r\n}) {\r\n  const media = useMedia();\r\n  const classes = makeStyles(styles, { name: 'MarketingMarkets' })({ wide: media.wideUp });\r\n  const userIsBorker = useSelector(selectIsBroker);\r\n  const markets = groups.map((group) => group.markets);\r\n\r\n  return (\r\n    <Box mt={-1} data-testid=\"placement-marketing-markets\">\r\n      {groups &&\r\n        utils.generic.isValidArray(groups, true) &&\r\n        groups.map((group) => {\r\n          const groupName = kebabCase(group.name);\r\n          const markets = utils.sort.arrayNestedPropertyValue(group.markets, 'market.edgeName', 'asc');\r\n\r\n          return (\r\n            <Box mb={2} key={`${group.id}-${groupName}`}>\r\n              <Overflow>\r\n                <Table size=\"small\" data-testid={`table-capacity-${group.id}-${groupName}`}>\r\n                  <TableHead\r\n                    columns={cols.map((col) => {\r\n                      const isTitle = col.id === 'name';\r\n\r\n                      if (isTitle) {\r\n                        col.label = (\r\n                          <Box display=\"flex\" alignItems=\"center\" position=\"relative\">\r\n                            <span>{group.name}</span>\r\n                            {group.color && (\r\n                              <Box ml={0.75} mb={-0.25}>\r\n                                <Avatar text=\" \" size={10} bg={group.color} title={group.name} />\r\n                              </Box>\r\n                            )}\r\n                          </Box>\r\n                        );\r\n                      }\r\n\r\n                      return { ...col };\r\n                    })}\r\n                  />\r\n\r\n                  <TableBody data-testid=\"list\">\r\n                    {utils.generic.isValidArray(markets, true) &&\r\n                      markets.map((item) => {\r\n                        const hasStatus = !!(item.market && item.market.statusId);\r\n                        const hasTrafficLights = Object.values(item.quotes).some((q) => q.length > 0);\r\n                        const isChecked = bulk.marketingMarkets.includes(item.id);\r\n                        const getMarketAmounts = (market) => {\r\n                          const currency = utils.market.getCurrency(market);\r\n                          const premium = utils.market.getPremium(market, false);\r\n                          const written = round(utils.market.getLineSize(market), config.ui.format.percent.decimal);\r\n\r\n                          const premiumString =\r\n                            premium || premium === 0\r\n                              ? utils.string.t('format.currency', {\r\n                                  value: { number: premium, currency: premium ? currency : '', default: '-' },\r\n                                })\r\n                              : '';\r\n\r\n                          const writtenString =\r\n                            written || written === 0 ? utils.string.t('format.percent', { value: { number: written, default: '-' } }) : '';\r\n\r\n                          return `<span>${\r\n                            writtenString ? (premiumString ? `${premiumString} @ ${writtenString}` : `@ ${writtenString}`) : premiumString\r\n                          }</span>`;\r\n                        };\r\n\r\n                        const getStatusContent = (quotes, type) => {\r\n                          const typeCount = `${utils.string.t(`status.${type}`)}: ${quotes[type]?.length}`;\r\n\r\n                          return `\r\n                              ${`<strong>${typeCount}</strong>`}\r\n                              <br/>\r\n                              ${quotes[type]?.items\r\n                                .map((market) => {\r\n                                  return [market.placementlayerBusinessType, market.placementlayerName, getMarketAmounts(market)].join(\r\n                                    ' - '\r\n                                  );\r\n                                })\r\n                                .join('<br/>')}\r\n                            `;\r\n                        };\r\n\r\n                        const tooltipContent = hasTrafficLights && (\r\n                          <div\r\n                            className={classes.tooltipContent}\r\n                            dangerouslySetInnerHTML={{\r\n                              __html: [\r\n                                item.quotes.quoted?.length > 0 ? getStatusContent(item.quotes, 'quoted') : null,\r\n                                item.quotes.pending?.length > 0 ? getStatusContent(item.quotes, 'pending') : null,\r\n                                item.quotes.declined?.length > 0 ? getStatusContent(item.quotes, 'declined') : null,\r\n                              ]\r\n                                .filter(Boolean)\r\n                                .join('<br/><br/>'),\r\n                            }}\r\n                          />\r\n                        );\r\n\r\n                        return (\r\n                          <TableRow\r\n                            key={item.id}\r\n                            onDoubleClick={() => userIsBorker && handleEditMarket({ placementMarket: item })}\r\n                            className={classnames(classes.row, {\r\n                              [classes.rowNew]: Boolean(item.__new__),\r\n                            })}\r\n                          >\r\n                            <TableCell nestedClasses={{ root: classes.cellsMarkets }}>\r\n                              <div className={classes.market}>\r\n                                <Restricted include={[constants.ROLE_BROKER]}>\r\n                                  {showBulkSelect && (\r\n                                    <TableCheckbox\r\n                                      checked={isChecked}\r\n                                      handleClick={handlers.bulkSelectMarketingMarket(item.id)}\r\n                                      nestedClasses={{ root: classes.checkbox }}\r\n                                      data-testid=\"market-row-checkbox\"\r\n                                    />\r\n                                  )}\r\n                                  <div className={classes.marketStatus}>\r\n                                    {hasStatus && (\r\n                                      <StatusIcon translationPath=\"statusMarket\" list={marketAccountStatuses} id={item.market.statusId} />\r\n                                    )}\r\n                                  </div>\r\n                                </Restricted>\r\n                                <div className={classes.marketName}>\r\n                                  {utils.market.getName(item)}\r\n                                  {item.notes && <div className={classes.marketNotes}>{item.notes}</div>}\r\n                                </div>\r\n                              </div>\r\n                            </TableCell>\r\n                            <TableCell>\r\n                              {!hasTrafficLights && item.statusLabel && (\r\n                                <Status size=\"xs\" text={<Translate label={`status.${item.statusLabel}`} />} status={item.statusLabel} />\r\n                              )}\r\n                              {hasTrafficLights && (\r\n                                <TrafficLights\r\n                                  tooltip\r\n                                  tooltipContent={tooltipContent}\r\n                                  tooltipProps={{\r\n                                    rich: true,\r\n                                    placement: 'left',\r\n                                    nestedClasses: {\r\n                                      tooltip: classes.tooltipRoot,\r\n                                    },\r\n                                  }}\r\n                                  green={item.quotes?.quoted?.length}\r\n                                  yellow={item.quotes?.pending?.length}\r\n                                  red={item.quotes?.declined?.length}\r\n                                />\r\n                              )}\r\n                            </TableCell>\r\n                            <TableCell nestedClasses={{ root: classes.cellsUnderwriters }}>\r\n                              {utils.user.fullname(item.underwriter)}\r\n                            </TableCell>\r\n                            <TableCell menu>\r\n                              <PopoverMenu id=\"placement-marketing-market\" data={{ placementMarket: item }} items={popoverActions} />\r\n                            </TableCell>\r\n                          </TableRow>\r\n                        );\r\n                      })}\r\n                  </TableBody>\r\n                </Table>\r\n              </Overflow>\r\n            </Box>\r\n          );\r\n        })}\r\n      {markets && markets.length > 0 ? <MarketingMarketsBulk markets={markets} /> : null}\r\n    </Box>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}