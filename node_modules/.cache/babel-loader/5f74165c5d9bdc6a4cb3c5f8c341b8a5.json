{"ast":null,"code":"import _toConsumableArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectWithoutProperties from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport * as utils from 'utils';\nvar initialState = {\n  id: null,\n  firstName: '',\n  lastName: '',\n  fullName: '',\n  emailId: '',\n  departmentIds: [],\n  departmentSelected: null,\n  offices: [],\n  role: '',\n  auth: {},\n  isAdmin: false,\n  isReportAdmin: false,\n  hasTokenExpired: true,\n  error: '',\n  // New user info properties\n  landingPage: '',\n  userDetails: {},\n  userRole: {},\n  group: [],\n  businessProcess: [],\n  xbInstance: [],\n  privilege: {},\n  routes: [],\n  organisation: {}\n};\n\nvar userReducers = function userReducers() {\n  var _action$payload2, _action$payload2$user, _action$payload3, _action$payload3$user, _action$payload4, _action$payload4$user, _action$payload5, _action$payload5$user, _action$payload6, _action$payload6$user, _action$payload$xbIns;\n\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'AUTH_LOGIN':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        auth: {}\n      });\n\n    case 'AUTH_LOGOUT':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        auth: {}\n      });\n\n    case 'AUTH_IN_PROGRESS':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        auth: {\n          inProgress: true\n        }\n      });\n\n    case 'AUTH_SUCCESS':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        auth: _objectSpread(_objectSpread({}, action.payload), {}, {\n          inProgress: false\n        }),\n        hasTokenExpired: false\n      });\n\n    case 'AUTH_FAILURE':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        auth: {}\n      });\n\n    case 'USER_GET_SUCCESS':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        id: action.payload.id,\n        firstName: action.payload.firstName,\n        lastName: action.payload.lastName,\n        fullName: action.payload.fullName,\n        emailId: action.payload.emailId,\n        departmentIds: action.payload.departmentIds,\n        departmentSelected: utils.user.department.getDefault(action.payload),\n        offices: action.payload.offices,\n        role: action.payload.role,\n        isAdmin: action.payload.isAdmin,\n        isReportAdmin: action.payload.isReportAdmin\n      });\n\n    case 'USER_GET_FAILURE':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        auth: state.auth,\n        error: action.payload.text || ''\n      });\n\n    case 'USER_DATA_GET_SUCCESS':\n      var _action$payload = action.payload,\n          userRole = _action$payload.role,\n          rest = _objectWithoutProperties(_action$payload, [\"role\"]);\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        id: (_action$payload2 = action.payload) === null || _action$payload2 === void 0 ? void 0 : (_action$payload2$user = _action$payload2.userDetails) === null || _action$payload2$user === void 0 ? void 0 : _action$payload2$user.id,\n        firstName: ((_action$payload3 = action.payload) === null || _action$payload3 === void 0 ? void 0 : (_action$payload3$user = _action$payload3.userDetails) === null || _action$payload3$user === void 0 ? void 0 : _action$payload3$user.firstName) || '',\n        lastName: ((_action$payload4 = action.payload) === null || _action$payload4 === void 0 ? void 0 : (_action$payload4$user = _action$payload4.userDetails) === null || _action$payload4$user === void 0 ? void 0 : _action$payload4$user.lastName) || '',\n        fullName: ((_action$payload5 = action.payload) === null || _action$payload5 === void 0 ? void 0 : (_action$payload5$user = _action$payload5.userDetails) === null || _action$payload5$user === void 0 ? void 0 : _action$payload5$user.name) || '',\n        emailId: ((_action$payload6 = action.payload) === null || _action$payload6 === void 0 ? void 0 : (_action$payload6$user = _action$payload6.userDetails) === null || _action$payload6$user === void 0 ? void 0 : _action$payload6$user.email) || '',\n        userRole: userRole,\n        landingPage: rest.landingPage || initialState.landingPage,\n        userDetails: rest.userDetails || initialState.userDetails,\n        group: rest.group || initialState.group,\n        businessProcess: rest.businessProcess || initialState.businessProcess,\n        xbInstance: rest.xbInstance || initialState.xbInstance,\n        privilege: rest.privilege || initialState.privilege,\n        routes: rest.routes || initialState.routes,\n        organisation: rest.organisation || initialState.organisation,\n        departmentSelected: utils.user.department.getDefault(_objectSpread(_objectSpread({}, action.payload), {}, {\n          userRole: action.payload.role,\n          departmentIds: (_action$payload$xbIns = action.payload.xbInstance) === null || _action$payload$xbIns === void 0 ? void 0 : _action$payload$xbIns.reduce(function (acc, cur) {\n            return [].concat(_toConsumableArray(acc), _toConsumableArray(cur.department || []));\n          }, []).map(function (d) {\n            return d.id;\n          })\n        }))\n      });\n\n    case 'USER_DATA_GET_FAILURE':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        auth: state.auth,\n        error: state.error\n      });\n\n    case 'USER_SET_DEPARTMENT_SELECTED':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        departmentSelected: action.payload\n      });\n\n    case 'USER_TOKEN_EXPIRED':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        hasTokenExpired: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default userReducers;","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/stores/user/user.reducers.js"],"names":["utils","initialState","id","firstName","lastName","fullName","emailId","departmentIds","departmentSelected","offices","role","auth","isAdmin","isReportAdmin","hasTokenExpired","error","landingPage","userDetails","userRole","group","businessProcess","xbInstance","privilege","routes","organisation","userReducers","state","action","type","inProgress","payload","user","department","getDefault","text","rest","name","email","reduce","acc","cur","map","d"],"mappings":"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","sourcesContent":["import * as utils from 'utils';\r\n\r\nconst initialState = {\r\n  id: null,\r\n  firstName: '',\r\n  lastName: '',\r\n  fullName: '',\r\n  emailId: '',\r\n  departmentIds: [],\r\n  departmentSelected: null,\r\n  offices: [],\r\n  role: '',\r\n  auth: {},\r\n  isAdmin: false,\r\n  isReportAdmin: false,\r\n  hasTokenExpired: true,\r\n  error: '',\r\n\r\n  // New user info properties\r\n  landingPage: '',\r\n  userDetails: {},\r\n  userRole: {},\r\n  group: [],\r\n  businessProcess: [],\r\n  xbInstance: [],\r\n  privilege: {},\r\n  routes: [],\r\n  organisation: {},\r\n};\r\n\r\nconst userReducers = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'AUTH_LOGIN':\r\n      return {\r\n        ...state,\r\n        auth: {},\r\n      };\r\n\r\n    case 'AUTH_LOGOUT':\r\n      return {\r\n        ...state,\r\n        auth: {},\r\n      };\r\n\r\n    case 'AUTH_IN_PROGRESS':\r\n      return {\r\n        ...state,\r\n        auth: {\r\n          inProgress: true,\r\n        },\r\n      };\r\n\r\n    case 'AUTH_SUCCESS':\r\n      return {\r\n        ...state,\r\n        auth: {\r\n          ...action.payload,\r\n          inProgress: false,\r\n        },\r\n        hasTokenExpired: false,\r\n      };\r\n\r\n    case 'AUTH_FAILURE':\r\n      return {\r\n        ...state,\r\n        auth: {},\r\n      };\r\n\r\n    case 'USER_GET_SUCCESS':\r\n      return {\r\n        ...state,\r\n        id: action.payload.id,\r\n        firstName: action.payload.firstName,\r\n        lastName: action.payload.lastName,\r\n        fullName: action.payload.fullName,\r\n        emailId: action.payload.emailId,\r\n        departmentIds: action.payload.departmentIds,\r\n        departmentSelected: utils.user.department.getDefault(action.payload),\r\n        offices: action.payload.offices,\r\n        role: action.payload.role,\r\n        isAdmin: action.payload.isAdmin,\r\n        isReportAdmin: action.payload.isReportAdmin,\r\n      };\r\n\r\n    case 'USER_GET_FAILURE':\r\n      return {\r\n        ...state,\r\n        auth: state.auth,\r\n        error: action.payload.text || '',\r\n      };\r\n\r\n    case 'USER_DATA_GET_SUCCESS':\r\n      const { role: userRole, ...rest } = action.payload;\r\n\r\n      return {\r\n        ...state,\r\n        id: action.payload?.userDetails?.id,\r\n        firstName: action.payload?.userDetails?.firstName || '',\r\n        lastName: action.payload?.userDetails?.lastName || '',\r\n        fullName: action.payload?.userDetails?.name || '',\r\n        emailId: action.payload?.userDetails?.email || '',\r\n        userRole,\r\n        landingPage: rest.landingPage || initialState.landingPage,\r\n        userDetails: rest.userDetails || initialState.userDetails,\r\n        group: rest.group || initialState.group,\r\n        businessProcess: rest.businessProcess || initialState.businessProcess,\r\n        xbInstance: rest.xbInstance || initialState.xbInstance,\r\n        privilege: rest.privilege || initialState.privilege,\r\n        routes: rest.routes || initialState.routes,\r\n        organisation: rest.organisation || initialState.organisation,\r\n        departmentSelected: utils.user.department.getDefault({\r\n          ...action.payload,\r\n          userRole: action.payload.role,\r\n          departmentIds: action.payload.xbInstance\r\n            ?.reduce((acc, cur) => {\r\n              return [...acc, ...(cur.department || [])];\r\n            }, [])\r\n            .map((d) => d.id),\r\n        }),\r\n      };\r\n\r\n    case 'USER_DATA_GET_FAILURE':\r\n      return {\r\n        ...state,\r\n        auth: state.auth,\r\n        error: state.error,\r\n      };\r\n\r\n    case 'USER_SET_DEPARTMENT_SELECTED':\r\n      return {\r\n        ...state,\r\n        departmentSelected: action.payload,\r\n      };\r\n\r\n    case 'USER_TOKEN_EXPIRED':\r\n      return {\r\n        ...state,\r\n        hasTokenExpired: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducers;\r\n"]},"metadata":{},"sourceType":"module"}