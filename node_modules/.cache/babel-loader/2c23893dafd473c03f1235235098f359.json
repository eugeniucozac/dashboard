{"ast":null,"code":"import _regeneratorRuntime from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\LossActionTable\\\\LossActionRow.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux'; //app\n\nimport { TableCell, Status, Chip, Link } from 'components';\nimport * as utils from 'utils';\nimport { useHistory } from 'react-router';\nimport config from 'config';\nimport * as constants from 'consts';\nimport { getSancCheckAssociatedTask, selectSancCheckAssociatedTask, setClaimsProcessingTasksListSelected } from 'stores'; //mui\n\nimport styles from './LossActionTable.styles';\nimport { makeStyles, TableRow, Typography } from '@material-ui/core';\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nLossActionRow.prototype = {\n  data: PropTypes.array.isRequired,\n  columnProps: PropTypes.array.isRequired,\n  onClick: PropTypes.func.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  level: PropTypes.number.isRequired\n};\nexport function LossActionRow(_ref) {\n  _s();\n\n  var data = _ref.data,\n      columnProps = _ref.columnProps,\n      onClick = _ref.onClick,\n      isOpen = _ref.isOpen,\n      level = _ref.level;\n  var history = useHistory();\n  var dispatch = useDispatch();\n  var taskObject = useSelector(selectSancCheckAssociatedTask);\n  var classes = makeStyles(styles, {\n    name: 'LossActionTable'\n  })({\n    expanded: isOpen,\n    level: level\n  });\n  var hasChildren = data.actionChildItemList.length;\n  var chipColor = ['info', 'success', 'alert', 'error', 'light'];\n  var lossAction = data.actionName === 'Create Loss';\n\n  var isTaskLinkDisabled = function isTaskLinkDisabled() {\n    var task = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var automatedTasks = constants === null || constants === void 0 ? void 0 : constants.AUTOMATED_TASK_DEF_KEYS;\n    return automatedTasks === null || automatedTasks === void 0 ? void 0 : automatedTasks.includes(task === null || task === void 0 ? void 0 : task.taskDefKey);\n  };\n\n  var actionType = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n      var taskObj, task, _task;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log('data ', data);\n              taskObj = {\n                assignee: 'Arun.Arumugam@ArdonaghSpecialty.com',\n                assigneeFullName: 'Arun Arumugam',\n                businessProcessID: '5301',\n                caseIncidentID: 8249,\n                claimRef: 'DAA01013A01',\n                claimantName: 'DCB Bank Limited',\n                client: 'Alliance Insurance Brokers Pvt Limited',\n                completedDate: '',\n                coverHolder: 'NA',\n                createdOn: '2022-02-14T12:02:26.703Z',\n                departmentID: 16,\n                description: 'test bpm adhoc task',\n                followUpDate: '2021-10-13T00:00:00Z',\n                insured: 'DCB Bank Limited',\n                lastUpdatedBy: null,\n                lastUpdatedDate: null,\n                lossDetailID: 423461,\n                lossDetails: 'test',\n                lossFromDate: null,\n                lossRef: 'DAA01013',\n                lossToDate: null,\n                parentTaskId: null,\n                parentTaskRef: null,\n                policyId: 91615,\n                policyRef: 'SP2102345',\n                priority: 'High',\n                processDefKey: 'AdhocTask',\n                processId: 'fa11fa33-8d8d-11ec-8e2a-0242ac100a02',\n                processOwner: 'arun.arumugam@ardonaghspecialty.com',\n                processRef: 'DAA01013A01',\n                processSubType: 'Fnol',\n                processType: 'Claims',\n                queryCode: null,\n                refType: null,\n                reminder: '1D',\n                requestedBy: 'arun.arumugam@ardonaghspecialty.com',\n                requestedByFullName: 'Arun Arumugam',\n                rootProcessId: 'ecc14712-8412-11ec-b579-0242ac100a03',\n                sanctionsResult: null,\n                sourceID: 4,\n                status: 'Draft',\n                targetDueDate: '2021-10-14T00:00:00Z',\n                taskCategory: 'Adhoc',\n                taskDefKey: 'claimAdhocTask',\n                taskId: 'fa11fa50-8d8d-11ec-8e2a-0242ac100a02',\n                taskLabel: 'Adhoc',\n                taskRef: 'T22021412022670301',\n                taskType: 'claimAdhocTask',\n                team: 'ardonagh',\n                timeToDueDate: null\n              };\n              task = _objectSpread(_objectSpread({}, data), {}, {\n                taskRef: data.actionID,\n                createdOn: data.dateCreated,\n                assignee: data.assignedTo\n              }); //DAA00088\n\n              if (lossAction) {\n                _context.next = 8;\n                break;\n              }\n\n              _task = dispatch(getSancCheckAssociatedTask(data === null || data === void 0 ? void 0 : data.taskId));\n              _context.next = 7;\n              return dispatch(setClaimsProcessingTasksListSelected(_task));\n\n            case 7:\n              history.push(\"\".concat(config.routes.claimsFNOL.task, \"/\").concat(_task === null || _task === void 0 ? void 0 : _task.taskRef));\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function actionType(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(TableRow, {\n      onClick: onClick,\n      className: classes.row,\n      \"data-testid\": \"search-row-\".concat(data === null || data === void 0 ? void 0 : data.actionID),\n      hover: true,\n      children: [/*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('actionId')), {}, {\n        \"data-testid\": \"row-col-\".concat(data === null || data === void 0 ? void 0 : data.actionID),\n        children: [hasChildren ? /*#__PURE__*/_jsxDEV(KeyboardArrowDownIcon, {\n          className: classes.arrow\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 26\n        }, this) : null, isTaskLinkDisabled(data) ? data === null || data === void 0 ? void 0 : data.actionID : /*#__PURE__*/_jsxDEV(Link, {\n          text: \"\".concat(lossAction ? 'Loss' : '', \" \").concat(data === null || data === void 0 ? void 0 : data.actionID),\n          color: \"secondary\",\n          onClick: function onClick() {\n            return actionType(data);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)]\n      }), void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('name')), {}, {\n        \"data-testid\": \"row-col-\".concat(data === null || data === void 0 ? void 0 : data.actionName),\n        children: /*#__PURE__*/_jsxDEV(Chip, {\n          label: data === null || data === void 0 ? void 0 : data.actionName,\n          size: \"small\",\n          type: chipColor[level],\n          variant: \"outlined\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('description')), {}, {\n        \"data-testid\": \"row-col-\".concat(data === null || data === void 0 ? void 0 : data.description),\n        children: data === null || data === void 0 ? void 0 : data.description\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('team')), {}, {\n        \"data-testid\": \"row-col-\".concat(data === null || data === void 0 ? void 0 : data.team),\n        children: data === null || data === void 0 ? void 0 : data.team\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('assignedTo')), {}, {\n        \"data-testid\": \"row-col-\".concat(data === null || data === void 0 ? void 0 : data.assignedTo),\n        children: data === null || data === void 0 ? void 0 : data.assignedTo\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('createdDate')), {}, {\n        \"data-testid\": \"row-col-\".concat(data === null || data === void 0 ? void 0 : data.dateCreated),\n        children: utils.string.t('format.date', {\n          value: {\n            date: data === null || data === void 0 ? void 0 : data.dateCreated,\n            format: config.ui.format.date.textTime\n          }\n        })\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('targetDate')), {}, {\n        \"data-testid\": \"row-col-\".concat(data === null || data === void 0 ? void 0 : data.targetDueDate),\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"error\",\n          children: utils.string.t('format.date', {\n            value: {\n              date: data === null || data === void 0 ? void 0 : data.targetDueDate,\n              format: config.ui.format.date.text\n            }\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('priority')), {}, {\n        \"data-testid\": \"row-col-\".concat(data === null || data === void 0 ? void 0 : data.priority),\n        children: data === null || data === void 0 ? void 0 : data.priority\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('status')), {}, {\n        \"data-testid\": \"row-col-\".concat(data === null || data === void 0 ? void 0 : data.status),\n        children: (data === null || data === void 0 ? void 0 : data.status) && /*#__PURE__*/_jsxDEV(Status, {\n          size: \"sm\",\n          text: data.status,\n          status: data.status === 'Complete' ? 'success' : utils.string.replaceLowerCase(data.status, 'withDash')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this)\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('taskCompleted')), {}, {\n        \"data-testid\": \"row-col-\".concat(data === null || data === void 0 ? void 0 : data.completedOn),\n        children: data === null || data === void 0 ? void 0 : data.completedOn\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)]\n    }, data === null || data === void 0 ? void 0 : data.actionID, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(LossActionRow, \"4XrCHCA/ZXMq3cVzGKX0fUKsRp8=\", false, function () {\n  return [useHistory, useDispatch, useSelector];\n});\n\n_c = LossActionRow;\n\nvar _c;\n\n$RefreshReg$(_c, \"LossActionRow\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/LossActionTable/LossActionRow.js"],"names":["React","PropTypes","useDispatch","useSelector","TableCell","Status","Chip","Link","utils","useHistory","config","constants","getSancCheckAssociatedTask","selectSancCheckAssociatedTask","setClaimsProcessingTasksListSelected","styles","makeStyles","TableRow","Typography","KeyboardArrowDownIcon","LossActionRow","prototype","data","array","isRequired","columnProps","onClick","func","isOpen","bool","level","number","history","dispatch","taskObject","classes","name","expanded","hasChildren","actionChildItemList","length","chipColor","lossAction","actionName","isTaskLinkDisabled","task","automatedTasks","AUTOMATED_TASK_DEF_KEYS","includes","taskDefKey","actionType","console","log","taskObj","assignee","assigneeFullName","businessProcessID","caseIncidentID","claimRef","claimantName","client","completedDate","coverHolder","createdOn","departmentID","description","followUpDate","insured","lastUpdatedBy","lastUpdatedDate","lossDetailID","lossDetails","lossFromDate","lossRef","lossToDate","parentTaskId","parentTaskRef","policyId","policyRef","priority","processDefKey","processId","processOwner","processRef","processSubType","processType","queryCode","refType","reminder","requestedBy","requestedByFullName","rootProcessId","sanctionsResult","sourceID","status","targetDueDate","taskCategory","taskId","taskLabel","taskRef","taskType","team","timeToDueDate","actionID","dateCreated","assignedTo","push","routes","claimsFNOL","row","arrow","string","t","value","date","format","ui","textTime","text","replaceLowerCase","completedOn"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n//app\r\nimport { TableCell, Status, Chip, Link } from 'components';\r\nimport * as utils from 'utils';\r\nimport { useHistory } from 'react-router';\r\nimport config from 'config';\r\nimport * as constants from 'consts';\r\nimport { getSancCheckAssociatedTask, selectSancCheckAssociatedTask, setClaimsProcessingTasksListSelected } from 'stores';\r\n\r\n//mui\r\nimport styles from './LossActionTable.styles';\r\nimport { makeStyles, TableRow, Typography } from '@material-ui/core';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nLossActionRow.prototype = {\r\n  data: PropTypes.array.isRequired,\r\n  columnProps: PropTypes.array.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  level: PropTypes.number.isRequired,\r\n};\r\n\r\nexport function LossActionRow({ data, columnProps, onClick, isOpen, level }) {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const taskObject = useSelector(selectSancCheckAssociatedTask);\r\n  const classes = makeStyles(styles, { name: 'LossActionTable' })({ expanded: isOpen, level });\r\n  const hasChildren = data.actionChildItemList.length;\r\n  const chipColor = ['info', 'success', 'alert', 'error', 'light'];\r\n  const lossAction = data.actionName === 'Create Loss';\r\n\r\n  const isTaskLinkDisabled = (task = {}) => {\r\n    const automatedTasks = constants?.AUTOMATED_TASK_DEF_KEYS;\r\n    return automatedTasks?.includes(task?.taskDefKey);\r\n  };\r\n\r\n  const actionType = async (data) => {\r\n    console.log('data ', data);\r\n    const taskObj = {\r\n      assignee: 'Arun.Arumugam@ArdonaghSpecialty.com',\r\n      assigneeFullName: 'Arun Arumugam',\r\n      businessProcessID: '5301',\r\n      caseIncidentID: 8249,\r\n      claimRef: 'DAA01013A01',\r\n      claimantName: 'DCB Bank Limited',\r\n      client: 'Alliance Insurance Brokers Pvt Limited',\r\n      completedDate: '',\r\n      coverHolder: 'NA',\r\n      createdOn: '2022-02-14T12:02:26.703Z',\r\n      departmentID: 16,\r\n      description: 'test bpm adhoc task',\r\n      followUpDate: '2021-10-13T00:00:00Z',\r\n      insured: 'DCB Bank Limited',\r\n      lastUpdatedBy: null,\r\n      lastUpdatedDate: null,\r\n      lossDetailID: 423461,\r\n      lossDetails: 'test',\r\n      lossFromDate: null,\r\n      lossRef: 'DAA01013',\r\n      lossToDate: null,\r\n      parentTaskId: null,\r\n      parentTaskRef: null,\r\n      policyId: 91615,\r\n      policyRef: 'SP2102345',\r\n      priority: 'High',\r\n      processDefKey: 'AdhocTask',\r\n      processId: 'fa11fa33-8d8d-11ec-8e2a-0242ac100a02',\r\n      processOwner: 'arun.arumugam@ardonaghspecialty.com',\r\n      processRef: 'DAA01013A01',\r\n      processSubType: 'Fnol',\r\n      processType: 'Claims',\r\n      queryCode: null,\r\n      refType: null,\r\n      reminder: '1D',\r\n      requestedBy: 'arun.arumugam@ardonaghspecialty.com',\r\n      requestedByFullName: 'Arun Arumugam',\r\n      rootProcessId: 'ecc14712-8412-11ec-b579-0242ac100a03',\r\n      sanctionsResult: null,\r\n      sourceID: 4,\r\n      status: 'Draft',\r\n      targetDueDate: '2021-10-14T00:00:00Z',\r\n      taskCategory: 'Adhoc',\r\n      taskDefKey: 'claimAdhocTask',\r\n      taskId: 'fa11fa50-8d8d-11ec-8e2a-0242ac100a02',\r\n      taskLabel: 'Adhoc',\r\n      taskRef: 'T22021412022670301',\r\n      taskType: 'claimAdhocTask',\r\n      team: 'ardonagh',\r\n      timeToDueDate: null,\r\n    };\r\n\r\n    const task = {\r\n      ...data,\r\n      taskRef: data.actionID,\r\n      createdOn: data.dateCreated,\r\n      assignee: data.assignedTo,\r\n    };\r\n\r\n    //DAA00088\r\n    if (!lossAction) {\r\n      const task = dispatch(getSancCheckAssociatedTask(data?.taskId));\r\n      await dispatch(setClaimsProcessingTasksListSelected(task));\r\n      history.push(`${config.routes.claimsFNOL.task}/${task?.taskRef}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <TableRow onClick={onClick} className={classes.row} key={data?.actionID} data-testid={`search-row-${data?.actionID}`} hover>\r\n        <TableCell {...columnProps('actionId')} data-testid={`row-col-${data?.actionID}`}>\r\n          {hasChildren ? <KeyboardArrowDownIcon className={classes.arrow} /> : null}\r\n          {isTaskLinkDisabled(data) ? (\r\n            data?.actionID\r\n          ) : (\r\n            <Link text={`${lossAction ? 'Loss' : ''} ${data?.actionID}`} color=\"secondary\" onClick={() => actionType(data)} />\r\n          )}\r\n        </TableCell>\r\n        <TableCell {...columnProps('name')} data-testid={`row-col-${data?.actionName}`}>\r\n          <Chip label={data?.actionName} size=\"small\" type={chipColor[level]} variant=\"outlined\" />\r\n        </TableCell>\r\n        <TableCell {...columnProps('description')} data-testid={`row-col-${data?.description}`}>\r\n          {data?.description}\r\n        </TableCell>\r\n        <TableCell {...columnProps('team')} data-testid={`row-col-${data?.team}`}>\r\n          {data?.team}\r\n        </TableCell>\r\n        <TableCell {...columnProps('assignedTo')} data-testid={`row-col-${data?.assignedTo}`}>\r\n          {data?.assignedTo}\r\n        </TableCell>\r\n        <TableCell {...columnProps('createdDate')} data-testid={`row-col-${data?.dateCreated}`}>\r\n          {utils.string.t('format.date', {\r\n            value: { date: data?.dateCreated, format: config.ui.format.date.textTime },\r\n          })}\r\n        </TableCell>\r\n        <TableCell {...columnProps('targetDate')} data-testid={`row-col-${data?.targetDueDate}`}>\r\n          <Typography variant=\"body2\" color=\"error\">\r\n            {utils.string.t('format.date', {\r\n              value: { date: data?.targetDueDate, format: config.ui.format.date.text },\r\n            })}\r\n          </Typography>\r\n        </TableCell>\r\n        <TableCell {...columnProps('priority')} data-testid={`row-col-${data?.priority}`}>\r\n          {data?.priority}\r\n        </TableCell>\r\n        <TableCell {...columnProps('status')} data-testid={`row-col-${data?.status}`}>\r\n          {data?.status && (\r\n            <Status\r\n              size=\"sm\"\r\n              text={data.status}\r\n              status={data.status === 'Complete' ? 'success' : utils.string.replaceLowerCase(data.status, 'withDash')}\r\n            />\r\n          )}\r\n        </TableCell>\r\n        <TableCell {...columnProps('taskCompleted')} data-testid={`row-col-${data?.completedOn}`}>\r\n          {data?.completedOn}\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}