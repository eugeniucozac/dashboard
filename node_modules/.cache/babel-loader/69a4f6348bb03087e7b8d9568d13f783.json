{"ast":null,"code":"import _toConsumableArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\RegisterClaimCardInformation\\\\RegisterClaimCardInformation.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport * as Yup from 'yup'; // app\n\nimport styles from './RegisterClaimCardInformation.styles';\nimport { RegisterClaimCardInformationView } from './RegisterClaimCardInformation.view';\nimport { selectLossQualifiers, selectReferralValues, selectComplexityValues, selectReferralResponse, selectBEAdjusterList, selectPriorities, selectClaimData, selectClaimIdFromGrid, selectClaimsPolicyInformation, selectClaimPolicyInsures, selectClaimsInformation, selectorDmsViewFiles, selectDmsDocDetails, selectLossInformation, setBEAdjusterValue, updateClaimantNamesSuccess, selectSelectedBEAdjusterList, selectClaimIdUnderProgress } from 'stores';\nimport { CLAIM_LOSS_DATE_DISABLED_QUALIFIERS } from 'consts';\nimport * as utils from 'utils'; // mui\n\nimport { makeStyles } from '@material-ui/core';\nimport { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nRegisterClaimCardInformation.prototype = {\n  activeStep: PropTypes.number,\n  isAllStepsCompleted: PropTypes.bool,\n  handleBack: PropTypes.func.isRequired,\n  handleSave: PropTypes.func.isRequired,\n  handleNext: PropTypes.func.isRequired,\n  save: PropTypes.func.isRequired,\n  index: PropTypes.number,\n  handleFormStatus: PropTypes.func.isRequired\n};\nexport default function RegisterClaimCardInformation(_ref) {\n  _s();\n\n  var activeStep = _ref.activeStep,\n      isAllStepsCompleted = _ref.isAllStepsCompleted,\n      handleBack = _ref.handleBack,\n      handleSave = _ref.handleSave,\n      handleNext = _ref.handleNext,\n      save = _ref.save,\n      index = _ref.index,\n      handleFormStatus = _ref.handleFormStatus;\n  var classes = makeStyles(styles, {\n    name: 'RegisterClaimCardInformation'\n  })();\n  var dispatch = useDispatch();\n  var todayDate = moment();\n  var lossQualifiers = useSelector(selectLossQualifiers);\n  var referralValues = useSelector(selectReferralValues);\n  var selectedBeAdjuster = useSelector(selectSelectedBEAdjusterList);\n  var complexityValues = useSelector(selectComplexityValues);\n  var referralResponse = useSelector(selectReferralResponse);\n  var claimantNames = useSelector(selectClaimPolicyInsures);\n  var beAdjusterList = useSelector(selectBEAdjusterList);\n  var priorities = useSelector(selectPriorities);\n  var claimsInformation = useSelector(selectClaimsInformation);\n  var claimRefId = useSelector(selectClaimData);\n  var claimData = useSelector(selectClaimIdFromGrid);\n  var policyInformation = useSelector(selectClaimsPolicyInformation);\n  var lossInformation = useSelector(selectLossInformation);\n  var savedClaimInfo = useSelector(selectClaimIdUnderProgress);\n  var viewDocumentList = useSelector(selectorDmsViewFiles);\n  var savedDmsDocList = useSelector(selectDmsDocDetails);\n  var lossQualifierValue = (lossQualifiers || []).find(function (l) {\n    var _l$id, _claimsInformation$lo, _savedClaimInfo$lossQ;\n\n    return ((_l$id = l.id) === null || _l$id === void 0 ? void 0 : _l$id.toString()) === ((claimsInformation === null || claimsInformation === void 0 ? void 0 : (_claimsInformation$lo = claimsInformation.lossQualifierID) === null || _claimsInformation$lo === void 0 ? void 0 : _claimsInformation$lo.toString()) || (savedClaimInfo === null || savedClaimInfo === void 0 ? void 0 : (_savedClaimInfo$lossQ = savedClaimInfo.lossQualifierID) === null || _savedClaimInfo$lossQ === void 0 ? void 0 : _savedClaimInfo$lossQ.toString()));\n  });\n  var referralResponseData = referralResponse === null || referralResponse === void 0 ? void 0 : referralResponse.find(function (item) {\n    var _savedClaimInfo$refer;\n\n    return item.id === (savedClaimInfo === null || savedClaimInfo === void 0 ? void 0 : (_savedClaimInfo$refer = savedClaimInfo.referralResponseID) === null || _savedClaimInfo$refer === void 0 ? void 0 : _savedClaimInfo$refer.toString());\n  });\n  var complexityValue = (savedClaimInfo === null || savedClaimInfo === void 0 ? void 0 : savedClaimInfo.complexityValueID) && (complexityValues === null || complexityValues === void 0 ? void 0 : complexityValues.find(function (item) {\n    return item.complexityRulesID === (claimsInformation.complexityValueID || (savedClaimInfo === null || savedClaimInfo === void 0 ? void 0 : savedClaimInfo.complexityValueID));\n  }));\n  var referralValue = (savedClaimInfo === null || savedClaimInfo === void 0 ? void 0 : savedClaimInfo.referralValueID) && (referralValues === null || referralValues === void 0 ? void 0 : referralValues.find(function (item) {\n    return item.complexityRulesID === (savedClaimInfo === null || savedClaimInfo === void 0 ? void 0 : savedClaimInfo.referralValueID);\n  }));\n  var dateDisabledLossQualifiers = lossQualifiers.filter(function (item) {\n    return CLAIM_LOSS_DATE_DISABLED_QUALIFIERS.find(function (itr) {\n      return itr === item.name;\n    });\n  }).map(function (item) {\n    return item.id;\n  });\n\n  var concatDateAndTime = function concatDateAndTime(contactDate, contactTime) {\n    var partDate = utils.string.t('format.date', {\n      value: {\n        date: contactDate || new Date(),\n        format: 'D MMM YYYY'\n      }\n    });\n    return utils.date.toISOString(partDate + ' ' + (contactTime ? contactTime + ':00' : '00:00:00'));\n  };\n\n  var fields = [{\n    name: 'claimantName',\n    type: 'autocompletemui',\n    label: utils.string.t('claims.claimInformation.claimant'),\n    options: claimantNames || [],\n    value: (claimantNames === null || claimantNames === void 0 ? void 0 : claimantNames[0]) || null,\n    optionKey: 'id',\n    optionLabel: 'name',\n    muiComponentProps: {\n      inputProps: {\n        maxLength: 50\n      },\n      filterOptions: function filterOptions(options, params) {\n        var filtered = createFilterOptions()(options, params);\n\n        if (params.inputValue) {\n          filtered = [].concat(_toConsumableArray(filtered), [{\n            id: filtered.length + 1,\n            name: \"\".concat(utils.string.t('app.create'), \" - \").concat(params.inputValue)\n          }]);\n        }\n\n        return filtered;\n      }\n    },\n    callback: function callback(event, data) {\n      var hasCreateString = \"\".concat(utils.string.t('app.create'), \" - \");\n      var name = data === null || data === void 0 ? void 0 : data.name.replace(hasCreateString, '');\n      var alreadyExists = claimantNames.find(function (claim) {\n        return claim.name === name;\n      });\n\n      if ((data === null || data === void 0 ? void 0 : data.name.includes(hasCreateString)) && !alreadyExists) {\n        var newClaimantName = {\n          id: Object.keys(claimantNames).length,\n          name: name\n        };\n        dispatch(updateClaimantNamesSuccess(newClaimantName));\n      }\n    },\n    validation: Yup.object().nullable()\n  }, {\n    type: 'datepicker',\n    name: 'claimReceivedDate',\n    label: utils.string.t('claims.claimInformation.claimReceivedDateTime'),\n    icon: 'TodayIcon',\n    value: lossInformation.firstContactDate || null,\n    muiComponentProps: {\n      fullWidth: true\n    },\n    validation: Yup.date().max(new Date(), utils.string.t('claims.lossInformation.validation.futureDateAndTime'))\n  }, {\n    type: 'time',\n    name: 'claimReceivedTime',\n    icon: 'AccessTimeIcon',\n    value: utils.string.t('format.date', {\n      value: {\n        date: (lossInformation === null || lossInformation === void 0 ? void 0 : lossInformation.firstContactDate) || null,\n        format: 'HH:mm'\n      }\n    }),\n    validation: Yup.string().nullable().test('from', utils.string.t('claims.lossInformation.validation.futureDateAndTime'), function (value) {\n      var _this$options, _this$options$parent;\n\n      return !moment(new Date(concatDateAndTime(this === null || this === void 0 ? void 0 : (_this$options = this.options) === null || _this$options === void 0 ? void 0 : (_this$options$parent = _this$options.parent) === null || _this$options$parent === void 0 ? void 0 : _this$options$parent.claimReceivedDate, value))).isAfter(new Date());\n    })\n  }, {\n    type: 'datepicker',\n    name: 'fromDate',\n    label: utils.string.t('claims.lossInformation.fromDate'),\n    value: (lossInformation === null || lossInformation === void 0 ? void 0 : lossInformation.fromDate) || (savedClaimInfo === null || savedClaimInfo === void 0 ? void 0 : savedClaimInfo.lossFromDate) || null,\n    icon: 'TodayIcon',\n    muiComponentProps: {\n      fullWidth: true,\n      classes: {\n        root: classes.datepicker\n      }\n    },\n    validation: Yup.date().nullable().test('from', utils.string.t('claims.lossInformation.validation.greaterThenDate'), function (value) {\n      return value && this.options.parent.toDate ? moment(value).isSameOrBefore(this.options.parent.toDate) : true;\n    }).test('from', utils.string.t('claims.lossInformation.validation.betweenTheDate'), function (value) {\n      if (value && this.options.parent.fromDate && (lossInformation === null || lossInformation === void 0 ? void 0 : lossInformation.fromDate)) {\n        if (lossInformation === null || lossInformation === void 0 ? void 0 : lossInformation.toDate) {\n          return moment(value).isBetween(moment(lossInformation === null || lossInformation === void 0 ? void 0 : lossInformation.fromDate).subtract(1, 'days'), moment(lossInformation === null || lossInformation === void 0 ? void 0 : lossInformation.toDate).add(1, 'days'));\n        } else {\n          return moment(value).isSameOrAfter(lossInformation === null || lossInformation === void 0 ? void 0 : lossInformation.fromDate);\n        }\n      } else {\n        return true;\n      }\n    }).test('from', utils.string.t('claims.lossInformation.validation.futureDate'), function (value) {\n      return value ? todayDate.isAfter(value) : true;\n    }).test('from', utils.string.t('validation.required'), function (value) {\n      var _this$options$parent$;\n\n      if (!dateDisabledLossQualifiers.includes((_this$options$parent$ = this.options.parent.lossQualifierID) === null || _this$options$parent$ === void 0 ? void 0 : _this$options$parent$.id)) {\n        return value || typeof value === 'undefined' ? true : false;\n      } else {\n        return true;\n      }\n    }),\n    outputFormat: 'iso'\n  }, {\n    type: 'datepicker',\n    name: 'toDate',\n    label: utils.string.t('claims.lossInformation.toDate'),\n    value: (lossInformation === null || lossInformation === void 0 ? void 0 : lossInformation.toDate) || (savedClaimInfo === null || savedClaimInfo === void 0 ? void 0 : savedClaimInfo.lossToDate) || null,\n    muiComponentProps: {\n      fullWidth: true,\n      classes: {\n        root: classes.datepicker\n      }\n    },\n    validation: Yup.date().nullable().test('from', utils.string.t('claims.lossInformation.validation.lesserThenDate'), function (value) {\n      return value && this.options.parent.fromDate && value !== null ? moment(value).isSameOrAfter(this.options.parent.fromDate) : true;\n    }).test('to', utils.string.t('claims.lossInformation.validation.betweenTheDate'), function (value) {\n      if (value && this.options.parent.toDate && (lossInformation === null || lossInformation === void 0 ? void 0 : lossInformation.toDate)) {\n        if (lossInformation === null || lossInformation === void 0 ? void 0 : lossInformation.fromDate) {\n          return moment(value).isBetween(moment(lossInformation === null || lossInformation === void 0 ? void 0 : lossInformation.fromDate).subtract(1, 'days'), moment(lossInformation === null || lossInformation === void 0 ? void 0 : lossInformation.toDate).add(1, 'days'));\n        } else {\n          return moment(value).isSameOrBefore(lossInformation === null || lossInformation === void 0 ? void 0 : lossInformation.toDate);\n        }\n      } else {\n        return true;\n      }\n    }).test('to', utils.string.t('claims.lossInformation.validation.futureDate'), function (value) {\n      return value ? todayDate.isAfter(value) : true;\n    }),\n    outputFormat: 'iso'\n  }, {\n    name: 'lossQualifierID',\n    type: 'autocompletemui',\n    label: utils.string.t('claims.lossInformation.qualifier'),\n    value: lossQualifierValue || null,\n    options: lossQualifiers || [],\n    optionKey: 'id',\n    optionLabel: 'name',\n    validation: Yup.object().nullable().required(utils.string.t('validation.required'))\n  }, {\n    name: 'location',\n    type: 'text',\n    label: utils.string.t('claims.claimInformation.location'),\n    value: claimsInformation.location || (savedClaimInfo === null || savedClaimInfo === void 0 ? void 0 : savedClaimInfo.location) || '',\n    validation: Yup.string().required(utils.string.t('validation.required'))\n  }, {\n    name: 'adjusterReference',\n    type: 'text',\n    label: utils.string.t('claims.claimInformation.adjustorRef'),\n    value: claimsInformation.adjusterReference || (savedClaimInfo === null || savedClaimInfo === void 0 ? void 0 : savedClaimInfo.adjusterReference) || '',\n    validation: Yup.string().nullable().max(20, utils.string.t('claims.claimInformation.validation.maxAdjusterReference'))\n  }, {\n    name: 'complexity',\n    type: 'autocompletemui',\n    label: utils.string.t('claims.claimInformation.complexityBasis'),\n    options: complexityValues || [],\n    value: complexityValue || null,\n    optionKey: 'complexityRulesID',\n    optionLabel: 'complexityRulesValue',\n    validation: Yup.object().nullable().required(utils.string.t('validation.required'))\n  }, {\n    name: 'referral',\n    type: 'autocompletemui',\n    label: utils.string.t('claims.claimInformation.referral'),\n    options: referralValues || [],\n    value: referralValue || null,\n    optionKey: 'complexityRulesID',\n    optionLabel: 'complexityRulesValue',\n    validation: Yup.object().when('complexity', {\n      is: function is(val) {\n        var _complexityValues$fin;\n\n        return ((_complexityValues$fin = complexityValues.find(function (item) {\n          return item.complexityRulesID === (val === null || val === void 0 ? void 0 : val.complexityRulesID);\n        })) === null || _complexityValues$fin === void 0 ? void 0 : _complexityValues$fin.complexityRulesValue) === 'Referral Required';\n      },\n      then: Yup.object().nullable().required(utils.string.t('validation.required')),\n      otherwise: Yup.object().nullable()\n    })\n  }, {\n    name: 'rfiResponse',\n    type: 'autocompletemui',\n    label: utils.string.t('claims.claimInformation.rfiResponse'),\n    options: referralResponse || [],\n    value: referralResponseData || null,\n    optionKey: 'id',\n    optionLabel: 'description',\n    validation: Yup.object().when('referral', {\n      is: function is(val) {\n        if (val !== null) {\n          var _referralValues$find;\n\n          var refValuesList = ['Referral Not Required', 'Referral Not Required: Assign to Myself', 'Unsure'];\n          var getReferralValue = (_referralValues$find = referralValues.find(function (item) {\n            return item.complexityRulesID === (val === null || val === void 0 ? void 0 : val.complexityRulesID);\n          })) === null || _referralValues$find === void 0 ? void 0 : _referralValues$find.complexityRulesValue;\n          var refResponseState = refValuesList.includes(getReferralValue);\n          return !refResponseState;\n        } else {\n          return false;\n        }\n      },\n      then: Yup.object().nullable().required(utils.string.t('validation.required')),\n      otherwise: Yup.object().nullable()\n    })\n  }, {\n    name: 'fgunarrative',\n    type: 'text',\n    label: utils.string.t('claims.claimInformation.fguNarrative'),\n    value: claimsInformation.fgunarrative || (savedClaimInfo === null || savedClaimInfo === void 0 ? void 0 : savedClaimInfo.fgunarrative) || '',\n    validation: Yup.string().required(utils.string.t('validation.required'))\n  }, {\n    name: 'adjuster',\n    type: 'radio',\n    title: utils.string.t('claims.claimInformation.adjustorType'),\n    value: (claimsInformation === null || claimsInformation === void 0 ? void 0 : claimsInformation.nonBEAdjusterName) || (savedClaimInfo === null || savedClaimInfo === void 0 ? void 0 : savedClaimInfo.nonBEAdjusterName) ? 'nonBeAdjuster' : 'beAdjuster',\n    validation: Yup.string().required(utils.string.t('validation.required')),\n    muiFormGroupProps: {\n      row: true,\n      nestedClasses: {\n        root: classes.adjusterRadioGroup\n      }\n    },\n    options: [{\n      label: utils.string.t('claims.claimInformation.beAdjuster'),\n      value: 'beAdjuster'\n    }, {\n      label: utils.string.t('claims.claimInformation.nonBeAdjuster'),\n      value: 'nonBeAdjuster'\n    }]\n  }, {\n    name: 'beAdjuster',\n    type: 'autocompletemui',\n    label: utils.string.t('claims.claimInformation.adjustorName'),\n    value: (claimsInformation === null || claimsInformation === void 0 ? void 0 : claimsInformation.beAdjusterID) !== 0 ? beAdjusterList.items.find(function (item) {\n      var _claimsInformation$be;\n\n      return item.id === (claimsInformation === null || claimsInformation === void 0 ? void 0 : (_claimsInformation$be = claimsInformation.beAdjusterID) === null || _claimsInformation$be === void 0 ? void 0 : _claimsInformation$be.toString());\n    }) : selectedBeAdjuster || [],\n    options: beAdjusterList.items || [],\n    optionKey: 'id',\n    optionLabel: 'name',\n    callback: function callback(event, data) {\n      dispatch(setBEAdjusterValue(data));\n    }\n  }, {\n    name: 'nonBeAdjuster',\n    type: 'text',\n    label: utils.string.t('claims.claimInformation.adjustorName'),\n    value: claimsInformation.nonBEAdjusterName || (savedClaimInfo === null || savedClaimInfo === void 0 ? void 0 : savedClaimInfo.nonBEAdjusterName) || '',\n    validation: Yup.string().nullable().max(100, utils.string.t('claims.claimInformation.validation.maxNonBEAdjuster'))\n  }, {\n    name: 'priority',\n    type: 'autocompletemui',\n    label: utils.string.t('claims.claimInformation.priority'),\n    options: priorities || [],\n    optionKey: 'id',\n    optionLabel: 'description',\n    value: priorities.length ? priorities.find(function (p) {\n      return p.description === 'Medium';\n    }) : null,\n    validation: Yup.object().nullable().required(utils.string.t('validation.required'))\n  }];\n  return /*#__PURE__*/_jsxDEV(RegisterClaimCardInformationView, {\n    fields: fields,\n    claimantNames: claimantNames,\n    referralValues: referralValues,\n    lossQualifiers: lossQualifiers,\n    claimRefId: claimRefId,\n    claimData: claimData,\n    policyInformation: policyInformation,\n    complexityValues: complexityValues,\n    lossInformation: lossInformation,\n    savedClaimInfo: savedClaimInfo,\n    activeStep: activeStep,\n    isAllStepsCompleted: isAllStepsCompleted,\n    handleBack: handleBack,\n    handleSave: handleSave,\n    handleNext: handleNext,\n    save: save,\n    index: index,\n    claimsDocsList: (viewDocumentList === null || viewDocumentList === void 0 ? void 0 : viewDocumentList.length) > 0 ? viewDocumentList : savedDmsDocList === null || savedDmsDocList === void 0 ? void 0 : savedDmsDocList.claimsDocDetails,\n    handleFormStatus: handleFormStatus\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 374,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RegisterClaimCardInformation, \"6aOzIPGv0jKjLhimNVHNQH5CGTg=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = RegisterClaimCardInformation;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterClaimCardInformation\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/RegisterClaimCardInformation/RegisterClaimCardInformation.js"],"names":["React","useSelector","useDispatch","PropTypes","moment","Yup","styles","RegisterClaimCardInformationView","selectLossQualifiers","selectReferralValues","selectComplexityValues","selectReferralResponse","selectBEAdjusterList","selectPriorities","selectClaimData","selectClaimIdFromGrid","selectClaimsPolicyInformation","selectClaimPolicyInsures","selectClaimsInformation","selectorDmsViewFiles","selectDmsDocDetails","selectLossInformation","setBEAdjusterValue","updateClaimantNamesSuccess","selectSelectedBEAdjusterList","selectClaimIdUnderProgress","CLAIM_LOSS_DATE_DISABLED_QUALIFIERS","utils","makeStyles","createFilterOptions","RegisterClaimCardInformation","prototype","activeStep","number","isAllStepsCompleted","bool","handleBack","func","isRequired","handleSave","handleNext","save","index","handleFormStatus","classes","name","dispatch","todayDate","lossQualifiers","referralValues","selectedBeAdjuster","complexityValues","referralResponse","claimantNames","beAdjusterList","priorities","claimsInformation","claimRefId","claimData","policyInformation","lossInformation","savedClaimInfo","viewDocumentList","savedDmsDocList","lossQualifierValue","find","l","id","toString","lossQualifierID","referralResponseData","item","referralResponseID","complexityValue","complexityValueID","complexityRulesID","referralValue","referralValueID","dateDisabledLossQualifiers","filter","itr","map","concatDateAndTime","contactDate","contactTime","partDate","string","t","value","date","Date","format","toISOString","fields","type","label","options","optionKey","optionLabel","muiComponentProps","inputProps","maxLength","filterOptions","params","filtered","inputValue","length","callback","event","data","hasCreateString","replace","alreadyExists","claim","includes","newClaimantName","Object","keys","validation","object","nullable","icon","firstContactDate","fullWidth","max","test","parent","claimReceivedDate","isAfter","fromDate","lossFromDate","root","datepicker","toDate","isSameOrBefore","isBetween","subtract","add","isSameOrAfter","outputFormat","lossToDate","required","location","adjusterReference","when","is","val","complexityRulesValue","then","otherwise","refValuesList","getReferralValue","refResponseState","fgunarrative","title","nonBEAdjusterName","muiFormGroupProps","row","nestedClasses","adjusterRadioGroup","beAdjusterID","items","p","description","claimsDocDetails"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport * as Yup from 'yup';\r\n\r\n// app\r\nimport styles from './RegisterClaimCardInformation.styles';\r\nimport { RegisterClaimCardInformationView } from './RegisterClaimCardInformation.view';\r\nimport {\r\n  selectLossQualifiers,\r\n  selectReferralValues,\r\n  selectComplexityValues,\r\n  selectReferralResponse,\r\n  selectBEAdjusterList,\r\n  selectPriorities,\r\n  selectClaimData,\r\n  selectClaimIdFromGrid,\r\n  selectClaimsPolicyInformation,\r\n  selectClaimPolicyInsures,\r\n  selectClaimsInformation,\r\n  selectorDmsViewFiles,\r\n  selectDmsDocDetails,\r\n  selectLossInformation,\r\n  setBEAdjusterValue,\r\n  updateClaimantNamesSuccess,\r\n  selectSelectedBEAdjusterList,\r\n  selectClaimIdUnderProgress,\r\n} from 'stores';\r\nimport { CLAIM_LOSS_DATE_DISABLED_QUALIFIERS } from 'consts';\r\nimport * as utils from 'utils';\r\n\r\n// mui\r\nimport { makeStyles } from '@material-ui/core';\r\nimport { createFilterOptions } from '@material-ui/lab/Autocomplete';\r\nRegisterClaimCardInformation.prototype = {\r\n  activeStep: PropTypes.number,\r\n  isAllStepsCompleted: PropTypes.bool,\r\n  handleBack: PropTypes.func.isRequired,\r\n  handleSave: PropTypes.func.isRequired,\r\n  handleNext: PropTypes.func.isRequired,\r\n  save: PropTypes.func.isRequired,\r\n  index: PropTypes.number,\r\n  handleFormStatus: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default function RegisterClaimCardInformation({\r\n  activeStep,\r\n  isAllStepsCompleted,\r\n  handleBack,\r\n  handleSave,\r\n  handleNext,\r\n  save,\r\n  index,\r\n  handleFormStatus,\r\n}) {\r\n  const classes = makeStyles(styles, { name: 'RegisterClaimCardInformation' })();\r\n\r\n  const dispatch = useDispatch();\r\n  const todayDate = moment();\r\n\r\n  const lossQualifiers = useSelector(selectLossQualifiers);\r\n  const referralValues = useSelector(selectReferralValues);\r\n  const selectedBeAdjuster = useSelector(selectSelectedBEAdjusterList);\r\n  const complexityValues = useSelector(selectComplexityValues);\r\n  const referralResponse = useSelector(selectReferralResponse);\r\n  const claimantNames = useSelector(selectClaimPolicyInsures);\r\n  const beAdjusterList = useSelector(selectBEAdjusterList);\r\n  const priorities = useSelector(selectPriorities);\r\n  const claimsInformation = useSelector(selectClaimsInformation);\r\n  const claimRefId = useSelector(selectClaimData);\r\n  const claimData = useSelector(selectClaimIdFromGrid);\r\n  const policyInformation = useSelector(selectClaimsPolicyInformation);\r\n  const lossInformation = useSelector(selectLossInformation);\r\n  const savedClaimInfo = useSelector(selectClaimIdUnderProgress);\r\n  const viewDocumentList = useSelector(selectorDmsViewFiles);\r\n  const savedDmsDocList = useSelector(selectDmsDocDetails);\r\n  \r\n  const lossQualifierValue = (lossQualifiers || []).find(\r\n    (l) => l.id?.toString() === (claimsInformation?.lossQualifierID?.toString() || savedClaimInfo?.lossQualifierID?.toString())\r\n  );\r\n  const referralResponseData = referralResponse?.find((item) => item.id === savedClaimInfo?.referralResponseID?.toString());\r\n  const complexityValue =\r\n    savedClaimInfo?.complexityValueID &&\r\n    complexityValues?.find((item) => item.complexityRulesID === (claimsInformation.complexityValueID || savedClaimInfo?.complexityValueID));\r\n\r\n  const referralValue =\r\n    savedClaimInfo?.referralValueID && referralValues?.find((item) => item.complexityRulesID === savedClaimInfo?.referralValueID);\r\n\r\n  const dateDisabledLossQualifiers = lossQualifiers\r\n    .filter((item) => {\r\n      return CLAIM_LOSS_DATE_DISABLED_QUALIFIERS.find((itr) => itr === item.name);\r\n    })\r\n    .map((item) => item.id);\r\n\r\n  const concatDateAndTime = (contactDate, contactTime) => {\r\n    let partDate = utils.string.t('format.date', { value: { date: contactDate || new Date(), format: 'D MMM YYYY' } });\r\n    return utils.date.toISOString(partDate + ' ' + (contactTime ? contactTime + ':00' : '00:00:00'));\r\n  };\r\n  const fields = [\r\n    {\r\n      name: 'claimantName',\r\n      type: 'autocompletemui',\r\n      label: utils.string.t('claims.claimInformation.claimant'),\r\n      options: claimantNames || [],\r\n      value: claimantNames?.[0] || null,\r\n      optionKey: 'id',\r\n      optionLabel: 'name',\r\n      muiComponentProps: {\r\n        inputProps: {\r\n          maxLength: 50,\r\n        },\r\n        filterOptions: (options, params) => {\r\n          let filtered = createFilterOptions()(options, params);\r\n          if (params.inputValue) {\r\n            filtered = [\r\n              ...filtered,\r\n              {\r\n                id: filtered.length + 1,\r\n                name: `${utils.string.t('app.create')} - ${params.inputValue}`,\r\n              },\r\n            ];\r\n          }\r\n          return filtered;\r\n        },\r\n      },\r\n      callback: (event, data) => {\r\n        const hasCreateString = `${utils.string.t('app.create')} - `;\r\n        const name = data?.name.replace(hasCreateString, '');\r\n        const alreadyExists = claimantNames.find((claim) => claim.name === name);\r\n\r\n        if (data?.name.includes(hasCreateString) && !alreadyExists) {\r\n          const newClaimantName = { id: Object.keys(claimantNames).length, name };\r\n          dispatch(updateClaimantNamesSuccess(newClaimantName));\r\n        }\r\n      },\r\n      validation: Yup.object().nullable(),\r\n    },\r\n    {\r\n      type: 'datepicker',\r\n      name: 'claimReceivedDate',\r\n      label: utils.string.t('claims.claimInformation.claimReceivedDateTime'),\r\n      icon: 'TodayIcon',\r\n      value: lossInformation.firstContactDate || null,\r\n      muiComponentProps: {\r\n        fullWidth: true,\r\n      },\r\n      validation: Yup.date().max(new Date(), utils.string.t('claims.lossInformation.validation.futureDateAndTime')),\r\n    },\r\n    {\r\n      type: 'time',\r\n      name: 'claimReceivedTime',\r\n      icon: 'AccessTimeIcon',\r\n      value: utils.string.t('format.date', { value: { date: lossInformation?.firstContactDate || null, format: 'HH:mm' } }),\r\n      validation: Yup.string()\r\n        .nullable()\r\n        .test('from', utils.string.t('claims.lossInformation.validation.futureDateAndTime'), function (value) {\r\n          return !moment(new Date(concatDateAndTime(this?.options?.parent?.claimReceivedDate, value))).isAfter(new Date());\r\n        }),\r\n    },\r\n    {\r\n      type: 'datepicker',\r\n      name: 'fromDate',\r\n      label: utils.string.t('claims.lossInformation.fromDate'),\r\n      value: lossInformation?.fromDate || savedClaimInfo?.lossFromDate || null,\r\n      icon: 'TodayIcon',\r\n      muiComponentProps: {\r\n        fullWidth: true,\r\n        classes: {\r\n          root: classes.datepicker,\r\n        },\r\n      },\r\n      validation: Yup.date()\r\n        .nullable()\r\n        .test('from', utils.string.t('claims.lossInformation.validation.greaterThenDate'), function (value) {\r\n          return value && this.options.parent.toDate ? moment(value).isSameOrBefore(this.options.parent.toDate) : true;\r\n        })\r\n        .test('from', utils.string.t('claims.lossInformation.validation.betweenTheDate'), function (value) {\r\n          if (value && this.options.parent.fromDate && lossInformation?.fromDate) {\r\n            if (lossInformation?.toDate) {\r\n              return moment(value).isBetween(\r\n                moment(lossInformation?.fromDate).subtract(1, 'days'),\r\n                moment(lossInformation?.toDate).add(1, 'days')\r\n              );\r\n            } else {\r\n              return moment(value).isSameOrAfter(lossInformation?.fromDate);\r\n            }\r\n          } else {\r\n            return true;\r\n          }\r\n        })\r\n        .test('from', utils.string.t('claims.lossInformation.validation.futureDate'), function (value) {\r\n          return value ? todayDate.isAfter(value) : true;\r\n        })\r\n        .test('from', utils.string.t('validation.required'), function (value) {\r\n          if (!dateDisabledLossQualifiers.includes(this.options.parent.lossQualifierID?.id)) {\r\n            return value || typeof value === 'undefined' ? true : false;\r\n          } else {\r\n            return true;\r\n          }\r\n        }),\r\n      outputFormat: 'iso',\r\n    },\r\n    {\r\n      type: 'datepicker',\r\n      name: 'toDate',\r\n      label: utils.string.t('claims.lossInformation.toDate'),\r\n      value: lossInformation?.toDate || savedClaimInfo?.lossToDate || null,\r\n      muiComponentProps: {\r\n        fullWidth: true,\r\n        classes: {\r\n          root: classes.datepicker,\r\n        },\r\n      },\r\n      validation: Yup.date()\r\n        .nullable()\r\n        .test('from', utils.string.t('claims.lossInformation.validation.lesserThenDate'), function (value) {\r\n          return value && this.options.parent.fromDate && value !== null ? moment(value).isSameOrAfter(this.options.parent.fromDate) : true;\r\n        })\r\n        .test('to', utils.string.t('claims.lossInformation.validation.betweenTheDate'), function (value) {\r\n          if (value && this.options.parent.toDate && lossInformation?.toDate) {\r\n            if (lossInformation?.fromDate) {\r\n              return moment(value).isBetween(\r\n                moment(lossInformation?.fromDate).subtract(1, 'days'),\r\n                moment(lossInformation?.toDate).add(1, 'days')\r\n              );\r\n            } else {\r\n              return moment(value).isSameOrBefore(lossInformation?.toDate);\r\n            }\r\n          } else {\r\n            return true;\r\n          }\r\n        })\r\n        .test('to', utils.string.t('claims.lossInformation.validation.futureDate'), function (value) {\r\n          return value ? todayDate.isAfter(value) : true;\r\n        }),\r\n      outputFormat: 'iso',\r\n    },\r\n    {\r\n      name: 'lossQualifierID',\r\n      type: 'autocompletemui',\r\n      label: utils.string.t('claims.lossInformation.qualifier'),\r\n      value: lossQualifierValue || null,\r\n      options: lossQualifiers || [],\r\n      optionKey: 'id',\r\n      optionLabel: 'name',\r\n      validation: Yup.object().nullable().required(utils.string.t('validation.required')),\r\n    },\r\n    {\r\n      name: 'location',\r\n      type: 'text',\r\n      label: utils.string.t('claims.claimInformation.location'),\r\n      value: claimsInformation.location || savedClaimInfo?.location || '',\r\n      validation: Yup.string().required(utils.string.t('validation.required')),\r\n    },\r\n    {\r\n      name: 'adjusterReference',\r\n      type: 'text',\r\n      label: utils.string.t('claims.claimInformation.adjustorRef'),\r\n      value: claimsInformation.adjusterReference || savedClaimInfo?.adjusterReference || '',\r\n      validation: Yup.string().nullable().max(20, utils.string.t('claims.claimInformation.validation.maxAdjusterReference')),\r\n    },\r\n    {\r\n      name: 'complexity',\r\n      type: 'autocompletemui',\r\n      label: utils.string.t('claims.claimInformation.complexityBasis'),\r\n      options: complexityValues || [],\r\n      value: complexityValue || null,\r\n      optionKey: 'complexityRulesID',\r\n      optionLabel: 'complexityRulesValue',\r\n      validation: Yup.object().nullable().required(utils.string.t('validation.required')),\r\n    },\r\n    {\r\n      name: 'referral',\r\n      type: 'autocompletemui',\r\n      label: utils.string.t('claims.claimInformation.referral'),\r\n      options: referralValues || [],\r\n      value: referralValue || null,\r\n      optionKey: 'complexityRulesID',\r\n      optionLabel: 'complexityRulesValue',\r\n      validation: Yup.object().when('complexity', {\r\n        is: (val) =>\r\n          complexityValues.find((item) => item.complexityRulesID === val?.complexityRulesID)?.complexityRulesValue === 'Referral Required',\r\n        then: Yup.object().nullable().required(utils.string.t('validation.required')),\r\n        otherwise: Yup.object().nullable(),\r\n      }),\r\n    },\r\n    {\r\n      name: 'rfiResponse',\r\n      type: 'autocompletemui',\r\n      label: utils.string.t('claims.claimInformation.rfiResponse'),\r\n      options: referralResponse || [],\r\n      value: referralResponseData || null,\r\n      optionKey: 'id',\r\n      optionLabel: 'description',\r\n      validation: Yup.object().when('referral', {\r\n        is: (val) => {\r\n          if (val !== null) {\r\n            const refValuesList = ['Referral Not Required', 'Referral Not Required: Assign to Myself', 'Unsure'];\r\n            const getReferralValue = referralValues.find((item) => item.complexityRulesID === val?.complexityRulesID)?.complexityRulesValue;\r\n            const refResponseState = refValuesList.includes(getReferralValue);\r\n            return !refResponseState;\r\n          } else {\r\n            return false;\r\n          }\r\n        },\r\n        then: Yup.object().nullable().required(utils.string.t('validation.required')),\r\n        otherwise: Yup.object().nullable(),\r\n      }),\r\n    },\r\n    {\r\n      name: 'fgunarrative',\r\n      type: 'text',\r\n      label: utils.string.t('claims.claimInformation.fguNarrative'),\r\n      value: claimsInformation.fgunarrative || savedClaimInfo?.fgunarrative || '',\r\n      validation: Yup.string().required(utils.string.t('validation.required')),\r\n    },\r\n    {\r\n      name: 'adjuster',\r\n      type: 'radio',\r\n      title: utils.string.t('claims.claimInformation.adjustorType'),\r\n      value: (claimsInformation?.nonBEAdjusterName || savedClaimInfo?.nonBEAdjusterName) ? 'nonBeAdjuster' : 'beAdjuster',\r\n      validation: Yup.string().required(utils.string.t('validation.required')),\r\n      muiFormGroupProps: {\r\n        row: true,\r\n        nestedClasses: { root: classes.adjusterRadioGroup },\r\n      },\r\n      options: [\r\n        {\r\n          label: utils.string.t('claims.claimInformation.beAdjuster'),\r\n          value: 'beAdjuster',\r\n        },\r\n        {\r\n          label: utils.string.t('claims.claimInformation.nonBeAdjuster'),\r\n          value: 'nonBeAdjuster',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      name: 'beAdjuster',\r\n      type: 'autocompletemui',\r\n      label: utils.string.t('claims.claimInformation.adjustorName'),\r\n      value:\r\n        claimsInformation?.beAdjusterID !== 0\r\n          ? beAdjusterList.items.find((item) => item.id === claimsInformation?.beAdjusterID?.toString())\r\n          : selectedBeAdjuster || [],\r\n      options: beAdjusterList.items || [],\r\n      optionKey: 'id',\r\n      optionLabel: 'name',\r\n      callback: (event, data) => {\r\n        dispatch(setBEAdjusterValue(data));\r\n      },\r\n    },\r\n    {\r\n      name: 'nonBeAdjuster',\r\n      type: 'text',\r\n      label: utils.string.t('claims.claimInformation.adjustorName'),\r\n      value: claimsInformation.nonBEAdjusterName || savedClaimInfo?.nonBEAdjusterName || '',\r\n      validation: Yup.string().nullable().max(100, utils.string.t('claims.claimInformation.validation.maxNonBEAdjuster')),\r\n    },\r\n    {\r\n      name: 'priority',\r\n      type: 'autocompletemui',\r\n      label: utils.string.t('claims.claimInformation.priority'),\r\n      options: priorities || [],\r\n      optionKey: 'id',\r\n      optionLabel: 'description',\r\n      value: priorities.length ? priorities.find((p) => p.description === 'Medium') : null,\r\n      validation: Yup.object().nullable().required(utils.string.t('validation.required')),\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <RegisterClaimCardInformationView\r\n      fields={fields}\r\n      claimantNames={claimantNames}\r\n      referralValues={referralValues}\r\n      lossQualifiers={lossQualifiers}\r\n      claimRefId={claimRefId}\r\n      claimData={claimData}\r\n      policyInformation={policyInformation}\r\n      complexityValues={complexityValues}\r\n      lossInformation={lossInformation}\r\n      savedClaimInfo={savedClaimInfo}\r\n      activeStep={activeStep}\r\n      isAllStepsCompleted={isAllStepsCompleted}\r\n      handleBack={handleBack}\r\n      handleSave={handleSave}\r\n      handleNext={handleNext}\r\n      save={save}\r\n      index={index}\r\n      claimsDocsList={viewDocumentList?.length > 0 ? viewDocumentList : savedDmsDocList?.claimsDocDetails}\r\n      handleFormStatus={handleFormStatus}\r\n    />\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}