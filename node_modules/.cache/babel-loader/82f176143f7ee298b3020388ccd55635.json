{"ast":null,"code":"import _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\pages\\\\Policy\\\\Policy.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory, useParams } from 'react-router';\nimport { Helmet } from 'react-helmet';\nimport get from 'lodash/get'; // app\n\nimport { PolicyView } from './Policy.view';\nimport { getPolicy, resetPolicy, resetPolicyPlacement, getPolicyPlacement, selectRefDataDepartmentById, selectRefDataBusinessTypeById } from 'stores';\nimport * as utils from 'utils';\nimport config from 'config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Policy() {\n  _s();\n\n  var policySelected = useSelector(function (state) {\n    return state.policy.selected;\n  });\n  var policyPlacement = useSelector(function (state) {\n    return state.policy.placement;\n  });\n  var policyPlacementLoading = useSelector(function (state) {\n    return state.policy.loading.placement;\n  });\n  var policyDepartment = useSelector(selectRefDataDepartmentById(policySelected && policySelected.departmentId));\n  var policyBusinessType = useSelector(selectRefDataBusinessTypeById(policySelected && policySelected.departmentId, policySelected && policySelected.businessTypeId));\n  var uiBrand = useSelector(function (state) {\n    return get(state, 'ui.brand');\n  });\n  var dispatch = useDispatch();\n  var history = useHistory();\n\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  useEffect(function () {\n    dispatch(getPolicy(id)).then(function (response) {\n      var policyParentPlacementId = response && get(response, '[0].parentPlacementId');\n\n      if (policyParentPlacementId) {\n        dispatch(getPolicyPlacement(policyParentPlacementId));\n      }\n    });\n    dispatch(resetPolicyPlacement()); // cleanup\n\n    return function () {\n      dispatch(resetPolicy());\n    };\n  }, [id] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  var goToPlacement = function goToPlacement() {\n    if (policyPlacement && policyPlacement.id) {\n      history.push(\"\".concat(config.routes.placement.bound, \"/\").concat(policyPlacement.id));\n    }\n  };\n\n  var goToOpeningMemo = function goToOpeningMemo() {\n    if (policySelected && policySelected.openingMemoId) {\n      history.push(\"\".concat(config.routes.checklist.root, \"/\").concat(policySelected.openingMemoId));\n    }\n  };\n\n  var title = \"\".concat(utils.string.t('policy.title'), \" - \").concat(id);\n\n  var policyObj = _objectSpread(_objectSpread({}, policySelected), {}, {\n    department: policyDepartment,\n    businessType: policyBusinessType\n  });\n\n  var popoverItems = [{\n    id: 'goToPlacement',\n    label: utils.string.t('policy.goToPlacement'),\n    disabled: !policyPlacement || !policyPlacement.id,\n    callback: function callback() {\n      return goToPlacement();\n    }\n  }, {\n    id: 'goToOpeningMemo',\n    label: utils.string.t('policy.goToOpeningMemo'),\n    disabled: !policySelected || !policySelected.openingMemoId,\n    callback: function callback() {\n      return goToOpeningMemo();\n    }\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"\".concat(title, \" - \").concat(utils.app.getAppName(uiBrand))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PolicyView, {\n      id: id,\n      policy: policyObj,\n      placement: policyPlacement,\n      placementLoading: policyPlacementLoading,\n      popoverItems: popoverItems\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Policy, \"mE30tI/wKSNmDqRv3DjqK2Ce9Hc=\", false, function () {\n  return [useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useDispatch, useHistory, useParams];\n});\n\n_c = Policy;\n\nvar _c;\n\n$RefreshReg$(_c, \"Policy\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/pages/Policy/Policy.js"],"names":["React","useEffect","useSelector","useDispatch","useHistory","useParams","Helmet","get","PolicyView","getPolicy","resetPolicy","resetPolicyPlacement","getPolicyPlacement","selectRefDataDepartmentById","selectRefDataBusinessTypeById","utils","config","Policy","policySelected","state","policy","selected","policyPlacement","placement","policyPlacementLoading","loading","policyDepartment","departmentId","policyBusinessType","businessTypeId","uiBrand","dispatch","history","id","then","response","policyParentPlacementId","goToPlacement","push","routes","bound","goToOpeningMemo","openingMemoId","checklist","root","title","string","t","policyObj","department","businessType","popoverItems","label","disabled","callback","app","getAppName"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router';\r\nimport { Helmet } from 'react-helmet';\r\nimport get from 'lodash/get';\r\n\r\n// app\r\nimport { PolicyView } from './Policy.view';\r\nimport {\r\n  getPolicy,\r\n  resetPolicy,\r\n  resetPolicyPlacement,\r\n  getPolicyPlacement,\r\n  selectRefDataDepartmentById,\r\n  selectRefDataBusinessTypeById,\r\n} from 'stores';\r\nimport * as utils from 'utils';\r\nimport config from 'config';\r\n\r\nexport default function Policy() {\r\n  const policySelected = useSelector((state) => state.policy.selected);\r\n  const policyPlacement = useSelector((state) => state.policy.placement);\r\n  const policyPlacementLoading = useSelector((state) => state.policy.loading.placement);\r\n  const policyDepartment = useSelector(selectRefDataDepartmentById(policySelected && policySelected.departmentId));\r\n  const policyBusinessType = useSelector(\r\n    selectRefDataBusinessTypeById(policySelected && policySelected.departmentId, policySelected && policySelected.businessTypeId)\r\n  );\r\n  const uiBrand = useSelector((state) => get(state, 'ui.brand'));\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n\r\n  useEffect(\r\n    () => {\r\n      dispatch(getPolicy(id)).then((response) => {\r\n        const policyParentPlacementId = response && get(response, '[0].parentPlacementId');\r\n\r\n        if (policyParentPlacementId) {\r\n          dispatch(getPolicyPlacement(policyParentPlacementId));\r\n        }\r\n      });\r\n      dispatch(resetPolicyPlacement());\r\n\r\n      // cleanup\r\n      return () => {\r\n        dispatch(resetPolicy());\r\n      };\r\n    },\r\n    [id] // eslint-disable-line react-hooks/exhaustive-deps\r\n  );\r\n\r\n  const goToPlacement = () => {\r\n    if (policyPlacement && policyPlacement.id) {\r\n      history.push(`${config.routes.placement.bound}/${policyPlacement.id}`);\r\n    }\r\n  };\r\n\r\n  const goToOpeningMemo = () => {\r\n    if (policySelected && policySelected.openingMemoId) {\r\n      history.push(`${config.routes.checklist.root}/${policySelected.openingMemoId}`);\r\n    }\r\n  };\r\n\r\n  const title = `${utils.string.t('policy.title')} - ${id}`;\r\n  const policyObj = {\r\n    ...policySelected,\r\n    department: policyDepartment,\r\n    businessType: policyBusinessType,\r\n  };\r\n\r\n  const popoverItems = [\r\n    {\r\n      id: 'goToPlacement',\r\n      label: utils.string.t('policy.goToPlacement'),\r\n      disabled: !policyPlacement || !policyPlacement.id,\r\n      callback: () => goToPlacement(),\r\n    },\r\n    {\r\n      id: 'goToOpeningMemo',\r\n      label: utils.string.t('policy.goToOpeningMemo'),\r\n      disabled: !policySelected || !policySelected.openingMemoId,\r\n      callback: () => goToOpeningMemo(),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{`${title} - ${utils.app.getAppName(uiBrand)}`}</title>\r\n      </Helmet>\r\n\r\n      <PolicyView\r\n        id={id}\r\n        policy={policyObj}\r\n        placement={policyPlacement}\r\n        placementLoading={policyPlacementLoading}\r\n        popoverItems={popoverItems}\r\n      />\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}