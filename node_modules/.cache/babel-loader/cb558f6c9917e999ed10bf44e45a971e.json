{"ast":null,"code":"import _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\modules\\\\ClaimActionTable\\\\ClaimActionRow.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux'; //app\n\nimport { TableCell, Status, Chip, Link } from 'components';\nimport * as utils from 'utils';\nimport { useHistory } from 'react-router';\nimport config from 'config';\nimport * as constants from 'consts'; //mui\n\nimport styles from './ClaimActionTable.styles';\nimport { makeStyles, TableRow, Typography } from '@material-ui/core';\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\nimport { selectLossInformation, selectClaimsInformation, getSancCheckAssociatedTask, checkIsUserClaim, setClaimsProcessingTasksListSelected, setClaimsFnolPushBackRoute, selectUser } from 'stores';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nClaimActionRow.prototype = {\n  data: PropTypes.array.isRequired,\n  columnProps: PropTypes.array.isRequired,\n  onClick: PropTypes.func.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  level: PropTypes.number.isRequired\n};\nexport function ClaimActionRow(_ref) {\n  _s();\n\n  var data = _ref.data,\n      columnProps = _ref.columnProps,\n      onClick = _ref.onClick,\n      isOpen = _ref.isOpen,\n      level = _ref.level;\n  var history = useHistory();\n  var dispatch = useDispatch();\n  var classes = makeStyles(styles, {\n    name: 'LossActionTable'\n  })({\n    expanded: isOpen,\n    level: level\n  });\n  var hasChildren = data.actionChildItemList.length;\n  var chipColor = ['info', 'success', 'alert', 'error', 'light'];\n  var user = useSelector(selectUser);\n  var lossInformation = useSelector(selectLossInformation);\n  var claimsInformation = useSelector(selectClaimsInformation);\n\n  var isTaskLinkDisabled = function isTaskLinkDisabled() {\n    var task = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var automatedTasks = constants === null || constants === void 0 ? void 0 : constants.AUTOMATED_TASK_DEF_KEYS;\n    return (automatedTasks === null || automatedTasks === void 0 ? void 0 : automatedTasks.includes(task === null || task === void 0 ? void 0 : task.taskDefKey)) || (task === null || task === void 0 ? void 0 : task.status) === constants.TASK_TAB_COMPLETED_STATUS;\n  }; // automated BPM task does not need task dashboard Link and tasks handlers\n\n\n  var actionType = function actionType(event) {\n    var additionalData = {\n      taskRef: data === null || data === void 0 ? void 0 : data.actionID,\n      lossDetailID: lossInformation === null || lossInformation === void 0 ? void 0 : lossInformation.lossDetailID,\n      lossRef: lossInformation === null || lossInformation === void 0 ? void 0 : lossInformation.lossRef,\n      departmentID: claimsInformation === null || claimsInformation === void 0 ? void 0 : claimsInformation.departmentID,\n      sourceID: claimsInformation === null || claimsInformation === void 0 ? void 0 : claimsInformation.sourceID,\n      processRef: claimsInformation === null || claimsInformation === void 0 ? void 0 : claimsInformation.claimReference\n    };\n\n    var taskData = _objectSpread(_objectSpread({}, data), additionalData);\n\n    if (taskData === null || taskData === void 0 ? void 0 : taskData.taskRef) {\n      var _user$fullName, _taskData$assignedTo;\n\n      event.stopPropagation();\n      (taskData === null || taskData === void 0 ? void 0 : taskData.taskDefKey) === constants.SANCTIONS_CHECK_KEY && dispatch(getSancCheckAssociatedTask(taskData === null || taskData === void 0 ? void 0 : taskData.parentTaskId));\n      var isUserClaim = ((_user$fullName = user.fullName) === null || _user$fullName === void 0 ? void 0 : _user$fullName.toLowerCase()) === (taskData === null || taskData === void 0 ? void 0 : (_taskData$assignedTo = taskData.assignedTo) === null || _taskData$assignedTo === void 0 ? void 0 : _taskData$assignedTo.toLowerCase());\n      dispatch(checkIsUserClaim(isUserClaim));\n      dispatch(setClaimsProcessingTasksListSelected(taskData));\n      dispatch(setClaimsFnolPushBackRoute(constants.CLAIMS_FNOL_PUSH_BACK_ROUTES.routes.lossAndClaims));\n\n      if (taskData.taskType === constants.TASK_ROW_TYPE.rfi) {\n        history.push(\"\".concat(config.routes.claimsFNOL.rfi, \"/\").concat(taskData.taskRef));\n      } else {\n        history.push(\"\".concat(config.routes.claimsFNOL.task, \"/\").concat(taskData === null || taskData === void 0 ? void 0 : taskData.taskRef));\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(TableRow, {\n      onClick: onClick,\n      className: classes.row,\n      \"data-testid\": \"search-row-\".concat(data === null || data === void 0 ? void 0 : data.actionID),\n      hover: true,\n      children: [/*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('actionId')), {}, {\n        \"data-testid\": \"row-col-\".concat(data === null || data === void 0 ? void 0 : data.actionID),\n        children: [hasChildren ? /*#__PURE__*/_jsxDEV(KeyboardArrowDownIcon, {\n          className: classes.arrow\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 26\n        }, this) : null, isTaskLinkDisabled(data) ? data === null || data === void 0 ? void 0 : data.actionID : /*#__PURE__*/_jsxDEV(Link, {\n          text: \"\".concat(data === null || data === void 0 ? void 0 : data.actionID),\n          color: \"secondary\",\n          onClick: actionType\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 56\n        }, this)]\n      }), void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('name')), {}, {\n        \"data-testid\": \"row-col-\".concat(data === null || data === void 0 ? void 0 : data.actionName),\n        children: /*#__PURE__*/_jsxDEV(Chip, {\n          label: data === null || data === void 0 ? void 0 : data.actionName,\n          size: \"small\",\n          type: chipColor[level],\n          variant: \"outlined\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('description')), {}, {\n        \"data-testid\": \"row-col-\".concat(data === null || data === void 0 ? void 0 : data.description),\n        children: data === null || data === void 0 ? void 0 : data.description\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('team')), {}, {\n        \"data-testid\": \"row-col-\".concat(data === null || data === void 0 ? void 0 : data.team),\n        children: data === null || data === void 0 ? void 0 : data.team\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('assignedTo')), {}, {\n        \"data-testid\": \"row-col-\".concat(data === null || data === void 0 ? void 0 : data.assignedTo),\n        children: data === null || data === void 0 ? void 0 : data.assignedTo\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('createdDate')), {}, {\n        \"data-testid\": \"row-col-\".concat(data === null || data === void 0 ? void 0 : data.dateCreated),\n        children: utils.string.t('format.date', {\n          value: {\n            date: data === null || data === void 0 ? void 0 : data.dateCreated,\n            format: config.ui.format.date.textTime\n          }\n        })\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('targetDate')), {}, {\n        \"data-testid\": \"row-col-\".concat(data === null || data === void 0 ? void 0 : data.targetDueDate),\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"error\",\n          children: utils.string.t('format.date', {\n            value: {\n              date: data === null || data === void 0 ? void 0 : data.targetDueDate,\n              format: config.ui.format.date.text\n            }\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('priority')), {}, {\n        \"data-testid\": \"row-col-\".concat(data === null || data === void 0 ? void 0 : data.priority),\n        children: data === null || data === void 0 ? void 0 : data.priority\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('status')), {}, {\n        \"data-testid\": \"row-col-\".concat(data === null || data === void 0 ? void 0 : data.status),\n        children: (data === null || data === void 0 ? void 0 : data.status) && /*#__PURE__*/_jsxDEV(Status, {\n          size: \"sm\",\n          text: data.status,\n          status: data.status === 'Complete' ? 'success' : utils.string.replaceLowerCase(data.status, 'withDash')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this)\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, _objectSpread(_objectSpread({}, columnProps('taskCompleted')), {}, {\n        \"data-testid\": \"row-col-\".concat(data === null || data === void 0 ? void 0 : data.taskCompleted),\n        children: data === null || data === void 0 ? void 0 : data.taskCompleted\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, data === null || data === void 0 ? void 0 : data.actionID, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(ClaimActionRow, \"fnxqL36f13zerAZmg6d+QheffWI=\", false, function () {\n  return [useHistory, useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = ClaimActionRow;\n\nvar _c;\n\n$RefreshReg$(_c, \"ClaimActionRow\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/modules/ClaimActionTable/ClaimActionRow.js"],"names":["React","PropTypes","useDispatch","useSelector","TableCell","Status","Chip","Link","utils","useHistory","config","constants","styles","makeStyles","TableRow","Typography","KeyboardArrowDownIcon","selectLossInformation","selectClaimsInformation","getSancCheckAssociatedTask","checkIsUserClaim","setClaimsProcessingTasksListSelected","setClaimsFnolPushBackRoute","selectUser","ClaimActionRow","prototype","data","array","isRequired","columnProps","onClick","func","isOpen","bool","level","number","history","dispatch","classes","name","expanded","hasChildren","actionChildItemList","length","chipColor","user","lossInformation","claimsInformation","isTaskLinkDisabled","task","automatedTasks","AUTOMATED_TASK_DEF_KEYS","includes","taskDefKey","status","TASK_TAB_COMPLETED_STATUS","actionType","event","additionalData","taskRef","actionID","lossDetailID","lossRef","departmentID","sourceID","processRef","claimReference","taskData","stopPropagation","SANCTIONS_CHECK_KEY","parentTaskId","isUserClaim","fullName","toLowerCase","assignedTo","CLAIMS_FNOL_PUSH_BACK_ROUTES","routes","lossAndClaims","taskType","TASK_ROW_TYPE","rfi","push","claimsFNOL","row","arrow","actionName","description","team","dateCreated","string","t","value","date","format","ui","textTime","targetDueDate","text","priority","replaceLowerCase","taskCompleted"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC,C,CAEA;;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,IAA5B,EAAkCC,IAAlC,QAA8C,YAA9C;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAO,KAAKC,SAAZ,MAA2B,QAA3B,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,SAASC,UAAT,EAAqBC,QAArB,EAA+BC,UAA/B,QAAiD,mBAAjD;AACA,OAAOC,qBAAP,MAAkC,sCAAlC;AAEA,SACEC,qBADF,EAEEC,uBAFF,EAGEC,0BAHF,EAIEC,gBAJF,EAKEC,oCALF,EAMEC,0BANF,EAOEC,UAPF,QAQO,QARP;;;AASAC,cAAc,CAACC,SAAf,GAA2B;AACzBC,EAAAA,IAAI,EAAEzB,SAAS,CAAC0B,KAAV,CAAgBC,UADG;AAEzBC,EAAAA,WAAW,EAAE5B,SAAS,CAAC0B,KAAV,CAAgBC,UAFJ;AAGzBE,EAAAA,OAAO,EAAE7B,SAAS,CAAC8B,IAAV,CAAeH,UAHC;AAIzBI,EAAAA,MAAM,EAAE/B,SAAS,CAACgC,IAAV,CAAeL,UAJE;AAKzBM,EAAAA,KAAK,EAAEjC,SAAS,CAACkC,MAAV,CAAiBP;AALC,CAA3B;AAQA,OAAO,SAASJ,cAAT,OAAuE;AAAA;;AAAA,MAA7CE,IAA6C,QAA7CA,IAA6C;AAAA,MAAvCG,WAAuC,QAAvCA,WAAuC;AAAA,MAA1BC,OAA0B,QAA1BA,OAA0B;AAAA,MAAjBE,MAAiB,QAAjBA,MAAiB;AAAA,MAATE,KAAS,QAATA,KAAS;AAC5E,MAAME,OAAO,GAAG3B,UAAU,EAA1B;AACA,MAAM4B,QAAQ,GAAGnC,WAAW,EAA5B;AACA,MAAMoC,OAAO,GAAGzB,UAAU,CAACD,MAAD,EAAS;AAAE2B,IAAAA,IAAI,EAAE;AAAR,GAAT,CAAV,CAAgD;AAAEC,IAAAA,QAAQ,EAAER,MAAZ;AAAoBE,IAAAA,KAAK,EAALA;AAApB,GAAhD,CAAhB;AACA,MAAMO,WAAW,GAAGf,IAAI,CAACgB,mBAAL,CAAyBC,MAA7C;AACA,MAAMC,SAAS,GAAG,CAAC,MAAD,EAAS,SAAT,EAAoB,OAApB,EAA6B,OAA7B,EAAsC,OAAtC,CAAlB;AACA,MAAMC,IAAI,GAAG1C,WAAW,CAACoB,UAAD,CAAxB;AACA,MAAMuB,eAAe,GAAG3C,WAAW,CAACc,qBAAD,CAAnC;AACA,MAAM8B,iBAAiB,GAAG5C,WAAW,CAACe,uBAAD,CAArC;;AAEA,MAAM8B,kBAAkB,GAAG,SAArBA,kBAAqB,GAAe;AAAA,QAAdC,IAAc,uEAAP,EAAO;AACxC,QAAMC,cAAc,GAAGvC,SAAH,aAAGA,SAAH,uBAAGA,SAAS,CAAEwC,uBAAlC;AACA,WAAO,CAAAD,cAAc,SAAd,IAAAA,cAAc,WAAd,YAAAA,cAAc,CAAEE,QAAhB,CAAyBH,IAAzB,aAAyBA,IAAzB,uBAAyBA,IAAI,CAAEI,UAA/B,MAA8C,CAAAJ,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEK,MAAN,MAAiB3C,SAAS,CAAC4C,yBAAhF;AACD,GAHD,CAV4E,CAazE;;;AAEH,MAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAW;AAC5B,QAAMC,cAAc,GAAG;AACrBC,MAAAA,OAAO,EAAEjC,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEkC,QADM;AAErBC,MAAAA,YAAY,EAAEf,eAAF,aAAEA,eAAF,uBAAEA,eAAe,CAAEe,YAFV;AAGrBC,MAAAA,OAAO,EAAEhB,eAAF,aAAEA,eAAF,uBAAEA,eAAe,CAAEgB,OAHL;AAIrBC,MAAAA,YAAY,EAAEhB,iBAAF,aAAEA,iBAAF,uBAAEA,iBAAiB,CAAEgB,YAJZ;AAKrBC,MAAAA,QAAQ,EAAEjB,iBAAF,aAAEA,iBAAF,uBAAEA,iBAAiB,CAAEiB,QALR;AAMrBC,MAAAA,UAAU,EAAElB,iBAAF,aAAEA,iBAAF,uBAAEA,iBAAiB,CAAEmB;AANV,KAAvB;;AAQA,QAAMC,QAAQ,mCAAQzC,IAAR,GAAiBgC,cAAjB,CAAd;;AACA,QAAIS,QAAJ,aAAIA,QAAJ,uBAAIA,QAAQ,CAAER,OAAd,EAAuB;AAAA;;AACrBF,MAAAA,KAAK,CAACW,eAAN;AACA,OAAAD,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEd,UAAV,MAAyB1C,SAAS,CAAC0D,mBAAnC,IAA0DhC,QAAQ,CAAClB,0BAA0B,CAACgD,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAEG,YAAX,CAA3B,CAAlE;AACA,UAAMC,WAAW,GAAG,mBAAA1B,IAAI,CAAC2B,QAAL,kEAAeC,WAAf,SAAiCN,QAAjC,aAAiCA,QAAjC,+CAAiCA,QAAQ,CAAEO,UAA3C,yDAAiC,qBAAsBD,WAAtB,EAAjC,CAApB;AACApC,MAAAA,QAAQ,CAACjB,gBAAgB,CAACmD,WAAD,CAAjB,CAAR;AACAlC,MAAAA,QAAQ,CAAChB,oCAAoC,CAAC8C,QAAD,CAArC,CAAR;AACA9B,MAAAA,QAAQ,CAACf,0BAA0B,CAACX,SAAS,CAACgE,4BAAV,CAAuCC,MAAvC,CAA8CC,aAA/C,CAA3B,CAAR;;AACA,UAAIV,QAAQ,CAACW,QAAT,KAAsBnE,SAAS,CAACoE,aAAV,CAAwBC,GAAlD,EAAuD;AACrD5C,QAAAA,OAAO,CAAC6C,IAAR,WAAgBvE,MAAM,CAACkE,MAAP,CAAcM,UAAd,CAAyBF,GAAzC,cAAgDb,QAAQ,CAACR,OAAzD;AACD,OAFD,MAEO;AACLvB,QAAAA,OAAO,CAAC6C,IAAR,WAAgBvE,MAAM,CAACkE,MAAP,CAAcM,UAAd,CAAyBjC,IAAzC,cAAiDkB,QAAjD,aAAiDA,QAAjD,uBAAiDA,QAAQ,CAAER,OAA3D;AACD;AACF;AACF,GAvBD;;AAyBA,sBACE;AAAA,2BACE,QAAC,QAAD;AAAU,MAAA,OAAO,EAAE7B,OAAnB;AAA4B,MAAA,SAAS,EAAEQ,OAAO,CAAC6C,GAA/C;AAAyE,0CAA2BzD,IAA3B,aAA2BA,IAA3B,uBAA2BA,IAAI,CAAEkC,QAAjC,CAAzE;AAAsH,MAAA,KAAK,MAA3H;AAAA,8BACE,QAAC,SAAD,kCAAe/B,WAAW,CAAC,UAAD,CAA1B;AAAwC,yCAAwBH,IAAxB,aAAwBA,IAAxB,uBAAwBA,IAAI,CAAEkC,QAA9B,CAAxC;AAAA,mBACGnB,WAAW,gBAAG,QAAC,qBAAD;AAAuB,UAAA,SAAS,EAAEH,OAAO,CAAC8C;AAA1C;AAAA;AAAA;AAAA;AAAA,gBAAH,GAAyD,IADvE,EAEGpC,kBAAkB,CAACtB,IAAD,CAAlB,GAA2BA,IAA3B,aAA2BA,IAA3B,uBAA2BA,IAAI,CAAEkC,QAAjC,gBAA4C,QAAC,IAAD;AAAM,UAAA,IAAI,YAAKlC,IAAL,aAAKA,IAAL,uBAAKA,IAAI,CAAEkC,QAAX,CAAV;AAAiC,UAAA,KAAK,EAAC,WAAvC;AAAmD,UAAA,OAAO,EAAEJ;AAA5D;AAAA;AAAA;AAAA;AAAA,gBAF/C;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAKE,QAAC,SAAD,kCAAe3B,WAAW,CAAC,MAAD,CAA1B;AAAoC,yCAAwBH,IAAxB,aAAwBA,IAAxB,uBAAwBA,IAAI,CAAE2D,UAA9B,CAApC;AAAA,+BACE,QAAC,IAAD;AAAM,UAAA,KAAK,EAAE3D,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAE2D,UAAnB;AAA+B,UAAA,IAAI,EAAC,OAApC;AAA4C,UAAA,IAAI,EAAEzC,SAAS,CAACV,KAAD,CAA3D;AAAoE,UAAA,OAAO,EAAC;AAA5E;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cALF,eAQE,QAAC,SAAD,kCAAeL,WAAW,CAAC,aAAD,CAA1B;AAA2C,yCAAwBH,IAAxB,aAAwBA,IAAxB,uBAAwBA,IAAI,CAAE4D,WAA9B,CAA3C;AAAA,kBACG5D,IADH,aACGA,IADH,uBACGA,IAAI,CAAE4D;AADT;AAAA;AAAA;AAAA;AAAA,cARF,eAWE,QAAC,SAAD,kCAAezD,WAAW,CAAC,MAAD,CAA1B;AAAoC,yCAAwBH,IAAxB,aAAwBA,IAAxB,uBAAwBA,IAAI,CAAE6D,IAA9B,CAApC;AAAA,kBACG7D,IADH,aACGA,IADH,uBACGA,IAAI,CAAE6D;AADT;AAAA;AAAA;AAAA;AAAA,cAXF,eAcE,QAAC,SAAD,kCAAe1D,WAAW,CAAC,YAAD,CAA1B;AAA0C,yCAAwBH,IAAxB,aAAwBA,IAAxB,uBAAwBA,IAAI,CAAEgD,UAA9B,CAA1C;AAAA,kBACGhD,IADH,aACGA,IADH,uBACGA,IAAI,CAAEgD;AADT;AAAA;AAAA;AAAA;AAAA,cAdF,eAiBE,QAAC,SAAD,kCAAe7C,WAAW,CAAC,aAAD,CAA1B;AAA2C,yCAAwBH,IAAxB,aAAwBA,IAAxB,uBAAwBA,IAAI,CAAE8D,WAA9B,CAA3C;AAAA,kBACGhF,KAAK,CAACiF,MAAN,CAAaC,CAAb,CAAe,aAAf,EAA8B;AAC7BC,UAAAA,KAAK,EAAE;AAAEC,YAAAA,IAAI,EAAElE,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAE8D,WAAd;AAA2BK,YAAAA,MAAM,EAAEnF,MAAM,CAACoF,EAAP,CAAUD,MAAV,CAAiBD,IAAjB,CAAsBG;AAAzD;AADsB,SAA9B;AADH;AAAA;AAAA;AAAA;AAAA,cAjBF,eAsBE,QAAC,SAAD,kCAAelE,WAAW,CAAC,YAAD,CAA1B;AAA0C,yCAAwBH,IAAxB,aAAwBA,IAAxB,uBAAwBA,IAAI,CAAEsE,aAA9B,CAA1C;AAAA,+BACE,QAAC,UAAD;AAAY,UAAA,OAAO,EAAC,OAApB;AAA4B,UAAA,KAAK,EAAC,OAAlC;AAAA,oBACGxF,KAAK,CAACiF,MAAN,CAAaC,CAAb,CAAe,aAAf,EAA8B;AAC7BC,YAAAA,KAAK,EAAE;AAAEC,cAAAA,IAAI,EAAElE,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEsE,aAAd;AAA6BH,cAAAA,MAAM,EAAEnF,MAAM,CAACoF,EAAP,CAAUD,MAAV,CAAiBD,IAAjB,CAAsBK;AAA3D;AADsB,WAA9B;AADH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAtBF,eA6BE,QAAC,SAAD,kCAAepE,WAAW,CAAC,UAAD,CAA1B;AAAwC,yCAAwBH,IAAxB,aAAwBA,IAAxB,uBAAwBA,IAAI,CAAEwE,QAA9B,CAAxC;AAAA,kBACGxE,IADH,aACGA,IADH,uBACGA,IAAI,CAAEwE;AADT;AAAA;AAAA;AAAA;AAAA,cA7BF,eAgCE,QAAC,SAAD,kCAAerE,WAAW,CAAC,QAAD,CAA1B;AAAsC,yCAAwBH,IAAxB,aAAwBA,IAAxB,uBAAwBA,IAAI,CAAE4B,MAA9B,CAAtC;AAAA,kBACG,CAAA5B,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAE4B,MAAN,kBACC,QAAC,MAAD;AACE,UAAA,IAAI,EAAC,IADP;AAEE,UAAA,IAAI,EAAE5B,IAAI,CAAC4B,MAFb;AAGE,UAAA,MAAM,EAAE5B,IAAI,CAAC4B,MAAL,KAAgB,UAAhB,GAA6B,SAA7B,GAAyC9C,KAAK,CAACiF,MAAN,CAAaU,gBAAb,CAA8BzE,IAAI,CAAC4B,MAAnC,EAA2C,UAA3C;AAHnD;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,cAhCF,eAyCE,QAAC,SAAD,kCAAezB,WAAW,CAAC,eAAD,CAA1B;AAA6C,yCAAwBH,IAAxB,aAAwBA,IAAxB,uBAAwBA,IAAI,CAAE0E,aAA9B,CAA7C;AAAA,kBACG1E,IADH,aACGA,IADH,uBACGA,IAAI,CAAE0E;AADT;AAAA;AAAA;AAAA;AAAA,cAzCF;AAAA,OAAyD1E,IAAzD,aAAyDA,IAAzD,uBAAyDA,IAAI,CAAEkC,QAA/D;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AAiDD;;GAzFepC,c;UACEf,U,EACCP,W,EAIJC,W,EACWA,W,EACEA,W;;;KARZqB,c","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n//app\r\nimport { TableCell, Status, Chip, Link } from 'components';\r\nimport * as utils from 'utils';\r\nimport { useHistory } from 'react-router';\r\nimport config from 'config';\r\nimport * as constants from 'consts';\r\n\r\n//mui\r\nimport styles from './ClaimActionTable.styles';\r\nimport { makeStyles, TableRow, Typography } from '@material-ui/core';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\n\r\nimport {\r\n  selectLossInformation,\r\n  selectClaimsInformation,\r\n  getSancCheckAssociatedTask,\r\n  checkIsUserClaim,\r\n  setClaimsProcessingTasksListSelected,\r\n  setClaimsFnolPushBackRoute,\r\n  selectUser,\r\n} from 'stores';\r\nClaimActionRow.prototype = {\r\n  data: PropTypes.array.isRequired,\r\n  columnProps: PropTypes.array.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  level: PropTypes.number.isRequired,\r\n};\r\n\r\nexport function ClaimActionRow({ data, columnProps, onClick, isOpen, level }) {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const classes = makeStyles(styles, { name: 'LossActionTable' })({ expanded: isOpen, level });\r\n  const hasChildren = data.actionChildItemList.length;\r\n  const chipColor = ['info', 'success', 'alert', 'error', 'light'];\r\n  const user = useSelector(selectUser);\r\n  const lossInformation = useSelector(selectLossInformation);\r\n  const claimsInformation = useSelector(selectClaimsInformation);\r\n\r\n  const isTaskLinkDisabled = (task = {}) => {\r\n    const automatedTasks = constants?.AUTOMATED_TASK_DEF_KEYS;\r\n    return automatedTasks?.includes(task?.taskDefKey) || task?.status === constants.TASK_TAB_COMPLETED_STATUS;\r\n  }; // automated BPM task does not need task dashboard Link and tasks handlers\r\n\r\n  const actionType = (event) => {\r\n    const additionalData = {\r\n      taskRef: data?.actionID,\r\n      lossDetailID: lossInformation?.lossDetailID,\r\n      lossRef: lossInformation?.lossRef,\r\n      departmentID: claimsInformation?.departmentID,\r\n      sourceID: claimsInformation?.sourceID,\r\n      processRef: claimsInformation?.claimReference,\r\n    };\r\n    const taskData = { ...data, ...additionalData };\r\n    if (taskData?.taskRef) {\r\n      event.stopPropagation();\r\n      taskData?.taskDefKey === constants.SANCTIONS_CHECK_KEY && dispatch(getSancCheckAssociatedTask(taskData?.parentTaskId));\r\n      const isUserClaim = user.fullName?.toLowerCase() === taskData?.assignedTo?.toLowerCase();\r\n      dispatch(checkIsUserClaim(isUserClaim));\r\n      dispatch(setClaimsProcessingTasksListSelected(taskData));\r\n      dispatch(setClaimsFnolPushBackRoute(constants.CLAIMS_FNOL_PUSH_BACK_ROUTES.routes.lossAndClaims));\r\n      if (taskData.taskType === constants.TASK_ROW_TYPE.rfi) {\r\n        history.push(`${config.routes.claimsFNOL.rfi}/${taskData.taskRef}`);\r\n      } else {\r\n        history.push(`${config.routes.claimsFNOL.task}/${taskData?.taskRef}`);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <TableRow onClick={onClick} className={classes.row} key={data?.actionID} data-testid={`search-row-${data?.actionID}`} hover>\r\n        <TableCell {...columnProps('actionId')} data-testid={`row-col-${data?.actionID}`}>\r\n          {hasChildren ? <KeyboardArrowDownIcon className={classes.arrow} /> : null}\r\n          {isTaskLinkDisabled(data) ? data?.actionID : <Link text={`${data?.actionID}`} color=\"secondary\" onClick={actionType} />}\r\n        </TableCell>\r\n        <TableCell {...columnProps('name')} data-testid={`row-col-${data?.actionName}`}>\r\n          <Chip label={data?.actionName} size=\"small\" type={chipColor[level]} variant=\"outlined\" />\r\n        </TableCell>\r\n        <TableCell {...columnProps('description')} data-testid={`row-col-${data?.description}`}>\r\n          {data?.description}\r\n        </TableCell>\r\n        <TableCell {...columnProps('team')} data-testid={`row-col-${data?.team}`}>\r\n          {data?.team}\r\n        </TableCell>\r\n        <TableCell {...columnProps('assignedTo')} data-testid={`row-col-${data?.assignedTo}`}>\r\n          {data?.assignedTo}\r\n        </TableCell>\r\n        <TableCell {...columnProps('createdDate')} data-testid={`row-col-${data?.dateCreated}`}>\r\n          {utils.string.t('format.date', {\r\n            value: { date: data?.dateCreated, format: config.ui.format.date.textTime },\r\n          })}\r\n        </TableCell>\r\n        <TableCell {...columnProps('targetDate')} data-testid={`row-col-${data?.targetDueDate}`}>\r\n          <Typography variant=\"body2\" color=\"error\">\r\n            {utils.string.t('format.date', {\r\n              value: { date: data?.targetDueDate, format: config.ui.format.date.text },\r\n            })}\r\n          </Typography>\r\n        </TableCell>\r\n        <TableCell {...columnProps('priority')} data-testid={`row-col-${data?.priority}`}>\r\n          {data?.priority}\r\n        </TableCell>\r\n        <TableCell {...columnProps('status')} data-testid={`row-col-${data?.status}`}>\r\n          {data?.status && (\r\n            <Status\r\n              size=\"sm\"\r\n              text={data.status}\r\n              status={data.status === 'Complete' ? 'success' : utils.string.replaceLowerCase(data.status, 'withDash')}\r\n            />\r\n          )}\r\n        </TableCell>\r\n        <TableCell {...columnProps('taskCompleted')} data-testid={`row-col-${data?.taskCompleted}`}>\r\n          {data?.taskCompleted}\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}