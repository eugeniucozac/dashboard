{"ast":null,"code":"import _toConsumableArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\forms\\\\DmsUploadFilesClient\\\\DmsUploadFilesClient.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types'; // app\n\nimport * as constants from 'consts';\nimport * as utils from 'utils';\nimport { DmsUploadFilesClientView } from './DmsUploadFilesClient.view';\nimport { hideModal, selectDmsClientSideUploadFiles, setDmsClientSideUploadedDocumentsName } from 'stores';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nDmsUploadFilesClient.propTypes = {\n  referenceId: PropTypes.string,\n  sourceId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  documentTypeKey: PropTypes.string\n};\nexport default function DmsUploadFilesClient(_ref) {\n  _s();\n\n  var referenceId = _ref.referenceId,\n      sourceId = _ref.sourceId,\n      documentTypeKey = _ref.documentTypeKey;\n  var dispatch = useDispatch();\n  var clientUploadedFiles = useSelector(selectDmsClientSideUploadFiles);\n  var linkedDocList = clientUploadedFiles === null || clientUploadedFiles === void 0 ? void 0 : clientUploadedFiles.linkedDocumentList;\n\n  var _useState = useState(constants.DMS_ATTACH_DOCS_TAB_DOCUMENT),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedTab = _useState2[0],\n      setSelectedTab = _useState2[1];\n\n  var tabs = [{\n    value: constants.DMS_ATTACH_DOCS_TAB_DOCUMENT,\n    label: utils.string.t('dms.attachDocuments.tabs.attachDocuments')\n  }, {\n    value: constants.DMS_ATTACH_DOCS_TAB_SEARCH,\n    label: utils.string.t('dms.attachDocuments.tabs.search')\n  }];\n\n  var selectTab = function selectTab(tabName) {\n    setSelectedTab(tabName);\n  };\n\n  var handleSave = function handleSave() {\n    var documentList = _toConsumableArray(clientUploadedFiles === null || clientUploadedFiles === void 0 ? void 0 : clientUploadedFiles.documentTableList);\n\n    var documentNameList = [];\n\n    if (!utils.generic.isInvalidOrEmptyArray(documentList)) {\n      documentNameList = documentList.map(function (doc) {\n        return doc === null || doc === void 0 ? void 0 : doc.documentName;\n      });\n    }\n\n    dispatch(setDmsClientSideUploadedDocumentsName({\n      documentNameList: documentNameList\n    }));\n    dispatch(hideModal('DMS_UPLOAD_FILES_CLIENT_SIDE'));\n  };\n\n  useEffect(function () {\n    setSelectedTab(constants.DMS_ATTACH_DOCS_TAB_DOCUMENT);\n  }, [linkedDocList]);\n  return /*#__PURE__*/_jsxDEV(DmsUploadFilesClientView, {\n    tabs: tabs,\n    selectedTab: selectedTab,\n    referenceId: referenceId,\n    sourceId: sourceId,\n    documentTypeKey: documentTypeKey,\n    handlers: {\n      selectTab: selectTab,\n      handleSave: handleSave\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DmsUploadFilesClient, \"tVY2QrVwYQsUZ+wNlnOhyqQzrUw=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = DmsUploadFilesClient;\n\nvar _c;\n\n$RefreshReg$(_c, \"DmsUploadFilesClient\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/forms/DmsUploadFilesClient/DmsUploadFilesClient.js"],"names":["useState","useEffect","useDispatch","useSelector","PropTypes","constants","utils","DmsUploadFilesClientView","hideModal","selectDmsClientSideUploadFiles","setDmsClientSideUploadedDocumentsName","DmsUploadFilesClient","propTypes","referenceId","string","sourceId","oneOfType","number","documentTypeKey","dispatch","clientUploadedFiles","linkedDocList","linkedDocumentList","DMS_ATTACH_DOCS_TAB_DOCUMENT","selectedTab","setSelectedTab","tabs","value","label","t","DMS_ATTACH_DOCS_TAB_SEARCH","selectTab","tabName","handleSave","documentList","documentTableList","documentNameList","generic","isInvalidOrEmptyArray","map","doc","documentName"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\n// app\r\nimport * as constants from 'consts';\r\nimport * as utils from 'utils';\r\nimport { DmsUploadFilesClientView } from './DmsUploadFilesClient.view';\r\nimport { hideModal, selectDmsClientSideUploadFiles, setDmsClientSideUploadedDocumentsName } from 'stores';\r\n\r\nDmsUploadFilesClient.propTypes = {\r\n  referenceId: PropTypes.string,\r\n  sourceId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  documentTypeKey: PropTypes.string,\r\n};\r\n\r\nexport default function DmsUploadFilesClient({ referenceId, sourceId, documentTypeKey }) {\r\n  const dispatch = useDispatch();\r\n  const clientUploadedFiles = useSelector(selectDmsClientSideUploadFiles);\r\n  const linkedDocList = clientUploadedFiles?.linkedDocumentList;\r\n\r\n  const [selectedTab, setSelectedTab] = useState(constants.DMS_ATTACH_DOCS_TAB_DOCUMENT);\r\n\r\n  const tabs = [\r\n    {\r\n      value: constants.DMS_ATTACH_DOCS_TAB_DOCUMENT,\r\n      label: utils.string.t('dms.attachDocuments.tabs.attachDocuments'),\r\n    },\r\n    {\r\n      value: constants.DMS_ATTACH_DOCS_TAB_SEARCH,\r\n      label: utils.string.t('dms.attachDocuments.tabs.search'),\r\n    },\r\n  ];\r\n\r\n  const selectTab = (tabName) => {\r\n    setSelectedTab(tabName);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    let documentList = [...clientUploadedFiles?.documentTableList];\r\n    let documentNameList = [];\r\n    if (!utils.generic.isInvalidOrEmptyArray(documentList)) {\r\n      documentNameList = documentList.map((doc) => doc?.documentName);\r\n    }\r\n    dispatch(setDmsClientSideUploadedDocumentsName({ documentNameList: documentNameList }));\r\n    dispatch(hideModal('DMS_UPLOAD_FILES_CLIENT_SIDE'));\r\n  };\r\n\r\n  useEffect(() => {\r\n    setSelectedTab(constants.DMS_ATTACH_DOCS_TAB_DOCUMENT);\r\n  }, [linkedDocList]);\r\n\r\n  return (\r\n    <DmsUploadFilesClientView\r\n      tabs={tabs}\r\n      selectedTab={selectedTab}\r\n      referenceId={referenceId}\r\n      sourceId={sourceId}\r\n      documentTypeKey={documentTypeKey}\r\n      handlers={{ selectTab, handleSave }}\r\n    />\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}