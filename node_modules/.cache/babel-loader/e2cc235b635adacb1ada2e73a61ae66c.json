{"ast":null,"code":"import \"core-js/modules/es.string.match\";\nimport _toConsumableArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\pages\\\\Department\\\\Department.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport { Helmet } from 'react-helmet';\nimport toNumber from 'lodash/toNumber';\nimport get from 'lodash/get'; // app\n\nimport { DepartmentView } from './Department.view';\nimport { selectUserDepartmentIds, selectRefDataDepartments, selectIsBroker, selectIsCobroker } from 'stores';\nimport * as utils from 'utils';\nimport config from 'config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Department(_ref) {\n  _s();\n\n  var match = _ref.match;\n  var history = useHistory();\n\n  var _useState = useState('renewals'),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedTab = _useState2[0],\n      setSelectedTab = _useState2[1];\n\n  var placement = useSelector(function (state) {\n    return get(state, 'placement');\n  });\n  var placementSelected = useSelector(function (state) {\n    return get(state, 'placement.selected');\n  });\n  var uiBrand = useSelector(function (state) {\n    return get(state, 'ui.brand');\n  });\n  var uiLoaderQueue = useSelector(function (state) {\n    return get(state, 'ui.loader.queue', []);\n  });\n  var userIsBroker = useSelector(selectIsBroker);\n  var userIsCoBroker = useSelector(selectIsCobroker);\n  var userDepartmentIds = useSelector(selectUserDepartmentIds);\n  var refDataDepartments = useSelector(selectRefDataDepartments);\n  var urlDepartment = utils.referenceData.departments.getById(refDataDepartments, toNumber(get(match, 'params.id'))) || {};\n  var urlDepartmentId = toNumber(get(match, 'params.id'));\n  var urlDepartmentName = urlDepartment.name;\n  useEffect(function () {\n    // redirect /home if requested deptId isn't available to this user\n    if (!userDepartmentIds.includes(urlDepartmentId)) {\n      history.replace(config.routes.home.root);\n    }\n  }, [] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  var handleSelectTab = function handleSelectTab(tabName) {\n    setSelectedTab(tabName);\n  };\n\n  var tabs = [{\n    value: 'renewals',\n    label: userIsBroker && utils.string.t('department.titlePlacements') || userIsCoBroker && utils.string.t('department.titleAccounts')\n  }].concat(_toConsumableArray(userIsBroker ? [{\n    value: 'markets',\n    label: utils.string.t('app.market_plural')\n  }] : [])); // abort\n\n  if (!urlDepartmentId || !urlDepartmentName) return null;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"\".concat(userIsBroker && utils.string.t('department.titlePlacements') || userIsCoBroker && utils.string.t('department.titleAccounts'), \" \").concat(urlDepartmentName ? \"- \".concat(urlDepartmentName) : '', \" - \").concat(utils.app.getAppName(uiBrand))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DepartmentView, {\n      isBroker: userIsBroker,\n      tabs: tabs,\n      selectedTab: selectedTab,\n      placement: placement,\n      placementSelected: placementSelected,\n      hasLoader: uiLoaderQueue.length > 0,\n      handlers: {\n        handleSelectTab: handleSelectTab\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Department, \"MqLx2A5VG+ZsZ2gDxGDlUDeXDuM=\", false, function () {\n  return [useHistory, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = Department;\nDepartment.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [],\n  \"displayName\": \"Department\"\n};\n\nif (typeof STORYBOOK_REACT_CLASSES !== \"undefined\") {\n  STORYBOOK_REACT_CLASSES[\"src\\\\pages\\\\Department\\\\Department.js\"] = {\n    name: \"Department\",\n    docgenInfo: Department.__docgenInfo,\n    path: \"src\\\\pages\\\\Department\\\\Department.js\"\n  };\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Department\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/pages/Department/Department.js"],"names":["React","useEffect","useState","useSelector","useHistory","Helmet","toNumber","get","DepartmentView","selectUserDepartmentIds","selectRefDataDepartments","selectIsBroker","selectIsCobroker","utils","config","Department","match","history","selectedTab","setSelectedTab","placement","state","placementSelected","uiBrand","uiLoaderQueue","userIsBroker","userIsCoBroker","userDepartmentIds","refDataDepartments","urlDepartment","referenceData","departments","getById","urlDepartmentId","urlDepartmentName","name","includes","replace","routes","home","root","handleSelectTab","tabName","tabs","value","label","string","t","app","getAppName","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\nimport { Helmet } from 'react-helmet';\r\nimport toNumber from 'lodash/toNumber';\r\nimport get from 'lodash/get';\r\n\r\n// app\r\nimport { DepartmentView } from './Department.view';\r\nimport { selectUserDepartmentIds, selectRefDataDepartments, selectIsBroker, selectIsCobroker } from 'stores';\r\nimport * as utils from 'utils';\r\nimport config from 'config';\r\n\r\nexport default function Department({ match }) {\r\n  const history = useHistory();\r\n\r\n  const [selectedTab, setSelectedTab] = useState('renewals');\r\n\r\n  const placement = useSelector((state) => get(state, 'placement'));\r\n  const placementSelected = useSelector((state) => get(state, 'placement.selected'));\r\n  const uiBrand = useSelector((state) => get(state, 'ui.brand'));\r\n  const uiLoaderQueue = useSelector((state) => get(state, 'ui.loader.queue', []));\r\n  const userIsBroker = useSelector(selectIsBroker);\r\n  const userIsCoBroker = useSelector(selectIsCobroker);\r\n  const userDepartmentIds = useSelector(selectUserDepartmentIds);\r\n  const refDataDepartments = useSelector(selectRefDataDepartments);\r\n\r\n  const urlDepartment = utils.referenceData.departments.getById(refDataDepartments, toNumber(get(match, 'params.id'))) || {};\r\n  const urlDepartmentId = toNumber(get(match, 'params.id'));\r\n  const urlDepartmentName = urlDepartment.name;\r\n\r\n  useEffect(\r\n    () => {\r\n      // redirect /home if requested deptId isn't available to this user\r\n      if (!userDepartmentIds.includes(urlDepartmentId)) {\r\n        history.replace(config.routes.home.root);\r\n      }\r\n    },\r\n    [] // eslint-disable-line react-hooks/exhaustive-deps\r\n  );\r\n\r\n  const handleSelectTab = (tabName) => {\r\n    setSelectedTab(tabName);\r\n  };\r\n\r\n  const tabs = [\r\n    {\r\n      value: 'renewals',\r\n      label:\r\n        (userIsBroker && utils.string.t('department.titlePlacements')) || (userIsCoBroker && utils.string.t('department.titleAccounts')),\r\n    },\r\n    ...(userIsBroker ? [{ value: 'markets', label: utils.string.t('app.market_plural') }] : []),\r\n  ];\r\n\r\n  // abort\r\n  if (!urlDepartmentId || !urlDepartmentName) return null;\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{`${\r\n          (userIsBroker && utils.string.t('department.titlePlacements')) || (userIsCoBroker && utils.string.t('department.titleAccounts'))\r\n        } ${urlDepartmentName ? `- ${urlDepartmentName}` : ''} - ${utils.app.getAppName(uiBrand)}`}</title>\r\n      </Helmet>\r\n\r\n      <DepartmentView\r\n        isBroker={userIsBroker}\r\n        tabs={tabs}\r\n        selectedTab={selectedTab}\r\n        placement={placement}\r\n        placementSelected={placementSelected}\r\n        hasLoader={uiLoaderQueue.length > 0}\r\n        handlers={{\r\n          handleSelectTab: handleSelectTab,\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}