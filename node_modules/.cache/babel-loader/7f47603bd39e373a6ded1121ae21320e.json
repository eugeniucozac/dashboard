{"ast":null,"code":"import _defineProperty from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"E:/MPHASIS/claims-page/Mphasis-Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nvar _jsxFileName = \"E:\\\\MPHASIS\\\\claims-page\\\\Mphasis-Edge\\\\src\\\\components\\\\LazyLoadingList\\\\LazyLoadingList.view.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup'; // app\n\nimport styles from './LazyLoadingList.styles';\nimport * as utils from 'utils';\nimport { Button, FormContainer, FormText, Warning } from 'components'; // mui\n\nimport { Box, Checkbox, Collapse, Fade, InputAdornment, List, ListItem, ListItemIcon, ListItemText, makeStyles } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport SearchIcon from '@material-ui/icons/Search';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nLazyLoadingListView.propTypes = {\n  field: PropTypes.object.isRequired,\n  query: PropTypes.string,\n  options: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    name: PropTypes.string.isRequired\n  })).isRequired,\n  height: PropTypes.number,\n  selectedItems: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    name: PropTypes.string.isRequired\n  })).isRequired,\n  max: PropTypes.number,\n  labels: PropTypes.shape({\n    maxReached: PropTypes.string\n  }),\n  isDataLoading: PropTypes.bool,\n  isDataLoadingError: PropTypes.bool,\n  handlers: PropTypes.shape({\n    onClear: PropTypes.func.isRequired,\n    onToggleOption: PropTypes.func.isRequired\n  })\n};\nexport function LazyLoadingListView(_ref) {\n  _s();\n\n  var _this = this;\n\n  var id = _ref.id,\n      field = _ref.field,\n      query = _ref.query,\n      options = _ref.options,\n      selectedItems = _ref.selectedItems,\n      max = _ref.max,\n      labels = _ref.labels,\n      lastElementReference = _ref.lastElementReference,\n      search = _ref.search,\n      height = _ref.height,\n      isDataLoading = _ref.isDataLoading,\n      isDataLoadingError = _ref.isDataLoadingError,\n      handlers = _ref.handlers;\n  var classes = makeStyles(styles, {\n    name: 'LazyLoadingList'\n  })();\n  var validationSchema = utils.form.getValidationSchema([field]);\n\n  var _useForm = useForm(_objectSpread({}, validationSchema && {\n    resolver: yupResolver(validationSchema)\n  })),\n      control = _useForm.control,\n      reset = _useForm.reset,\n      handleSubmit = _useForm.handleSubmit;\n\n  var ClearBtn = /*#__PURE__*/_jsxDEV(Button, {\n    size: \"small\",\n    variant: \"text\",\n    icon: CloseIcon,\n    onClick: handlers.onClear(reset),\n    nestedClasses: {\n      btn: classes.clearBtn\n    },\n    \"data-testid\": \"lazy-select-clear-\".concat(id)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n\n  var valuesIds = selectedItems.map(function (v) {\n    return v.id;\n  });\n  var isMaxReached = Boolean(max && (selectedItems === null || selectedItems === void 0 ? void 0 : selectedItems.length) >= max);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    className: classes.root,\n    children: [!utils.generic.isValidArray(options) && /*#__PURE__*/_jsxDEV(Box, {\n      className: classes.linearProgressSection,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        className: classes.loadingListItem,\n        children: 'No Data'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }, this), search && /*#__PURE__*/_jsxDEV(FormContainer, {\n      onSubmit: handleSubmit(handlers.onSearch),\n      nestedClasses: {\n        root: classes.form\n      },\n      children: /*#__PURE__*/_jsxDEV(FormText, _objectSpread(_objectSpread({}, field), {}, {\n        control: control,\n        muiComponentProps: _objectSpread(_objectSpread({}, field.muiComponentProps), {}, {\n          fullWidth: true,\n          classes: {\n            root: classnames(_defineProperty({}, classes.input, true))\n          },\n          InputProps: {\n            startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n              position: \"start\",\n              classes: {\n                root: classes.adornmentStart\n              },\n              children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 37\n            }, this),\n            endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n              position: \"end\",\n              classes: {\n                root: classes.adornmentEnd\n              },\n              children: query ? ClearBtn : /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 61\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 37\n            }, this)\n          }\n        })\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }, this), Boolean(max) && /*#__PURE__*/_jsxDEV(Collapse, {\n      in: isMaxReached,\n      children: /*#__PURE__*/_jsxDEV(Fade, {\n        in: isMaxReached,\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          mt: 1,\n          mb: 1,\n          children: /*#__PURE__*/_jsxDEV(Warning, {\n            type: \"info\",\n            icon: true,\n            text: labels.maxReached || utils.string.t('filters.multiSelect.maxReached', {\n              max: max\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      dense: true,\n      className: classes.list,\n      children: [utils.generic.isValidArray(options, true) && (options === null || options === void 0 ? void 0 : options.map(function (option, index) {\n        var labelId = \"multi-select-checkbox-list-label-\".concat(option.id);\n        var isSelected = valuesIds.includes(option.id);\n\n        if (options.length === index + 1) {\n          return /*#__PURE__*/_jsxDEV(ListItem, {\n            button: true,\n            onClick: function onClick() {\n              handlers.onToggleOption(option);\n            },\n            disabled: isMaxReached && !isSelected,\n            classes: {\n              root: classes.listItem\n            },\n            ref: lastElementReference,\n            children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n              classes: {\n                root: classes.listItemIcon\n              },\n              children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                checked: isSelected,\n                color: \"primary\",\n                tabIndex: -1,\n                disableRipple: true,\n                disabled: isMaxReached && !isSelected,\n                inputProps: {\n                  'aria-labelledby': labelId\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 37\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 33\n            }, _this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              id: labelId,\n              primary: option.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 33\n            }, _this)]\n          }, option.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 29\n          }, _this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(ListItem, {\n            button: true,\n            onClick: function onClick() {\n              handlers.onToggleOption(option);\n            },\n            disabled: isMaxReached && !isSelected,\n            classes: {\n              root: classes.listItem\n            },\n            children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n              classes: {\n                root: classes.listItemIcon\n              },\n              children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                checked: isSelected,\n                color: \"primary\",\n                tabIndex: -1,\n                disableRipple: true,\n                disabled: isMaxReached && !isSelected,\n                inputProps: {\n                  'aria-labelledby': labelId\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 33\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              id: labelId,\n              primary: option.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 29\n            }, _this)]\n          }, option.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 33\n          }, _this);\n        }\n      })), isDataLoading && /*#__PURE__*/_jsxDEV(Box, {\n        className: classes.linearProgressSection,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          className: classes.loadingListItem,\n          children: 'Loading...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n          color: \"secondary\",\n          className: classes.linearProgress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 21\n      }, this), isDataLoadingError && /*#__PURE__*/_jsxDEV(ListItem, {\n        classes: {\n          root: classes.listItem\n        },\n        button: true,\n        children: /*#__PURE__*/_jsxDEV(ListItemText, {\n          button: true,\n          id: 'error',\n          primary: 'Error'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}\n\n_s(LazyLoadingListView, \"+CUrQEjn3dm1598y2Y/Mnk6iMhI=\", false, function () {\n  return [useForm];\n});\n\n_c = LazyLoadingListView;\n\nvar _c;\n\n$RefreshReg$(_c, \"LazyLoadingListView\");","map":{"version":3,"sources":["E:/MPHASIS/claims-page/Mphasis-Edge/src/components/LazyLoadingList/LazyLoadingList.view.js"],"names":["React","PropTypes","classnames","useForm","yupResolver","styles","utils","Button","FormContainer","FormText","Warning","Box","Checkbox","Collapse","Fade","InputAdornment","List","ListItem","ListItemIcon","ListItemText","makeStyles","CloseIcon","SearchIcon","LinearProgress","LazyLoadingListView","propTypes","field","object","isRequired","query","string","options","arrayOf","shape","id","oneOfType","number","name","height","selectedItems","max","labels","maxReached","isDataLoading","bool","isDataLoadingError","handlers","onClear","func","onToggleOption","lastElementReference","search","classes","validationSchema","form","getValidationSchema","resolver","control","reset","handleSubmit","ClearBtn","btn","clearBtn","valuesIds","map","v","isMaxReached","Boolean","length","root","generic","isValidArray","linearProgressSection","loadingListItem","onSearch","muiComponentProps","fullWidth","input","InputProps","startAdornment","adornmentStart","endAdornment","adornmentEnd","t","list","option","index","labelId","isSelected","includes","listItem","listItemIcon","linearProgress"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport { useForm } from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\n\r\n// app\r\nimport styles from './LazyLoadingList.styles';\r\nimport * as utils from 'utils';\r\nimport { Button, FormContainer, FormText, Warning } from 'components';\r\n\r\n// mui\r\nimport { Box, Checkbox, Collapse, Fade, InputAdornment, List, ListItem, ListItemIcon, ListItemText, makeStyles } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nLazyLoadingListView.propTypes = {\r\n    field: PropTypes.object.isRequired,\r\n    query: PropTypes.string,\r\n    options: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n            name: PropTypes.string.isRequired,\r\n        })\r\n    ).isRequired,\r\n    height: PropTypes.number,\r\n    selectedItems: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n            name: PropTypes.string.isRequired,\r\n        })\r\n    ).isRequired,\r\n    max: PropTypes.number,\r\n    labels: PropTypes.shape({\r\n        maxReached: PropTypes.string,\r\n    }),\r\n    isDataLoading: PropTypes.bool,\r\n    isDataLoadingError: PropTypes.bool,\r\n    handlers: PropTypes.shape({\r\n        onClear: PropTypes.func.isRequired,\r\n        onToggleOption: PropTypes.func.isRequired,\r\n    }),\r\n\r\n};\r\n\r\nexport function LazyLoadingListView({ id, field, query, options, selectedItems, max, labels, lastElementReference, search, height, isDataLoading, isDataLoadingError, handlers }) {\r\n    const classes = makeStyles(styles, { name: 'LazyLoadingList' })();\r\n\r\n    const validationSchema = utils.form.getValidationSchema([field]);\r\n    const { control, reset, handleSubmit } = useForm({\r\n        ...(validationSchema && { resolver: yupResolver(validationSchema) }),\r\n    });\r\n\r\n    const ClearBtn = (\r\n        <Button\r\n            size=\"small\"\r\n            variant=\"text\"\r\n            icon={CloseIcon}\r\n            onClick={handlers.onClear(reset)}\r\n            nestedClasses={{ btn: classes.clearBtn }}\r\n            data-testid={`lazy-select-clear-${id}`}\r\n        />\r\n    );\r\n    const valuesIds = selectedItems.map((v) => v.id);\r\n    const isMaxReached = Boolean(max && selectedItems?.length >= max);\r\n\r\n    return (\r\n        <Box className={classes.root} >\r\n            {!utils.generic.isValidArray(options) &&\r\n                <Box className={classes.linearProgressSection}>\r\n                    <Box className={classes.loadingListItem} >\r\n                        {'No Data'}\r\n                    </Box>\r\n                </Box>\r\n            }\r\n            {search && (\r\n                <FormContainer\r\n                    onSubmit={handleSubmit(handlers.onSearch)}\r\n                    nestedClasses={{ root: classes.form }}\r\n                >\r\n                    <FormText\r\n                        {...field}\r\n                        control={control}\r\n                        muiComponentProps={{\r\n                            ...field.muiComponentProps,\r\n                            fullWidth: true,\r\n                            classes: {\r\n                                root: classnames({\r\n                                    [classes.input]: true,\r\n                                }),\r\n                            },\r\n                            InputProps: {\r\n                                startAdornment: (\r\n                                    <InputAdornment position=\"start\" classes={{ root: classes.adornmentStart }}>\r\n                                        <SearchIcon />\r\n                                    </InputAdornment>\r\n                                ),\r\n                                endAdornment: (\r\n                                    <InputAdornment position=\"end\" classes={{ root: classes.adornmentEnd }}>\r\n                                        {query ? ClearBtn : <span />}\r\n                                    </InputAdornment>\r\n                                ),\r\n                            },\r\n                        }}\r\n                    />\r\n                </FormContainer>\r\n            )}\r\n            {Boolean(max) && (\r\n                <Collapse in={isMaxReached}>\r\n                    <Fade in={isMaxReached}>\r\n                        <Box mt={1} mb={1}>\r\n                            <Warning type=\"info\" icon text={labels.maxReached || utils.string.t('filters.multiSelect.maxReached', { max })} />\r\n                        </Box>\r\n                    </Fade>\r\n                </Collapse>\r\n            )}\r\n\r\n            <List dense className={classes.list}>\r\n                {utils.generic.isValidArray(options, true) && options?.map((option, index) => {\r\n                    const labelId = `multi-select-checkbox-list-label-${option.id}`;\r\n                    const isSelected = valuesIds.includes(option.id);\r\n\r\n                    if (options.length === index + 1) {\r\n                        return (\r\n                            <ListItem\r\n                                key={option.id}\r\n                                button\r\n                                onClick={() => {\r\n                                    handlers.onToggleOption(option);\r\n                                }}\r\n                                disabled={isMaxReached && !isSelected}\r\n                                classes={{ root: classes.listItem }}\r\n                                ref={lastElementReference}\r\n                            >\r\n                                <ListItemIcon classes={{ root: classes.listItemIcon }}>\r\n                                    <Checkbox\r\n                                        checked={isSelected}\r\n                                        color=\"primary\"\r\n                                        tabIndex={-1}\r\n                                        disableRipple\r\n                                        disabled={isMaxReached && !isSelected}\r\n                                        inputProps={{ 'aria-labelledby': labelId }}\r\n                                    />\r\n                                </ListItemIcon>\r\n                                <ListItemText id={labelId} primary={option.name} />\r\n                            </ListItem>\r\n                        );\r\n                    } else {\r\n                        return (<ListItem\r\n                            key={option.id}\r\n                            button\r\n                            onClick={() => {\r\n                                handlers.onToggleOption(option);\r\n                            }}\r\n                            disabled={isMaxReached && !isSelected}\r\n                            classes={{ root: classes.listItem }}\r\n                        >\r\n                            <ListItemIcon classes={{ root: classes.listItemIcon }}>\r\n                                <Checkbox\r\n                                    checked={isSelected}\r\n                                    color=\"primary\"\r\n                                    tabIndex={-1}\r\n                                    disableRipple\r\n                                    disabled={isMaxReached && !isSelected}\r\n                                    inputProps={{ 'aria-labelledby': labelId }}\r\n                                />\r\n                            </ListItemIcon>\r\n                            <ListItemText id={labelId} primary={option.name} />\r\n                        </ListItem>)\r\n                    }\r\n                })}\r\n                {/* {\r\n                    isDataLoading &&\r\n                    <ListItem classes={{ root: classes.listItem }} button>\r\n                        <ListItemText id={'loading'} primary={<Skeleton displayNumber={5} height={20} />} />\r\n                    </ListItem>\r\n                } */}\r\n                {\r\n                    isDataLoading &&\r\n                    <Box className={classes.linearProgressSection}>\r\n                        <Box className={classes.loadingListItem} >\r\n                            {'Loading...'}\r\n                        </Box>\r\n                        <LinearProgress color=\"secondary\" className={classes.linearProgress} />\r\n                    </Box>\r\n                }\r\n                {isDataLoadingError &&\r\n                    <ListItem classes={{ root: classes.listItem }} button>\r\n                        <ListItemText button id={'error'} primary={'Error'} />\r\n                    </ListItem>\r\n                }\r\n            </List>\r\n        </Box>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}